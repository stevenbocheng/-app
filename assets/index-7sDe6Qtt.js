(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&o(s)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();function Ug(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Lf={exports:{}},Gi={},Uf={exports:{}},W={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rr=Symbol.for("react.element"),Fg=Symbol.for("react.portal"),bg=Symbol.for("react.fragment"),Vg=Symbol.for("react.strict_mode"),Gg=Symbol.for("react.profiler"),Hg=Symbol.for("react.provider"),Bg=Symbol.for("react.context"),zg=Symbol.for("react.forward_ref"),qg=Symbol.for("react.suspense"),Og=Symbol.for("react.memo"),$g=Symbol.for("react.lazy"),xu=Symbol.iterator;function Jg(e){return e===null||typeof e!="object"?null:(e=xu&&e[xu]||e["@@iterator"],typeof e=="function"?e:null)}var Ff={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},bf=Object.assign,Vf={};function so(e,t,n){this.props=e,this.context=t,this.refs=Vf,this.updater=n||Ff}so.prototype.isReactComponent={};so.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};so.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Gf(){}Gf.prototype=so.prototype;function ia(e,t,n){this.props=e,this.context=t,this.refs=Vf,this.updater=n||Ff}var sa=ia.prototype=new Gf;sa.constructor=ia;bf(sa,so.prototype);sa.isPureReactComponent=!0;var Su=Array.isArray,Hf=Object.prototype.hasOwnProperty,la={current:null},Bf={key:!0,ref:!0,__self:!0,__source:!0};function zf(e,t,n){var o,r={},i=null,s=null;if(t!=null)for(o in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(i=""+t.key),t)Hf.call(t,o)&&!Bf.hasOwnProperty(o)&&(r[o]=t[o]);var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){for(var d=Array(u),c=0;c<u;c++)d[c]=arguments[c+2];r.children=d}if(e&&e.defaultProps)for(o in u=e.defaultProps,u)r[o]===void 0&&(r[o]=u[o]);return{$$typeof:rr,type:e,key:i,ref:s,props:r,_owner:la.current}}function Wg(e,t){return{$$typeof:rr,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function aa(e){return typeof e=="object"&&e!==null&&e.$$typeof===rr}function Kg(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Eu=/\/+/g;function ys(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Kg(""+e.key):t.toString(36)}function Gr(e,t,n,o,r){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case rr:case Fg:s=!0}}if(s)return s=e,r=r(s),e=o===""?"."+ys(s,0):o,Su(r)?(n="",e!=null&&(n=e.replace(Eu,"$&/")+"/"),Gr(r,t,n,"",function(c){return c})):r!=null&&(aa(r)&&(r=Wg(r,n+(!r.key||s&&s.key===r.key?"":(""+r.key).replace(Eu,"$&/")+"/")+e)),t.push(r)),1;if(s=0,o=o===""?".":o+":",Su(e))for(var u=0;u<e.length;u++){i=e[u];var d=o+ys(i,u);s+=Gr(i,t,n,d,r)}else if(d=Jg(e),typeof d=="function")for(e=d.call(e),u=0;!(i=e.next()).done;)i=i.value,d=o+ys(i,u++),s+=Gr(i,t,n,d,r);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function gr(e,t,n){if(e==null)return e;var o=[],r=0;return Gr(e,o,"","",function(i){return t.call(n,i,r++)}),o}function Yg(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var De={current:null},Hr={transition:null},Qg={ReactCurrentDispatcher:De,ReactCurrentBatchConfig:Hr,ReactCurrentOwner:la};function qf(){throw Error("act(...) is not supported in production builds of React.")}W.Children={map:gr,forEach:function(e,t,n){gr(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return gr(e,function(){t++}),t},toArray:function(e){return gr(e,function(t){return t})||[]},only:function(e){if(!aa(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};W.Component=so;W.Fragment=bg;W.Profiler=Gg;W.PureComponent=ia;W.StrictMode=Vg;W.Suspense=qg;W.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Qg;W.act=qf;W.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var o=bf({},e.props),r=e.key,i=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,s=la.current),t.key!==void 0&&(r=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(d in t)Hf.call(t,d)&&!Bf.hasOwnProperty(d)&&(o[d]=t[d]===void 0&&u!==void 0?u[d]:t[d])}var d=arguments.length-2;if(d===1)o.children=n;else if(1<d){u=Array(d);for(var c=0;c<d;c++)u[c]=arguments[c+2];o.children=u}return{$$typeof:rr,type:e.type,key:r,ref:i,props:o,_owner:s}};W.createContext=function(e){return e={$$typeof:Bg,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Hg,_context:e},e.Consumer=e};W.createElement=zf;W.createFactory=function(e){var t=zf.bind(null,e);return t.type=e,t};W.createRef=function(){return{current:null}};W.forwardRef=function(e){return{$$typeof:zg,render:e}};W.isValidElement=aa;W.lazy=function(e){return{$$typeof:$g,_payload:{_status:-1,_result:e},_init:Yg}};W.memo=function(e,t){return{$$typeof:Og,type:e,compare:t===void 0?null:t}};W.startTransition=function(e){var t=Hr.transition;Hr.transition={};try{e()}finally{Hr.transition=t}};W.unstable_act=qf;W.useCallback=function(e,t){return De.current.useCallback(e,t)};W.useContext=function(e){return De.current.useContext(e)};W.useDebugValue=function(){};W.useDeferredValue=function(e){return De.current.useDeferredValue(e)};W.useEffect=function(e,t){return De.current.useEffect(e,t)};W.useId=function(){return De.current.useId()};W.useImperativeHandle=function(e,t,n){return De.current.useImperativeHandle(e,t,n)};W.useInsertionEffect=function(e,t){return De.current.useInsertionEffect(e,t)};W.useLayoutEffect=function(e,t){return De.current.useLayoutEffect(e,t)};W.useMemo=function(e,t){return De.current.useMemo(e,t)};W.useReducer=function(e,t,n){return De.current.useReducer(e,t,n)};W.useRef=function(e){return De.current.useRef(e)};W.useState=function(e){return De.current.useState(e)};W.useSyncExternalStore=function(e,t,n){return De.current.useSyncExternalStore(e,t,n)};W.useTransition=function(){return De.current.useTransition()};W.version="18.3.1";Uf.exports=W;var b=Uf.exports;const Xg=Ug(b);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zg=b,jg=Symbol.for("react.element"),e0=Symbol.for("react.fragment"),t0=Object.prototype.hasOwnProperty,n0=Zg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o0={key:!0,ref:!0,__self:!0,__source:!0};function Of(e,t,n){var o,r={},i=null,s=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(s=t.ref);for(o in t)t0.call(t,o)&&!o0.hasOwnProperty(o)&&(r[o]=t[o]);if(e&&e.defaultProps)for(o in t=e.defaultProps,t)r[o]===void 0&&(r[o]=t[o]);return{$$typeof:jg,type:e,key:i,ref:s,props:r,_owner:n0.current}}Gi.Fragment=e0;Gi.jsx=Of;Gi.jsxs=Of;Lf.exports=Gi;var m=Lf.exports,Ks={},$f={exports:{}},Ye={},Jf={exports:{}},Wf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(D,B){var q=D.length;D.push(B);e:for(;0<q;){var K=q-1>>>1,j=D[K];if(0<r(j,B))D[K]=B,D[q]=j,q=K;else break e}}function n(D){return D.length===0?null:D[0]}function o(D){if(D.length===0)return null;var B=D[0],q=D.pop();if(q!==B){D[0]=q;e:for(var K=0,j=D.length,it=j>>>1;K<it;){var Ae=2*(K+1)-1,st=D[Ae],vt=Ae+1,an=D[vt];if(0>r(st,q))vt<j&&0>r(an,st)?(D[K]=an,D[vt]=q,K=vt):(D[K]=st,D[Ae]=q,K=Ae);else if(vt<j&&0>r(an,q))D[K]=an,D[vt]=q,K=vt;else break e}}return B}function r(D,B){var q=D.sortIndex-B.sortIndex;return q!==0?q:D.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var s=Date,u=s.now();e.unstable_now=function(){return s.now()-u}}var d=[],c=[],f=1,p=null,h=3,g=!1,y=!1,T=!1,x=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(D){for(var B=n(c);B!==null;){if(B.callback===null)o(c);else if(B.startTime<=D)o(c),B.sortIndex=B.expirationTime,t(d,B);else break;B=n(c)}}function C(D){if(T=!1,E(D),!y)if(n(d)!==null)y=!0,X(w);else{var B=n(c);B!==null&&ze(C,B.startTime-D)}}function w(D,B){y=!1,T&&(T=!1,v(P),P=-1),g=!0;var q=h;try{for(E(B),p=n(d);p!==null&&(!(p.expirationTime>B)||D&&!A());){var K=p.callback;if(typeof K=="function"){p.callback=null,h=p.priorityLevel;var j=K(p.expirationTime<=B);B=e.unstable_now(),typeof j=="function"?p.callback=j:p===n(d)&&o(d),E(B)}else o(d);p=n(d)}if(p!==null)var it=!0;else{var Ae=n(c);Ae!==null&&ze(C,Ae.startTime-B),it=!1}return it}finally{p=null,h=q,g=!1}}var N=!1,I=null,P=-1,M=5,k=-1;function A(){return!(e.unstable_now()-k<M)}function O(){if(I!==null){var D=e.unstable_now();k=D;var B=!0;try{B=I(!0,D)}finally{B?H():(N=!1,I=null)}}else N=!1}var H;if(typeof S=="function")H=function(){S(O)};else if(typeof MessageChannel<"u"){var ee=new MessageChannel,Ne=ee.port2;ee.port1.onmessage=O,H=function(){Ne.postMessage(null)}}else H=function(){x(O,0)};function X(D){I=D,N||(N=!0,H())}function ze(D,B){P=x(function(){D(e.unstable_now())},B)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(D){D.callback=null},e.unstable_continueExecution=function(){y||g||(y=!0,X(w))},e.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<D?Math.floor(1e3/D):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(d)},e.unstable_next=function(D){switch(h){case 1:case 2:case 3:var B=3;break;default:B=h}var q=h;h=B;try{return D()}finally{h=q}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(D,B){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var q=h;h=D;try{return B()}finally{h=q}},e.unstable_scheduleCallback=function(D,B,q){var K=e.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?K+q:K):q=K,D){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=q+j,D={id:f++,callback:B,priorityLevel:D,startTime:q,expirationTime:j,sortIndex:-1},q>K?(D.sortIndex=q,t(c,D),n(d)===null&&D===n(c)&&(T?(v(P),P=-1):T=!0,ze(C,q-K))):(D.sortIndex=j,t(d,D),y||g||(y=!0,X(w))),D},e.unstable_shouldYield=A,e.unstable_wrapCallback=function(D){var B=h;return function(){var q=h;h=B;try{return D.apply(this,arguments)}finally{h=q}}}})(Wf);Jf.exports=Wf;var r0=Jf.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i0=b,Ke=r0;function R(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Kf=new Set,Ho={};function wn(e,t){Zn(e,t),Zn(e+"Capture",t)}function Zn(e,t){for(Ho[e]=t,e=0;e<t.length;e++)Kf.add(t[e])}var Mt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ys=Object.prototype.hasOwnProperty,s0=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Tu={},Cu={};function l0(e){return Ys.call(Cu,e)?!0:Ys.call(Tu,e)?!1:s0.test(e)?Cu[e]=!0:(Tu[e]=!0,!1)}function a0(e,t,n,o){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return o?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function u0(e,t,n,o){if(t===null||typeof t>"u"||a0(e,t,n,o))return!0;if(o)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Le(e,t,n,o,r,i,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=o,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=s}var Se={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Se[e]=new Le(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Se[t]=new Le(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Se[e]=new Le(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Se[e]=new Le(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Se[e]=new Le(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Se[e]=new Le(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Se[e]=new Le(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Se[e]=new Le(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Se[e]=new Le(e,5,!1,e.toLowerCase(),null,!1,!1)});var ua=/[\-:]([a-z])/g;function ca(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(ua,ca);Se[t]=new Le(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(ua,ca);Se[t]=new Le(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(ua,ca);Se[t]=new Le(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Se[e]=new Le(e,1,!1,e.toLowerCase(),null,!1,!1)});Se.xlinkHref=new Le("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Se[e]=new Le(e,1,!1,e.toLowerCase(),null,!0,!0)});function da(e,t,n,o){var r=Se.hasOwnProperty(t)?Se[t]:null;(r!==null?r.type!==0:o||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(u0(t,n,r,o)&&(n=null),o||r===null?l0(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):r.mustUseProperty?e[r.propertyName]=n===null?r.type===3?!1:"":n:(t=r.attributeName,o=r.attributeNamespace,n===null?e.removeAttribute(t):(r=r.type,n=r===3||r===4&&n===!0?"":""+n,o?e.setAttributeNS(o,t,n):e.setAttribute(t,n))))}var bt=i0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,yr=Symbol.for("react.element"),kn=Symbol.for("react.portal"),Pn=Symbol.for("react.fragment"),fa=Symbol.for("react.strict_mode"),Qs=Symbol.for("react.profiler"),Yf=Symbol.for("react.provider"),Qf=Symbol.for("react.context"),pa=Symbol.for("react.forward_ref"),Xs=Symbol.for("react.suspense"),Zs=Symbol.for("react.suspense_list"),ha=Symbol.for("react.memo"),Bt=Symbol.for("react.lazy"),Xf=Symbol.for("react.offscreen"),_u=Symbol.iterator;function mo(e){return e===null||typeof e!="object"?null:(e=_u&&e[_u]||e["@@iterator"],typeof e=="function"?e:null)}var le=Object.assign,vs;function Io(e){if(vs===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);vs=t&&t[1]||""}return`
`+vs+e}var xs=!1;function Ss(e,t){if(!e||xs)return"";xs=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var o=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){o=c}e.call(t.prototype)}else{try{throw Error()}catch(c){o=c}e()}}catch(c){if(c&&o&&typeof c.stack=="string"){for(var r=c.stack.split(`
`),i=o.stack.split(`
`),s=r.length-1,u=i.length-1;1<=s&&0<=u&&r[s]!==i[u];)u--;for(;1<=s&&0<=u;s--,u--)if(r[s]!==i[u]){if(s!==1||u!==1)do if(s--,u--,0>u||r[s]!==i[u]){var d=`
`+r[s].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}while(1<=s&&0<=u);break}}}finally{xs=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Io(e):""}function c0(e){switch(e.tag){case 5:return Io(e.type);case 16:return Io("Lazy");case 13:return Io("Suspense");case 19:return Io("SuspenseList");case 0:case 2:case 15:return e=Ss(e.type,!1),e;case 11:return e=Ss(e.type.render,!1),e;case 1:return e=Ss(e.type,!0),e;default:return""}}function js(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Pn:return"Fragment";case kn:return"Portal";case Qs:return"Profiler";case fa:return"StrictMode";case Xs:return"Suspense";case Zs:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Qf:return(e.displayName||"Context")+".Consumer";case Yf:return(e._context.displayName||"Context")+".Provider";case pa:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ha:return t=e.displayName||null,t!==null?t:js(e.type)||"Memo";case Bt:t=e._payload,e=e._init;try{return js(e(t))}catch{}}return null}function d0(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return js(t);case 8:return t===fa?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function tn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Zf(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function f0(e){var t=Zf(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),o=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(s){o=""+s,i.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return o},setValue:function(s){o=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function vr(e){e._valueTracker||(e._valueTracker=f0(e))}function jf(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),o="";return e&&(o=Zf(e)?e.checked?"true":"false":e.value),e=o,e!==n?(t.setValue(e),!0):!1}function oi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function el(e,t){var n=t.checked;return le({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function wu(e,t){var n=t.defaultValue==null?"":t.defaultValue,o=t.checked!=null?t.checked:t.defaultChecked;n=tn(t.value!=null?t.value:n),e._wrapperState={initialChecked:o,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function ep(e,t){t=t.checked,t!=null&&da(e,"checked",t,!1)}function tl(e,t){ep(e,t);var n=tn(t.value),o=t.type;if(n!=null)o==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(o==="submit"||o==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?nl(e,t.type,n):t.hasOwnProperty("defaultValue")&&nl(e,t.type,tn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Iu(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var o=t.type;if(!(o!=="submit"&&o!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function nl(e,t,n){(t!=="number"||oi(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var No=Array.isArray;function On(e,t,n,o){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&o&&(e[n].defaultSelected=!0)}else{for(n=""+tn(n),t=null,r=0;r<e.length;r++){if(e[r].value===n){e[r].selected=!0,o&&(e[r].defaultSelected=!0);return}t!==null||e[r].disabled||(t=e[r])}t!==null&&(t.selected=!0)}}function ol(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(R(91));return le({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Nu(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(R(92));if(No(n)){if(1<n.length)throw Error(R(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:tn(n)}}function tp(e,t){var n=tn(t.value),o=tn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),o!=null&&(e.defaultValue=""+o)}function Au(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function np(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function rl(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?np(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var xr,op=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,o,r){MSApp.execUnsafeLocalFunction(function(){return e(t,n,o,r)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(xr=xr||document.createElement("div"),xr.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=xr.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Bo(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Po={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},p0=["Webkit","ms","Moz","O"];Object.keys(Po).forEach(function(e){p0.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Po[t]=Po[e]})});function rp(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Po.hasOwnProperty(e)&&Po[e]?(""+t).trim():t+"px"}function ip(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var o=n.indexOf("--")===0,r=rp(n,t[n],o);n==="float"&&(n="cssFloat"),o?e.setProperty(n,r):e[n]=r}}var h0=le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function il(e,t){if(t){if(h0[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(R(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(R(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(R(61))}if(t.style!=null&&typeof t.style!="object")throw Error(R(62))}}function sl(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ll=null;function ma(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var al=null,$n=null,Jn=null;function Ru(e){if(e=lr(e)){if(typeof al!="function")throw Error(R(280));var t=e.stateNode;t&&(t=Oi(t),al(e.stateNode,e.type,t))}}function sp(e){$n?Jn?Jn.push(e):Jn=[e]:$n=e}function lp(){if($n){var e=$n,t=Jn;if(Jn=$n=null,Ru(e),t)for(e=0;e<t.length;e++)Ru(t[e])}}function ap(e,t){return e(t)}function up(){}var Es=!1;function cp(e,t,n){if(Es)return e(t,n);Es=!0;try{return ap(e,t,n)}finally{Es=!1,($n!==null||Jn!==null)&&(up(),lp())}}function zo(e,t){var n=e.stateNode;if(n===null)return null;var o=Oi(n);if(o===null)return null;n=o[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(R(231,t,typeof n));return n}var ul=!1;if(Mt)try{var go={};Object.defineProperty(go,"passive",{get:function(){ul=!0}}),window.addEventListener("test",go,go),window.removeEventListener("test",go,go)}catch{ul=!1}function m0(e,t,n,o,r,i,s,u,d){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(f){this.onError(f)}}var Mo=!1,ri=null,ii=!1,cl=null,g0={onError:function(e){Mo=!0,ri=e}};function y0(e,t,n,o,r,i,s,u,d){Mo=!1,ri=null,m0.apply(g0,arguments)}function v0(e,t,n,o,r,i,s,u,d){if(y0.apply(this,arguments),Mo){if(Mo){var c=ri;Mo=!1,ri=null}else throw Error(R(198));ii||(ii=!0,cl=c)}}function In(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function dp(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function ku(e){if(In(e)!==e)throw Error(R(188))}function x0(e){var t=e.alternate;if(!t){if(t=In(e),t===null)throw Error(R(188));return t!==e?null:e}for(var n=e,o=t;;){var r=n.return;if(r===null)break;var i=r.alternate;if(i===null){if(o=r.return,o!==null){n=o;continue}break}if(r.child===i.child){for(i=r.child;i;){if(i===n)return ku(r),e;if(i===o)return ku(r),t;i=i.sibling}throw Error(R(188))}if(n.return!==o.return)n=r,o=i;else{for(var s=!1,u=r.child;u;){if(u===n){s=!0,n=r,o=i;break}if(u===o){s=!0,o=r,n=i;break}u=u.sibling}if(!s){for(u=i.child;u;){if(u===n){s=!0,n=i,o=r;break}if(u===o){s=!0,o=i,n=r;break}u=u.sibling}if(!s)throw Error(R(189))}}if(n.alternate!==o)throw Error(R(190))}if(n.tag!==3)throw Error(R(188));return n.stateNode.current===n?e:t}function fp(e){return e=x0(e),e!==null?pp(e):null}function pp(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=pp(e);if(t!==null)return t;e=e.sibling}return null}var hp=Ke.unstable_scheduleCallback,Pu=Ke.unstable_cancelCallback,S0=Ke.unstable_shouldYield,E0=Ke.unstable_requestPaint,ce=Ke.unstable_now,T0=Ke.unstable_getCurrentPriorityLevel,ga=Ke.unstable_ImmediatePriority,mp=Ke.unstable_UserBlockingPriority,si=Ke.unstable_NormalPriority,C0=Ke.unstable_LowPriority,gp=Ke.unstable_IdlePriority,Hi=null,Ct=null;function _0(e){if(Ct&&typeof Ct.onCommitFiberRoot=="function")try{Ct.onCommitFiberRoot(Hi,e,void 0,(e.current.flags&128)===128)}catch{}}var dt=Math.clz32?Math.clz32:N0,w0=Math.log,I0=Math.LN2;function N0(e){return e>>>=0,e===0?32:31-(w0(e)/I0|0)|0}var Sr=64,Er=4194304;function Ao(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function li(e,t){var n=e.pendingLanes;if(n===0)return 0;var o=0,r=e.suspendedLanes,i=e.pingedLanes,s=n&268435455;if(s!==0){var u=s&~r;u!==0?o=Ao(u):(i&=s,i!==0&&(o=Ao(i)))}else s=n&~r,s!==0?o=Ao(s):i!==0&&(o=Ao(i));if(o===0)return 0;if(t!==0&&t!==o&&!(t&r)&&(r=o&-o,i=t&-t,r>=i||r===16&&(i&4194240)!==0))return t;if(o&4&&(o|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=o;0<t;)n=31-dt(t),r=1<<n,o|=e[n],t&=~r;return o}function A0(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function R0(e,t){for(var n=e.suspendedLanes,o=e.pingedLanes,r=e.expirationTimes,i=e.pendingLanes;0<i;){var s=31-dt(i),u=1<<s,d=r[s];d===-1?(!(u&n)||u&o)&&(r[s]=A0(u,t)):d<=t&&(e.expiredLanes|=u),i&=~u}}function dl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function yp(){var e=Sr;return Sr<<=1,!(Sr&4194240)&&(Sr=64),e}function Ts(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ir(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-dt(t),e[t]=n}function k0(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var o=e.eventTimes;for(e=e.expirationTimes;0<n;){var r=31-dt(n),i=1<<r;t[r]=0,o[r]=-1,e[r]=-1,n&=~i}}function ya(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var o=31-dt(n),r=1<<o;r&t|e[o]&t&&(e[o]|=t),n&=~r}}var Z=0;function vp(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var xp,va,Sp,Ep,Tp,fl=!1,Tr=[],Wt=null,Kt=null,Yt=null,qo=new Map,Oo=new Map,qt=[],P0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mu(e,t){switch(e){case"focusin":case"focusout":Wt=null;break;case"dragenter":case"dragleave":Kt=null;break;case"mouseover":case"mouseout":Yt=null;break;case"pointerover":case"pointerout":qo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Oo.delete(t.pointerId)}}function yo(e,t,n,o,r,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:o,nativeEvent:i,targetContainers:[r]},t!==null&&(t=lr(t),t!==null&&va(t)),e):(e.eventSystemFlags|=o,t=e.targetContainers,r!==null&&t.indexOf(r)===-1&&t.push(r),e)}function M0(e,t,n,o,r){switch(t){case"focusin":return Wt=yo(Wt,e,t,n,o,r),!0;case"dragenter":return Kt=yo(Kt,e,t,n,o,r),!0;case"mouseover":return Yt=yo(Yt,e,t,n,o,r),!0;case"pointerover":var i=r.pointerId;return qo.set(i,yo(qo.get(i)||null,e,t,n,o,r)),!0;case"gotpointercapture":return i=r.pointerId,Oo.set(i,yo(Oo.get(i)||null,e,t,n,o,r)),!0}return!1}function Cp(e){var t=fn(e.target);if(t!==null){var n=In(t);if(n!==null){if(t=n.tag,t===13){if(t=dp(n),t!==null){e.blockedOn=t,Tp(e.priority,function(){Sp(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Br(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=pl(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var o=new n.constructor(n.type,n);ll=o,n.target.dispatchEvent(o),ll=null}else return t=lr(n),t!==null&&va(t),e.blockedOn=n,!1;t.shift()}return!0}function Du(e,t,n){Br(e)&&n.delete(t)}function D0(){fl=!1,Wt!==null&&Br(Wt)&&(Wt=null),Kt!==null&&Br(Kt)&&(Kt=null),Yt!==null&&Br(Yt)&&(Yt=null),qo.forEach(Du),Oo.forEach(Du)}function vo(e,t){e.blockedOn===t&&(e.blockedOn=null,fl||(fl=!0,Ke.unstable_scheduleCallback(Ke.unstable_NormalPriority,D0)))}function $o(e){function t(r){return vo(r,e)}if(0<Tr.length){vo(Tr[0],e);for(var n=1;n<Tr.length;n++){var o=Tr[n];o.blockedOn===e&&(o.blockedOn=null)}}for(Wt!==null&&vo(Wt,e),Kt!==null&&vo(Kt,e),Yt!==null&&vo(Yt,e),qo.forEach(t),Oo.forEach(t),n=0;n<qt.length;n++)o=qt[n],o.blockedOn===e&&(o.blockedOn=null);for(;0<qt.length&&(n=qt[0],n.blockedOn===null);)Cp(n),n.blockedOn===null&&qt.shift()}var Wn=bt.ReactCurrentBatchConfig,ai=!0;function L0(e,t,n,o){var r=Z,i=Wn.transition;Wn.transition=null;try{Z=1,xa(e,t,n,o)}finally{Z=r,Wn.transition=i}}function U0(e,t,n,o){var r=Z,i=Wn.transition;Wn.transition=null;try{Z=4,xa(e,t,n,o)}finally{Z=r,Wn.transition=i}}function xa(e,t,n,o){if(ai){var r=pl(e,t,n,o);if(r===null)Ms(e,t,o,ui,n),Mu(e,o);else if(M0(r,e,t,n,o))o.stopPropagation();else if(Mu(e,o),t&4&&-1<P0.indexOf(e)){for(;r!==null;){var i=lr(r);if(i!==null&&xp(i),i=pl(e,t,n,o),i===null&&Ms(e,t,o,ui,n),i===r)break;r=i}r!==null&&o.stopPropagation()}else Ms(e,t,o,null,n)}}var ui=null;function pl(e,t,n,o){if(ui=null,e=ma(o),e=fn(e),e!==null)if(t=In(e),t===null)e=null;else if(n=t.tag,n===13){if(e=dp(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ui=e,null}function _p(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(T0()){case ga:return 1;case mp:return 4;case si:case C0:return 16;case gp:return 536870912;default:return 16}default:return 16}}var $t=null,Sa=null,zr=null;function wp(){if(zr)return zr;var e,t=Sa,n=t.length,o,r="value"in $t?$t.value:$t.textContent,i=r.length;for(e=0;e<n&&t[e]===r[e];e++);var s=n-e;for(o=1;o<=s&&t[n-o]===r[i-o];o++);return zr=r.slice(e,1<o?1-o:void 0)}function qr(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Cr(){return!0}function Lu(){return!1}function Qe(e){function t(n,o,r,i,s){this._reactName=n,this._targetInst=r,this.type=o,this.nativeEvent=i,this.target=s,this.currentTarget=null;for(var u in e)e.hasOwnProperty(u)&&(n=e[u],this[u]=n?n(i):i[u]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Cr:Lu,this.isPropagationStopped=Lu,this}return le(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Cr)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Cr)},persist:function(){},isPersistent:Cr}),t}var lo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ea=Qe(lo),sr=le({},lo,{view:0,detail:0}),F0=Qe(sr),Cs,_s,xo,Bi=le({},sr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ta,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==xo&&(xo&&e.type==="mousemove"?(Cs=e.screenX-xo.screenX,_s=e.screenY-xo.screenY):_s=Cs=0,xo=e),Cs)},movementY:function(e){return"movementY"in e?e.movementY:_s}}),Uu=Qe(Bi),b0=le({},Bi,{dataTransfer:0}),V0=Qe(b0),G0=le({},sr,{relatedTarget:0}),ws=Qe(G0),H0=le({},lo,{animationName:0,elapsedTime:0,pseudoElement:0}),B0=Qe(H0),z0=le({},lo,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),q0=Qe(z0),O0=le({},lo,{data:0}),Fu=Qe(O0),$0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},J0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},W0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function K0(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=W0[e])?!!t[e]:!1}function Ta(){return K0}var Y0=le({},sr,{key:function(e){if(e.key){var t=$0[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=qr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?J0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ta,charCode:function(e){return e.type==="keypress"?qr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?qr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Q0=Qe(Y0),X0=le({},Bi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bu=Qe(X0),Z0=le({},sr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ta}),j0=Qe(Z0),ey=le({},lo,{propertyName:0,elapsedTime:0,pseudoElement:0}),ty=Qe(ey),ny=le({},Bi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),oy=Qe(ny),ry=[9,13,27,32],Ca=Mt&&"CompositionEvent"in window,Do=null;Mt&&"documentMode"in document&&(Do=document.documentMode);var iy=Mt&&"TextEvent"in window&&!Do,Ip=Mt&&(!Ca||Do&&8<Do&&11>=Do),Vu=" ",Gu=!1;function Np(e,t){switch(e){case"keyup":return ry.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ap(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Mn=!1;function sy(e,t){switch(e){case"compositionend":return Ap(t);case"keypress":return t.which!==32?null:(Gu=!0,Vu);case"textInput":return e=t.data,e===Vu&&Gu?null:e;default:return null}}function ly(e,t){if(Mn)return e==="compositionend"||!Ca&&Np(e,t)?(e=wp(),zr=Sa=$t=null,Mn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ip&&t.locale!=="ko"?null:t.data;default:return null}}var ay={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!ay[e.type]:t==="textarea"}function Rp(e,t,n,o){sp(o),t=ci(t,"onChange"),0<t.length&&(n=new Ea("onChange","change",null,n,o),e.push({event:n,listeners:t}))}var Lo=null,Jo=null;function uy(e){Hp(e,0)}function zi(e){var t=Un(e);if(jf(t))return e}function cy(e,t){if(e==="change")return t}var kp=!1;if(Mt){var Is;if(Mt){var Ns="oninput"in document;if(!Ns){var Bu=document.createElement("div");Bu.setAttribute("oninput","return;"),Ns=typeof Bu.oninput=="function"}Is=Ns}else Is=!1;kp=Is&&(!document.documentMode||9<document.documentMode)}function zu(){Lo&&(Lo.detachEvent("onpropertychange",Pp),Jo=Lo=null)}function Pp(e){if(e.propertyName==="value"&&zi(Jo)){var t=[];Rp(t,Jo,e,ma(e)),cp(uy,t)}}function dy(e,t,n){e==="focusin"?(zu(),Lo=t,Jo=n,Lo.attachEvent("onpropertychange",Pp)):e==="focusout"&&zu()}function fy(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return zi(Jo)}function py(e,t){if(e==="click")return zi(t)}function hy(e,t){if(e==="input"||e==="change")return zi(t)}function my(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var mt=typeof Object.is=="function"?Object.is:my;function Wo(e,t){if(mt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),o=Object.keys(t);if(n.length!==o.length)return!1;for(o=0;o<n.length;o++){var r=n[o];if(!Ys.call(t,r)||!mt(e[r],t[r]))return!1}return!0}function qu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ou(e,t){var n=qu(e);e=0;for(var o;n;){if(n.nodeType===3){if(o=e+n.textContent.length,e<=t&&o>=t)return{node:n,offset:t-e};e=o}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=qu(n)}}function Mp(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Mp(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Dp(){for(var e=window,t=oi();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=oi(e.document)}return t}function _a(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function gy(e){var t=Dp(),n=e.focusedElem,o=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Mp(n.ownerDocument.documentElement,n)){if(o!==null&&_a(n)){if(t=o.start,e=o.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var r=n.textContent.length,i=Math.min(o.start,r);o=o.end===void 0?i:Math.min(o.end,r),!e.extend&&i>o&&(r=o,o=i,i=r),r=Ou(n,i);var s=Ou(n,o);r&&s&&(e.rangeCount!==1||e.anchorNode!==r.node||e.anchorOffset!==r.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(r.node,r.offset),e.removeAllRanges(),i>o?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var yy=Mt&&"documentMode"in document&&11>=document.documentMode,Dn=null,hl=null,Uo=null,ml=!1;function $u(e,t,n){var o=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ml||Dn==null||Dn!==oi(o)||(o=Dn,"selectionStart"in o&&_a(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Uo&&Wo(Uo,o)||(Uo=o,o=ci(hl,"onSelect"),0<o.length&&(t=new Ea("onSelect","select",null,t,n),e.push({event:t,listeners:o}),t.target=Dn)))}function _r(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ln={animationend:_r("Animation","AnimationEnd"),animationiteration:_r("Animation","AnimationIteration"),animationstart:_r("Animation","AnimationStart"),transitionend:_r("Transition","TransitionEnd")},As={},Lp={};Mt&&(Lp=document.createElement("div").style,"AnimationEvent"in window||(delete Ln.animationend.animation,delete Ln.animationiteration.animation,delete Ln.animationstart.animation),"TransitionEvent"in window||delete Ln.transitionend.transition);function qi(e){if(As[e])return As[e];if(!Ln[e])return e;var t=Ln[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Lp)return As[e]=t[n];return e}var Up=qi("animationend"),Fp=qi("animationiteration"),bp=qi("animationstart"),Vp=qi("transitionend"),Gp=new Map,Ju="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function on(e,t){Gp.set(e,t),wn(t,[e])}for(var Rs=0;Rs<Ju.length;Rs++){var ks=Ju[Rs],vy=ks.toLowerCase(),xy=ks[0].toUpperCase()+ks.slice(1);on(vy,"on"+xy)}on(Up,"onAnimationEnd");on(Fp,"onAnimationIteration");on(bp,"onAnimationStart");on("dblclick","onDoubleClick");on("focusin","onFocus");on("focusout","onBlur");on(Vp,"onTransitionEnd");Zn("onMouseEnter",["mouseout","mouseover"]);Zn("onMouseLeave",["mouseout","mouseover"]);Zn("onPointerEnter",["pointerout","pointerover"]);Zn("onPointerLeave",["pointerout","pointerover"]);wn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));wn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));wn("onBeforeInput",["compositionend","keypress","textInput","paste"]);wn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));wn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));wn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ro="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Sy=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ro));function Wu(e,t,n){var o=e.type||"unknown-event";e.currentTarget=n,v0(o,t,void 0,e),e.currentTarget=null}function Hp(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var o=e[n],r=o.event;o=o.listeners;e:{var i=void 0;if(t)for(var s=o.length-1;0<=s;s--){var u=o[s],d=u.instance,c=u.currentTarget;if(u=u.listener,d!==i&&r.isPropagationStopped())break e;Wu(r,u,c),i=d}else for(s=0;s<o.length;s++){if(u=o[s],d=u.instance,c=u.currentTarget,u=u.listener,d!==i&&r.isPropagationStopped())break e;Wu(r,u,c),i=d}}}if(ii)throw e=cl,ii=!1,cl=null,e}function ne(e,t){var n=t[Sl];n===void 0&&(n=t[Sl]=new Set);var o=e+"__bubble";n.has(o)||(Bp(t,e,2,!1),n.add(o))}function Ps(e,t,n){var o=0;t&&(o|=4),Bp(n,e,o,t)}var wr="_reactListening"+Math.random().toString(36).slice(2);function Ko(e){if(!e[wr]){e[wr]=!0,Kf.forEach(function(n){n!=="selectionchange"&&(Sy.has(n)||Ps(n,!1,e),Ps(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[wr]||(t[wr]=!0,Ps("selectionchange",!1,t))}}function Bp(e,t,n,o){switch(_p(t)){case 1:var r=L0;break;case 4:r=U0;break;default:r=xa}n=r.bind(null,t,n,e),r=void 0,!ul||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(r=!0),o?r!==void 0?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):r!==void 0?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function Ms(e,t,n,o,r){var i=o;if(!(t&1)&&!(t&2)&&o!==null)e:for(;;){if(o===null)return;var s=o.tag;if(s===3||s===4){var u=o.stateNode.containerInfo;if(u===r||u.nodeType===8&&u.parentNode===r)break;if(s===4)for(s=o.return;s!==null;){var d=s.tag;if((d===3||d===4)&&(d=s.stateNode.containerInfo,d===r||d.nodeType===8&&d.parentNode===r))return;s=s.return}for(;u!==null;){if(s=fn(u),s===null)return;if(d=s.tag,d===5||d===6){o=i=s;continue e}u=u.parentNode}}o=o.return}cp(function(){var c=i,f=ma(n),p=[];e:{var h=Gp.get(e);if(h!==void 0){var g=Ea,y=e;switch(e){case"keypress":if(qr(n)===0)break e;case"keydown":case"keyup":g=Q0;break;case"focusin":y="focus",g=ws;break;case"focusout":y="blur",g=ws;break;case"beforeblur":case"afterblur":g=ws;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Uu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=V0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=j0;break;case Up:case Fp:case bp:g=B0;break;case Vp:g=ty;break;case"scroll":g=F0;break;case"wheel":g=oy;break;case"copy":case"cut":case"paste":g=q0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=bu}var T=(t&4)!==0,x=!T&&e==="scroll",v=T?h!==null?h+"Capture":null:h;T=[];for(var S=c,E;S!==null;){E=S;var C=E.stateNode;if(E.tag===5&&C!==null&&(E=C,v!==null&&(C=zo(S,v),C!=null&&T.push(Yo(S,C,E)))),x)break;S=S.return}0<T.length&&(h=new g(h,y,null,n,f),p.push({event:h,listeners:T}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",h&&n!==ll&&(y=n.relatedTarget||n.fromElement)&&(fn(y)||y[Dt]))break e;if((g||h)&&(h=f.window===f?f:(h=f.ownerDocument)?h.defaultView||h.parentWindow:window,g?(y=n.relatedTarget||n.toElement,g=c,y=y?fn(y):null,y!==null&&(x=In(y),y!==x||y.tag!==5&&y.tag!==6)&&(y=null)):(g=null,y=c),g!==y)){if(T=Uu,C="onMouseLeave",v="onMouseEnter",S="mouse",(e==="pointerout"||e==="pointerover")&&(T=bu,C="onPointerLeave",v="onPointerEnter",S="pointer"),x=g==null?h:Un(g),E=y==null?h:Un(y),h=new T(C,S+"leave",g,n,f),h.target=x,h.relatedTarget=E,C=null,fn(f)===c&&(T=new T(v,S+"enter",y,n,f),T.target=E,T.relatedTarget=x,C=T),x=C,g&&y)t:{for(T=g,v=y,S=0,E=T;E;E=An(E))S++;for(E=0,C=v;C;C=An(C))E++;for(;0<S-E;)T=An(T),S--;for(;0<E-S;)v=An(v),E--;for(;S--;){if(T===v||v!==null&&T===v.alternate)break t;T=An(T),v=An(v)}T=null}else T=null;g!==null&&Ku(p,h,g,T,!1),y!==null&&x!==null&&Ku(p,x,y,T,!0)}}e:{if(h=c?Un(c):window,g=h.nodeName&&h.nodeName.toLowerCase(),g==="select"||g==="input"&&h.type==="file")var w=cy;else if(Hu(h))if(kp)w=hy;else{w=fy;var N=dy}else(g=h.nodeName)&&g.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(w=py);if(w&&(w=w(e,c))){Rp(p,w,n,f);break e}N&&N(e,h,c),e==="focusout"&&(N=h._wrapperState)&&N.controlled&&h.type==="number"&&nl(h,"number",h.value)}switch(N=c?Un(c):window,e){case"focusin":(Hu(N)||N.contentEditable==="true")&&(Dn=N,hl=c,Uo=null);break;case"focusout":Uo=hl=Dn=null;break;case"mousedown":ml=!0;break;case"contextmenu":case"mouseup":case"dragend":ml=!1,$u(p,n,f);break;case"selectionchange":if(yy)break;case"keydown":case"keyup":$u(p,n,f)}var I;if(Ca)e:{switch(e){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else Mn?Np(e,n)&&(P="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(P="onCompositionStart");P&&(Ip&&n.locale!=="ko"&&(Mn||P!=="onCompositionStart"?P==="onCompositionEnd"&&Mn&&(I=wp()):($t=f,Sa="value"in $t?$t.value:$t.textContent,Mn=!0)),N=ci(c,P),0<N.length&&(P=new Fu(P,e,null,n,f),p.push({event:P,listeners:N}),I?P.data=I:(I=Ap(n),I!==null&&(P.data=I)))),(I=iy?sy(e,n):ly(e,n))&&(c=ci(c,"onBeforeInput"),0<c.length&&(f=new Fu("onBeforeInput","beforeinput",null,n,f),p.push({event:f,listeners:c}),f.data=I))}Hp(p,t)})}function Yo(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ci(e,t){for(var n=t+"Capture",o=[];e!==null;){var r=e,i=r.stateNode;r.tag===5&&i!==null&&(r=i,i=zo(e,n),i!=null&&o.unshift(Yo(e,i,r)),i=zo(e,t),i!=null&&o.push(Yo(e,i,r))),e=e.return}return o}function An(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Ku(e,t,n,o,r){for(var i=t._reactName,s=[];n!==null&&n!==o;){var u=n,d=u.alternate,c=u.stateNode;if(d!==null&&d===o)break;u.tag===5&&c!==null&&(u=c,r?(d=zo(n,i),d!=null&&s.unshift(Yo(n,d,u))):r||(d=zo(n,i),d!=null&&s.push(Yo(n,d,u)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var Ey=/\r\n?/g,Ty=/\u0000|\uFFFD/g;function Yu(e){return(typeof e=="string"?e:""+e).replace(Ey,`
`).replace(Ty,"")}function Ir(e,t,n){if(t=Yu(t),Yu(e)!==t&&n)throw Error(R(425))}function di(){}var gl=null,yl=null;function vl(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var xl=typeof setTimeout=="function"?setTimeout:void 0,Cy=typeof clearTimeout=="function"?clearTimeout:void 0,Qu=typeof Promise=="function"?Promise:void 0,_y=typeof queueMicrotask=="function"?queueMicrotask:typeof Qu<"u"?function(e){return Qu.resolve(null).then(e).catch(wy)}:xl;function wy(e){setTimeout(function(){throw e})}function Ds(e,t){var n=t,o=0;do{var r=n.nextSibling;if(e.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(o===0){e.removeChild(r),$o(t);return}o--}else n!=="$"&&n!=="$?"&&n!=="$!"||o++;n=r}while(n);$o(t)}function Qt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Xu(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var ao=Math.random().toString(36).slice(2),Tt="__reactFiber$"+ao,Qo="__reactProps$"+ao,Dt="__reactContainer$"+ao,Sl="__reactEvents$"+ao,Iy="__reactListeners$"+ao,Ny="__reactHandles$"+ao;function fn(e){var t=e[Tt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Dt]||n[Tt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Xu(e);e!==null;){if(n=e[Tt])return n;e=Xu(e)}return t}e=n,n=e.parentNode}return null}function lr(e){return e=e[Tt]||e[Dt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Un(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(R(33))}function Oi(e){return e[Qo]||null}var El=[],Fn=-1;function rn(e){return{current:e}}function oe(e){0>Fn||(e.current=El[Fn],El[Fn]=null,Fn--)}function te(e,t){Fn++,El[Fn]=e.current,e.current=t}var nn={},Ie=rn(nn),be=rn(!1),xn=nn;function jn(e,t){var n=e.type.contextTypes;if(!n)return nn;var o=e.stateNode;if(o&&o.__reactInternalMemoizedUnmaskedChildContext===t)return o.__reactInternalMemoizedMaskedChildContext;var r={},i;for(i in n)r[i]=t[i];return o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=r),r}function Ve(e){return e=e.childContextTypes,e!=null}function fi(){oe(be),oe(Ie)}function Zu(e,t,n){if(Ie.current!==nn)throw Error(R(168));te(Ie,t),te(be,n)}function zp(e,t,n){var o=e.stateNode;if(t=t.childContextTypes,typeof o.getChildContext!="function")return n;o=o.getChildContext();for(var r in o)if(!(r in t))throw Error(R(108,d0(e)||"Unknown",r));return le({},n,o)}function pi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||nn,xn=Ie.current,te(Ie,e),te(be,be.current),!0}function ju(e,t,n){var o=e.stateNode;if(!o)throw Error(R(169));n?(e=zp(e,t,xn),o.__reactInternalMemoizedMergedChildContext=e,oe(be),oe(Ie),te(Ie,e)):oe(be),te(be,n)}var At=null,$i=!1,Ls=!1;function qp(e){At===null?At=[e]:At.push(e)}function Ay(e){$i=!0,qp(e)}function sn(){if(!Ls&&At!==null){Ls=!0;var e=0,t=Z;try{var n=At;for(Z=1;e<n.length;e++){var o=n[e];do o=o(!0);while(o!==null)}At=null,$i=!1}catch(r){throw At!==null&&(At=At.slice(e+1)),hp(ga,sn),r}finally{Z=t,Ls=!1}}return null}var bn=[],Vn=0,hi=null,mi=0,Xe=[],Ze=0,Sn=null,Rt=1,kt="";function un(e,t){bn[Vn++]=mi,bn[Vn++]=hi,hi=e,mi=t}function Op(e,t,n){Xe[Ze++]=Rt,Xe[Ze++]=kt,Xe[Ze++]=Sn,Sn=e;var o=Rt;e=kt;var r=32-dt(o)-1;o&=~(1<<r),n+=1;var i=32-dt(t)+r;if(30<i){var s=r-r%5;i=(o&(1<<s)-1).toString(32),o>>=s,r-=s,Rt=1<<32-dt(t)+r|n<<r|o,kt=i+e}else Rt=1<<i|n<<r|o,kt=e}function wa(e){e.return!==null&&(un(e,1),Op(e,1,0))}function Ia(e){for(;e===hi;)hi=bn[--Vn],bn[Vn]=null,mi=bn[--Vn],bn[Vn]=null;for(;e===Sn;)Sn=Xe[--Ze],Xe[Ze]=null,kt=Xe[--Ze],Xe[Ze]=null,Rt=Xe[--Ze],Xe[Ze]=null}var We=null,Je=null,re=!1,ct=null;function $p(e,t){var n=je(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function ec(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,We=e,Je=Qt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,We=e,Je=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Sn!==null?{id:Rt,overflow:kt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=je(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,We=e,Je=null,!0):!1;default:return!1}}function Tl(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Cl(e){if(re){var t=Je;if(t){var n=t;if(!ec(e,t)){if(Tl(e))throw Error(R(418));t=Qt(n.nextSibling);var o=We;t&&ec(e,t)?$p(o,n):(e.flags=e.flags&-4097|2,re=!1,We=e)}}else{if(Tl(e))throw Error(R(418));e.flags=e.flags&-4097|2,re=!1,We=e}}}function tc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;We=e}function Nr(e){if(e!==We)return!1;if(!re)return tc(e),re=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!vl(e.type,e.memoizedProps)),t&&(t=Je)){if(Tl(e))throw Jp(),Error(R(418));for(;t;)$p(e,t),t=Qt(t.nextSibling)}if(tc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(R(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Je=Qt(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Je=null}}else Je=We?Qt(e.stateNode.nextSibling):null;return!0}function Jp(){for(var e=Je;e;)e=Qt(e.nextSibling)}function eo(){Je=We=null,re=!1}function Na(e){ct===null?ct=[e]:ct.push(e)}var Ry=bt.ReactCurrentBatchConfig;function So(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(R(309));var o=n.stateNode}if(!o)throw Error(R(147,e));var r=o,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(s){var u=r.refs;s===null?delete u[i]:u[i]=s},t._stringRef=i,t)}if(typeof e!="string")throw Error(R(284));if(!n._owner)throw Error(R(290,e))}return e}function Ar(e,t){throw e=Object.prototype.toString.call(t),Error(R(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function nc(e){var t=e._init;return t(e._payload)}function Wp(e){function t(v,S){if(e){var E=v.deletions;E===null?(v.deletions=[S],v.flags|=16):E.push(S)}}function n(v,S){if(!e)return null;for(;S!==null;)t(v,S),S=S.sibling;return null}function o(v,S){for(v=new Map;S!==null;)S.key!==null?v.set(S.key,S):v.set(S.index,S),S=S.sibling;return v}function r(v,S){return v=en(v,S),v.index=0,v.sibling=null,v}function i(v,S,E){return v.index=E,e?(E=v.alternate,E!==null?(E=E.index,E<S?(v.flags|=2,S):E):(v.flags|=2,S)):(v.flags|=1048576,S)}function s(v){return e&&v.alternate===null&&(v.flags|=2),v}function u(v,S,E,C){return S===null||S.tag!==6?(S=Bs(E,v.mode,C),S.return=v,S):(S=r(S,E),S.return=v,S)}function d(v,S,E,C){var w=E.type;return w===Pn?f(v,S,E.props.children,C,E.key):S!==null&&(S.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Bt&&nc(w)===S.type)?(C=r(S,E.props),C.ref=So(v,S,E),C.return=v,C):(C=Qr(E.type,E.key,E.props,null,v.mode,C),C.ref=So(v,S,E),C.return=v,C)}function c(v,S,E,C){return S===null||S.tag!==4||S.stateNode.containerInfo!==E.containerInfo||S.stateNode.implementation!==E.implementation?(S=zs(E,v.mode,C),S.return=v,S):(S=r(S,E.children||[]),S.return=v,S)}function f(v,S,E,C,w){return S===null||S.tag!==7?(S=yn(E,v.mode,C,w),S.return=v,S):(S=r(S,E),S.return=v,S)}function p(v,S,E){if(typeof S=="string"&&S!==""||typeof S=="number")return S=Bs(""+S,v.mode,E),S.return=v,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case yr:return E=Qr(S.type,S.key,S.props,null,v.mode,E),E.ref=So(v,null,S),E.return=v,E;case kn:return S=zs(S,v.mode,E),S.return=v,S;case Bt:var C=S._init;return p(v,C(S._payload),E)}if(No(S)||mo(S))return S=yn(S,v.mode,E,null),S.return=v,S;Ar(v,S)}return null}function h(v,S,E,C){var w=S!==null?S.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return w!==null?null:u(v,S,""+E,C);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case yr:return E.key===w?d(v,S,E,C):null;case kn:return E.key===w?c(v,S,E,C):null;case Bt:return w=E._init,h(v,S,w(E._payload),C)}if(No(E)||mo(E))return w!==null?null:f(v,S,E,C,null);Ar(v,E)}return null}function g(v,S,E,C,w){if(typeof C=="string"&&C!==""||typeof C=="number")return v=v.get(E)||null,u(S,v,""+C,w);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case yr:return v=v.get(C.key===null?E:C.key)||null,d(S,v,C,w);case kn:return v=v.get(C.key===null?E:C.key)||null,c(S,v,C,w);case Bt:var N=C._init;return g(v,S,E,N(C._payload),w)}if(No(C)||mo(C))return v=v.get(E)||null,f(S,v,C,w,null);Ar(S,C)}return null}function y(v,S,E,C){for(var w=null,N=null,I=S,P=S=0,M=null;I!==null&&P<E.length;P++){I.index>P?(M=I,I=null):M=I.sibling;var k=h(v,I,E[P],C);if(k===null){I===null&&(I=M);break}e&&I&&k.alternate===null&&t(v,I),S=i(k,S,P),N===null?w=k:N.sibling=k,N=k,I=M}if(P===E.length)return n(v,I),re&&un(v,P),w;if(I===null){for(;P<E.length;P++)I=p(v,E[P],C),I!==null&&(S=i(I,S,P),N===null?w=I:N.sibling=I,N=I);return re&&un(v,P),w}for(I=o(v,I);P<E.length;P++)M=g(I,v,P,E[P],C),M!==null&&(e&&M.alternate!==null&&I.delete(M.key===null?P:M.key),S=i(M,S,P),N===null?w=M:N.sibling=M,N=M);return e&&I.forEach(function(A){return t(v,A)}),re&&un(v,P),w}function T(v,S,E,C){var w=mo(E);if(typeof w!="function")throw Error(R(150));if(E=w.call(E),E==null)throw Error(R(151));for(var N=w=null,I=S,P=S=0,M=null,k=E.next();I!==null&&!k.done;P++,k=E.next()){I.index>P?(M=I,I=null):M=I.sibling;var A=h(v,I,k.value,C);if(A===null){I===null&&(I=M);break}e&&I&&A.alternate===null&&t(v,I),S=i(A,S,P),N===null?w=A:N.sibling=A,N=A,I=M}if(k.done)return n(v,I),re&&un(v,P),w;if(I===null){for(;!k.done;P++,k=E.next())k=p(v,k.value,C),k!==null&&(S=i(k,S,P),N===null?w=k:N.sibling=k,N=k);return re&&un(v,P),w}for(I=o(v,I);!k.done;P++,k=E.next())k=g(I,v,P,k.value,C),k!==null&&(e&&k.alternate!==null&&I.delete(k.key===null?P:k.key),S=i(k,S,P),N===null?w=k:N.sibling=k,N=k);return e&&I.forEach(function(O){return t(v,O)}),re&&un(v,P),w}function x(v,S,E,C){if(typeof E=="object"&&E!==null&&E.type===Pn&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case yr:e:{for(var w=E.key,N=S;N!==null;){if(N.key===w){if(w=E.type,w===Pn){if(N.tag===7){n(v,N.sibling),S=r(N,E.props.children),S.return=v,v=S;break e}}else if(N.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Bt&&nc(w)===N.type){n(v,N.sibling),S=r(N,E.props),S.ref=So(v,N,E),S.return=v,v=S;break e}n(v,N);break}else t(v,N);N=N.sibling}E.type===Pn?(S=yn(E.props.children,v.mode,C,E.key),S.return=v,v=S):(C=Qr(E.type,E.key,E.props,null,v.mode,C),C.ref=So(v,S,E),C.return=v,v=C)}return s(v);case kn:e:{for(N=E.key;S!==null;){if(S.key===N)if(S.tag===4&&S.stateNode.containerInfo===E.containerInfo&&S.stateNode.implementation===E.implementation){n(v,S.sibling),S=r(S,E.children||[]),S.return=v,v=S;break e}else{n(v,S);break}else t(v,S);S=S.sibling}S=zs(E,v.mode,C),S.return=v,v=S}return s(v);case Bt:return N=E._init,x(v,S,N(E._payload),C)}if(No(E))return y(v,S,E,C);if(mo(E))return T(v,S,E,C);Ar(v,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,S!==null&&S.tag===6?(n(v,S.sibling),S=r(S,E),S.return=v,v=S):(n(v,S),S=Bs(E,v.mode,C),S.return=v,v=S),s(v)):n(v,S)}return x}var to=Wp(!0),Kp=Wp(!1),gi=rn(null),yi=null,Gn=null,Aa=null;function Ra(){Aa=Gn=yi=null}function ka(e){var t=gi.current;oe(gi),e._currentValue=t}function _l(e,t,n){for(;e!==null;){var o=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,o!==null&&(o.childLanes|=t)):o!==null&&(o.childLanes&t)!==t&&(o.childLanes|=t),e===n)break;e=e.return}}function Kn(e,t){yi=e,Aa=Gn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Fe=!0),e.firstContext=null)}function nt(e){var t=e._currentValue;if(Aa!==e)if(e={context:e,memoizedValue:t,next:null},Gn===null){if(yi===null)throw Error(R(308));Gn=e,yi.dependencies={lanes:0,firstContext:e}}else Gn=Gn.next=e;return t}var pn=null;function Pa(e){pn===null?pn=[e]:pn.push(e)}function Yp(e,t,n,o){var r=t.interleaved;return r===null?(n.next=n,Pa(t)):(n.next=r.next,r.next=n),t.interleaved=n,Lt(e,o)}function Lt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var zt=!1;function Ma(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Qp(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Pt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Xt(e,t,n){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,Y&2){var r=o.pending;return r===null?t.next=t:(t.next=r.next,r.next=t),o.pending=t,Lt(e,n)}return r=o.interleaved,r===null?(t.next=t,Pa(o)):(t.next=r.next,r.next=t),o.interleaved=t,Lt(e,n)}function Or(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var o=t.lanes;o&=e.pendingLanes,n|=o,t.lanes=n,ya(e,n)}}function oc(e,t){var n=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,n===o)){var r=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?r=i=s:i=i.next=s,n=n.next}while(n!==null);i===null?r=i=t:i=i.next=t}else r=i=t;n={baseState:o.baseState,firstBaseUpdate:r,lastBaseUpdate:i,shared:o.shared,effects:o.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function vi(e,t,n,o){var r=e.updateQueue;zt=!1;var i=r.firstBaseUpdate,s=r.lastBaseUpdate,u=r.shared.pending;if(u!==null){r.shared.pending=null;var d=u,c=d.next;d.next=null,s===null?i=c:s.next=c,s=d;var f=e.alternate;f!==null&&(f=f.updateQueue,u=f.lastBaseUpdate,u!==s&&(u===null?f.firstBaseUpdate=c:u.next=c,f.lastBaseUpdate=d))}if(i!==null){var p=r.baseState;s=0,f=c=d=null,u=i;do{var h=u.lane,g=u.eventTime;if((o&h)===h){f!==null&&(f=f.next={eventTime:g,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var y=e,T=u;switch(h=t,g=n,T.tag){case 1:if(y=T.payload,typeof y=="function"){p=y.call(g,p,h);break e}p=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=T.payload,h=typeof y=="function"?y.call(g,p,h):y,h==null)break e;p=le({},p,h);break e;case 2:zt=!0}}u.callback!==null&&u.lane!==0&&(e.flags|=64,h=r.effects,h===null?r.effects=[u]:h.push(u))}else g={eventTime:g,lane:h,tag:u.tag,payload:u.payload,callback:u.callback,next:null},f===null?(c=f=g,d=p):f=f.next=g,s|=h;if(u=u.next,u===null){if(u=r.shared.pending,u===null)break;h=u,u=h.next,h.next=null,r.lastBaseUpdate=h,r.shared.pending=null}}while(!0);if(f===null&&(d=p),r.baseState=d,r.firstBaseUpdate=c,r.lastBaseUpdate=f,t=r.shared.interleaved,t!==null){r=t;do s|=r.lane,r=r.next;while(r!==t)}else i===null&&(r.shared.lanes=0);Tn|=s,e.lanes=s,e.memoizedState=p}}function rc(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var o=e[t],r=o.callback;if(r!==null){if(o.callback=null,o=n,typeof r!="function")throw Error(R(191,r));r.call(o)}}}var ar={},_t=rn(ar),Xo=rn(ar),Zo=rn(ar);function hn(e){if(e===ar)throw Error(R(174));return e}function Da(e,t){switch(te(Zo,t),te(Xo,e),te(_t,ar),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:rl(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=rl(t,e)}oe(_t),te(_t,t)}function no(){oe(_t),oe(Xo),oe(Zo)}function Xp(e){hn(Zo.current);var t=hn(_t.current),n=rl(t,e.type);t!==n&&(te(Xo,e),te(_t,n))}function La(e){Xo.current===e&&(oe(_t),oe(Xo))}var ie=rn(0);function xi(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Us=[];function Ua(){for(var e=0;e<Us.length;e++)Us[e]._workInProgressVersionPrimary=null;Us.length=0}var $r=bt.ReactCurrentDispatcher,Fs=bt.ReactCurrentBatchConfig,En=0,se=null,pe=null,me=null,Si=!1,Fo=!1,jo=0,ky=0;function Ee(){throw Error(R(321))}function Fa(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!mt(e[n],t[n]))return!1;return!0}function ba(e,t,n,o,r,i){if(En=i,se=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,$r.current=e===null||e.memoizedState===null?Ly:Uy,e=n(o,r),Fo){i=0;do{if(Fo=!1,jo=0,25<=i)throw Error(R(301));i+=1,me=pe=null,t.updateQueue=null,$r.current=Fy,e=n(o,r)}while(Fo)}if($r.current=Ei,t=pe!==null&&pe.next!==null,En=0,me=pe=se=null,Si=!1,t)throw Error(R(300));return e}function Va(){var e=jo!==0;return jo=0,e}function Et(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return me===null?se.memoizedState=me=e:me=me.next=e,me}function ot(){if(pe===null){var e=se.alternate;e=e!==null?e.memoizedState:null}else e=pe.next;var t=me===null?se.memoizedState:me.next;if(t!==null)me=t,pe=e;else{if(e===null)throw Error(R(310));pe=e,e={memoizedState:pe.memoizedState,baseState:pe.baseState,baseQueue:pe.baseQueue,queue:pe.queue,next:null},me===null?se.memoizedState=me=e:me=me.next=e}return me}function er(e,t){return typeof t=="function"?t(e):t}function bs(e){var t=ot(),n=t.queue;if(n===null)throw Error(R(311));n.lastRenderedReducer=e;var o=pe,r=o.baseQueue,i=n.pending;if(i!==null){if(r!==null){var s=r.next;r.next=i.next,i.next=s}o.baseQueue=r=i,n.pending=null}if(r!==null){i=r.next,o=o.baseState;var u=s=null,d=null,c=i;do{var f=c.lane;if((En&f)===f)d!==null&&(d=d.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),o=c.hasEagerState?c.eagerState:e(o,c.action);else{var p={lane:f,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};d===null?(u=d=p,s=o):d=d.next=p,se.lanes|=f,Tn|=f}c=c.next}while(c!==null&&c!==i);d===null?s=o:d.next=u,mt(o,t.memoizedState)||(Fe=!0),t.memoizedState=o,t.baseState=s,t.baseQueue=d,n.lastRenderedState=o}if(e=n.interleaved,e!==null){r=e;do i=r.lane,se.lanes|=i,Tn|=i,r=r.next;while(r!==e)}else r===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Vs(e){var t=ot(),n=t.queue;if(n===null)throw Error(R(311));n.lastRenderedReducer=e;var o=n.dispatch,r=n.pending,i=t.memoizedState;if(r!==null){n.pending=null;var s=r=r.next;do i=e(i,s.action),s=s.next;while(s!==r);mt(i,t.memoizedState)||(Fe=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,o]}function Zp(){}function jp(e,t){var n=se,o=ot(),r=t(),i=!mt(o.memoizedState,r);if(i&&(o.memoizedState=r,Fe=!0),o=o.queue,Ga(nh.bind(null,n,o,e),[e]),o.getSnapshot!==t||i||me!==null&&me.memoizedState.tag&1){if(n.flags|=2048,tr(9,th.bind(null,n,o,r,t),void 0,null),ge===null)throw Error(R(349));En&30||eh(n,t,r)}return r}function eh(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=se.updateQueue,t===null?(t={lastEffect:null,stores:null},se.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function th(e,t,n,o){t.value=n,t.getSnapshot=o,oh(t)&&rh(e)}function nh(e,t,n){return n(function(){oh(t)&&rh(e)})}function oh(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!mt(e,n)}catch{return!0}}function rh(e){var t=Lt(e,1);t!==null&&ft(t,e,1,-1)}function ic(e){var t=Et();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:er,lastRenderedState:e},t.queue=e,e=e.dispatch=Dy.bind(null,se,e),[t.memoizedState,e]}function tr(e,t,n,o){return e={tag:e,create:t,destroy:n,deps:o,next:null},t=se.updateQueue,t===null?(t={lastEffect:null,stores:null},se.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(o=n.next,n.next=e,e.next=o,t.lastEffect=e)),e}function ih(){return ot().memoizedState}function Jr(e,t,n,o){var r=Et();se.flags|=e,r.memoizedState=tr(1|t,n,void 0,o===void 0?null:o)}function Ji(e,t,n,o){var r=ot();o=o===void 0?null:o;var i=void 0;if(pe!==null){var s=pe.memoizedState;if(i=s.destroy,o!==null&&Fa(o,s.deps)){r.memoizedState=tr(t,n,i,o);return}}se.flags|=e,r.memoizedState=tr(1|t,n,i,o)}function sc(e,t){return Jr(8390656,8,e,t)}function Ga(e,t){return Ji(2048,8,e,t)}function sh(e,t){return Ji(4,2,e,t)}function lh(e,t){return Ji(4,4,e,t)}function ah(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function uh(e,t,n){return n=n!=null?n.concat([e]):null,Ji(4,4,ah.bind(null,t,e),n)}function Ha(){}function ch(e,t){var n=ot();t=t===void 0?null:t;var o=n.memoizedState;return o!==null&&t!==null&&Fa(t,o[1])?o[0]:(n.memoizedState=[e,t],e)}function dh(e,t){var n=ot();t=t===void 0?null:t;var o=n.memoizedState;return o!==null&&t!==null&&Fa(t,o[1])?o[0]:(e=e(),n.memoizedState=[e,t],e)}function fh(e,t,n){return En&21?(mt(n,t)||(n=yp(),se.lanes|=n,Tn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Fe=!0),e.memoizedState=n)}function Py(e,t){var n=Z;Z=n!==0&&4>n?n:4,e(!0);var o=Fs.transition;Fs.transition={};try{e(!1),t()}finally{Z=n,Fs.transition=o}}function ph(){return ot().memoizedState}function My(e,t,n){var o=jt(e);if(n={lane:o,action:n,hasEagerState:!1,eagerState:null,next:null},hh(e))mh(t,n);else if(n=Yp(e,t,n,o),n!==null){var r=Pe();ft(n,e,o,r),gh(n,t,o)}}function Dy(e,t,n){var o=jt(e),r={lane:o,action:n,hasEagerState:!1,eagerState:null,next:null};if(hh(e))mh(t,r);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var s=t.lastRenderedState,u=i(s,n);if(r.hasEagerState=!0,r.eagerState=u,mt(u,s)){var d=t.interleaved;d===null?(r.next=r,Pa(t)):(r.next=d.next,d.next=r),t.interleaved=r;return}}catch{}finally{}n=Yp(e,t,r,o),n!==null&&(r=Pe(),ft(n,e,o,r),gh(n,t,o))}}function hh(e){var t=e.alternate;return e===se||t!==null&&t===se}function mh(e,t){Fo=Si=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function gh(e,t,n){if(n&4194240){var o=t.lanes;o&=e.pendingLanes,n|=o,t.lanes=n,ya(e,n)}}var Ei={readContext:nt,useCallback:Ee,useContext:Ee,useEffect:Ee,useImperativeHandle:Ee,useInsertionEffect:Ee,useLayoutEffect:Ee,useMemo:Ee,useReducer:Ee,useRef:Ee,useState:Ee,useDebugValue:Ee,useDeferredValue:Ee,useTransition:Ee,useMutableSource:Ee,useSyncExternalStore:Ee,useId:Ee,unstable_isNewReconciler:!1},Ly={readContext:nt,useCallback:function(e,t){return Et().memoizedState=[e,t===void 0?null:t],e},useContext:nt,useEffect:sc,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Jr(4194308,4,ah.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Jr(4194308,4,e,t)},useInsertionEffect:function(e,t){return Jr(4,2,e,t)},useMemo:function(e,t){var n=Et();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var o=Et();return t=n!==void 0?n(t):t,o.memoizedState=o.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},o.queue=e,e=e.dispatch=My.bind(null,se,e),[o.memoizedState,e]},useRef:function(e){var t=Et();return e={current:e},t.memoizedState=e},useState:ic,useDebugValue:Ha,useDeferredValue:function(e){return Et().memoizedState=e},useTransition:function(){var e=ic(!1),t=e[0];return e=Py.bind(null,e[1]),Et().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var o=se,r=Et();if(re){if(n===void 0)throw Error(R(407));n=n()}else{if(n=t(),ge===null)throw Error(R(349));En&30||eh(o,t,n)}r.memoizedState=n;var i={value:n,getSnapshot:t};return r.queue=i,sc(nh.bind(null,o,i,e),[e]),o.flags|=2048,tr(9,th.bind(null,o,i,n,t),void 0,null),n},useId:function(){var e=Et(),t=ge.identifierPrefix;if(re){var n=kt,o=Rt;n=(o&~(1<<32-dt(o)-1)).toString(32)+n,t=":"+t+"R"+n,n=jo++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=ky++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Uy={readContext:nt,useCallback:ch,useContext:nt,useEffect:Ga,useImperativeHandle:uh,useInsertionEffect:sh,useLayoutEffect:lh,useMemo:dh,useReducer:bs,useRef:ih,useState:function(){return bs(er)},useDebugValue:Ha,useDeferredValue:function(e){var t=ot();return fh(t,pe.memoizedState,e)},useTransition:function(){var e=bs(er)[0],t=ot().memoizedState;return[e,t]},useMutableSource:Zp,useSyncExternalStore:jp,useId:ph,unstable_isNewReconciler:!1},Fy={readContext:nt,useCallback:ch,useContext:nt,useEffect:Ga,useImperativeHandle:uh,useInsertionEffect:sh,useLayoutEffect:lh,useMemo:dh,useReducer:Vs,useRef:ih,useState:function(){return Vs(er)},useDebugValue:Ha,useDeferredValue:function(e){var t=ot();return pe===null?t.memoizedState=e:fh(t,pe.memoizedState,e)},useTransition:function(){var e=Vs(er)[0],t=ot().memoizedState;return[e,t]},useMutableSource:Zp,useSyncExternalStore:jp,useId:ph,unstable_isNewReconciler:!1};function at(e,t){if(e&&e.defaultProps){t=le({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function wl(e,t,n,o){t=e.memoizedState,n=n(o,t),n=n==null?t:le({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Wi={isMounted:function(e){return(e=e._reactInternals)?In(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var o=Pe(),r=jt(e),i=Pt(o,r);i.payload=t,n!=null&&(i.callback=n),t=Xt(e,i,r),t!==null&&(ft(t,e,r,o),Or(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var o=Pe(),r=jt(e),i=Pt(o,r);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Xt(e,i,r),t!==null&&(ft(t,e,r,o),Or(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Pe(),o=jt(e),r=Pt(n,o);r.tag=2,t!=null&&(r.callback=t),t=Xt(e,r,o),t!==null&&(ft(t,e,o,n),Or(t,e,o))}};function lc(e,t,n,o,r,i,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,i,s):t.prototype&&t.prototype.isPureReactComponent?!Wo(n,o)||!Wo(r,i):!0}function yh(e,t,n){var o=!1,r=nn,i=t.contextType;return typeof i=="object"&&i!==null?i=nt(i):(r=Ve(t)?xn:Ie.current,o=t.contextTypes,i=(o=o!=null)?jn(e,r):nn),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Wi,e.stateNode=t,t._reactInternals=e,o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=i),t}function ac(e,t,n,o){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,o),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,o),t.state!==e&&Wi.enqueueReplaceState(t,t.state,null)}function Il(e,t,n,o){var r=e.stateNode;r.props=n,r.state=e.memoizedState,r.refs={},Ma(e);var i=t.contextType;typeof i=="object"&&i!==null?r.context=nt(i):(i=Ve(t)?xn:Ie.current,r.context=jn(e,i)),r.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(wl(e,t,i,n),r.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(t=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),t!==r.state&&Wi.enqueueReplaceState(r,r.state,null),vi(e,n,r,o),r.state=e.memoizedState),typeof r.componentDidMount=="function"&&(e.flags|=4194308)}function oo(e,t){try{var n="",o=t;do n+=c0(o),o=o.return;while(o);var r=n}catch(i){r=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:r,digest:null}}function Gs(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Nl(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var by=typeof WeakMap=="function"?WeakMap:Map;function vh(e,t,n){n=Pt(-1,n),n.tag=3,n.payload={element:null};var o=t.value;return n.callback=function(){Ci||(Ci=!0,bl=o),Nl(e,t)},n}function xh(e,t,n){n=Pt(-1,n),n.tag=3;var o=e.type.getDerivedStateFromError;if(typeof o=="function"){var r=t.value;n.payload=function(){return o(r)},n.callback=function(){Nl(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Nl(e,t),typeof o!="function"&&(Zt===null?Zt=new Set([this]):Zt.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function uc(e,t,n){var o=e.pingCache;if(o===null){o=e.pingCache=new by;var r=new Set;o.set(t,r)}else r=o.get(t),r===void 0&&(r=new Set,o.set(t,r));r.has(n)||(r.add(n),e=Xy.bind(null,e,t,n),t.then(e,e))}function cc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function dc(e,t,n,o,r){return e.mode&1?(e.flags|=65536,e.lanes=r,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Pt(-1,1),t.tag=2,Xt(n,t,1))),n.lanes|=1),e)}var Vy=bt.ReactCurrentOwner,Fe=!1;function ke(e,t,n,o){t.child=e===null?Kp(t,null,n,o):to(t,e.child,n,o)}function fc(e,t,n,o,r){n=n.render;var i=t.ref;return Kn(t,r),o=ba(e,t,n,o,i,r),n=Va(),e!==null&&!Fe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,Ut(e,t,r)):(re&&n&&wa(t),t.flags|=1,ke(e,t,o,r),t.child)}function pc(e,t,n,o,r){if(e===null){var i=n.type;return typeof i=="function"&&!Ka(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,Sh(e,t,i,o,r)):(e=Qr(n.type,null,o,t,t.mode,r),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&r)){var s=i.memoizedProps;if(n=n.compare,n=n!==null?n:Wo,n(s,o)&&e.ref===t.ref)return Ut(e,t,r)}return t.flags|=1,e=en(i,o),e.ref=t.ref,e.return=t,t.child=e}function Sh(e,t,n,o,r){if(e!==null){var i=e.memoizedProps;if(Wo(i,o)&&e.ref===t.ref)if(Fe=!1,t.pendingProps=o=i,(e.lanes&r)!==0)e.flags&131072&&(Fe=!0);else return t.lanes=e.lanes,Ut(e,t,r)}return Al(e,t,n,o,r)}function Eh(e,t,n){var o=t.pendingProps,r=o.children,i=e!==null?e.memoizedState:null;if(o.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},te(Bn,Oe),Oe|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,te(Bn,Oe),Oe|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},o=i!==null?i.baseLanes:n,te(Bn,Oe),Oe|=o}else i!==null?(o=i.baseLanes|n,t.memoizedState=null):o=n,te(Bn,Oe),Oe|=o;return ke(e,t,r,n),t.child}function Th(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Al(e,t,n,o,r){var i=Ve(n)?xn:Ie.current;return i=jn(t,i),Kn(t,r),n=ba(e,t,n,o,i,r),o=Va(),e!==null&&!Fe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,Ut(e,t,r)):(re&&o&&wa(t),t.flags|=1,ke(e,t,n,r),t.child)}function hc(e,t,n,o,r){if(Ve(n)){var i=!0;pi(t)}else i=!1;if(Kn(t,r),t.stateNode===null)Wr(e,t),yh(t,n,o),Il(t,n,o,r),o=!0;else if(e===null){var s=t.stateNode,u=t.memoizedProps;s.props=u;var d=s.context,c=n.contextType;typeof c=="object"&&c!==null?c=nt(c):(c=Ve(n)?xn:Ie.current,c=jn(t,c));var f=n.getDerivedStateFromProps,p=typeof f=="function"||typeof s.getSnapshotBeforeUpdate=="function";p||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(u!==o||d!==c)&&ac(t,s,o,c),zt=!1;var h=t.memoizedState;s.state=h,vi(t,o,s,r),d=t.memoizedState,u!==o||h!==d||be.current||zt?(typeof f=="function"&&(wl(t,n,f,o),d=t.memoizedState),(u=zt||lc(t,n,u,o,h,d,c))?(p||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=o,t.memoizedState=d),s.props=o,s.state=d,s.context=c,o=u):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),o=!1)}else{s=t.stateNode,Qp(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:at(t.type,u),s.props=c,p=t.pendingProps,h=s.context,d=n.contextType,typeof d=="object"&&d!==null?d=nt(d):(d=Ve(n)?xn:Ie.current,d=jn(t,d));var g=n.getDerivedStateFromProps;(f=typeof g=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(u!==p||h!==d)&&ac(t,s,o,d),zt=!1,h=t.memoizedState,s.state=h,vi(t,o,s,r);var y=t.memoizedState;u!==p||h!==y||be.current||zt?(typeof g=="function"&&(wl(t,n,g,o),y=t.memoizedState),(c=zt||lc(t,n,c,o,h,y,d)||!1)?(f||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(o,y,d),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(o,y,d)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=o,t.memoizedState=y),s.props=o,s.state=y,s.context=d,o=c):(typeof s.componentDidUpdate!="function"||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),o=!1)}return Rl(e,t,n,o,i,r)}function Rl(e,t,n,o,r,i){Th(e,t);var s=(t.flags&128)!==0;if(!o&&!s)return r&&ju(t,n,!1),Ut(e,t,i);o=t.stateNode,Vy.current=t;var u=s&&typeof n.getDerivedStateFromError!="function"?null:o.render();return t.flags|=1,e!==null&&s?(t.child=to(t,e.child,null,i),t.child=to(t,null,u,i)):ke(e,t,u,i),t.memoizedState=o.state,r&&ju(t,n,!0),t.child}function Ch(e){var t=e.stateNode;t.pendingContext?Zu(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Zu(e,t.context,!1),Da(e,t.containerInfo)}function mc(e,t,n,o,r){return eo(),Na(r),t.flags|=256,ke(e,t,n,o),t.child}var kl={dehydrated:null,treeContext:null,retryLane:0};function Pl(e){return{baseLanes:e,cachePool:null,transitions:null}}function _h(e,t,n){var o=t.pendingProps,r=ie.current,i=!1,s=(t.flags&128)!==0,u;if((u=s)||(u=e!==null&&e.memoizedState===null?!1:(r&2)!==0),u?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(r|=1),te(ie,r&1),e===null)return Cl(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=o.children,e=o.fallback,i?(o=t.mode,i=t.child,s={mode:"hidden",children:s},!(o&1)&&i!==null?(i.childLanes=0,i.pendingProps=s):i=Qi(s,o,0,null),e=yn(e,o,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Pl(n),t.memoizedState=kl,e):Ba(t,s));if(r=e.memoizedState,r!==null&&(u=r.dehydrated,u!==null))return Gy(e,t,s,o,u,r,n);if(i){i=o.fallback,s=t.mode,r=e.child,u=r.sibling;var d={mode:"hidden",children:o.children};return!(s&1)&&t.child!==r?(o=t.child,o.childLanes=0,o.pendingProps=d,t.deletions=null):(o=en(r,d),o.subtreeFlags=r.subtreeFlags&14680064),u!==null?i=en(u,i):(i=yn(i,s,n,null),i.flags|=2),i.return=t,o.return=t,o.sibling=i,t.child=o,o=i,i=t.child,s=e.child.memoizedState,s=s===null?Pl(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},i.memoizedState=s,i.childLanes=e.childLanes&~n,t.memoizedState=kl,o}return i=e.child,e=i.sibling,o=en(i,{mode:"visible",children:o.children}),!(t.mode&1)&&(o.lanes=n),o.return=t,o.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=o,t.memoizedState=null,o}function Ba(e,t){return t=Qi({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Rr(e,t,n,o){return o!==null&&Na(o),to(t,e.child,null,n),e=Ba(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Gy(e,t,n,o,r,i,s){if(n)return t.flags&256?(t.flags&=-257,o=Gs(Error(R(422))),Rr(e,t,s,o)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=o.fallback,r=t.mode,o=Qi({mode:"visible",children:o.children},r,0,null),i=yn(i,r,s,null),i.flags|=2,o.return=t,i.return=t,o.sibling=i,t.child=o,t.mode&1&&to(t,e.child,null,s),t.child.memoizedState=Pl(s),t.memoizedState=kl,i);if(!(t.mode&1))return Rr(e,t,s,null);if(r.data==="$!"){if(o=r.nextSibling&&r.nextSibling.dataset,o)var u=o.dgst;return o=u,i=Error(R(419)),o=Gs(i,o,void 0),Rr(e,t,s,o)}if(u=(s&e.childLanes)!==0,Fe||u){if(o=ge,o!==null){switch(s&-s){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(o.suspendedLanes|s)?0:r,r!==0&&r!==i.retryLane&&(i.retryLane=r,Lt(e,r),ft(o,e,r,-1))}return Wa(),o=Gs(Error(R(421))),Rr(e,t,s,o)}return r.data==="$?"?(t.flags|=128,t.child=e.child,t=Zy.bind(null,e),r._reactRetry=t,null):(e=i.treeContext,Je=Qt(r.nextSibling),We=t,re=!0,ct=null,e!==null&&(Xe[Ze++]=Rt,Xe[Ze++]=kt,Xe[Ze++]=Sn,Rt=e.id,kt=e.overflow,Sn=t),t=Ba(t,o.children),t.flags|=4096,t)}function gc(e,t,n){e.lanes|=t;var o=e.alternate;o!==null&&(o.lanes|=t),_l(e.return,t,n)}function Hs(e,t,n,o,r){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:o,tail:n,tailMode:r}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=o,i.tail=n,i.tailMode=r)}function wh(e,t,n){var o=t.pendingProps,r=o.revealOrder,i=o.tail;if(ke(e,t,o.children,n),o=ie.current,o&2)o=o&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&gc(e,n,t);else if(e.tag===19)gc(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}if(te(ie,o),!(t.mode&1))t.memoizedState=null;else switch(r){case"forwards":for(n=t.child,r=null;n!==null;)e=n.alternate,e!==null&&xi(e)===null&&(r=n),n=n.sibling;n=r,n===null?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),Hs(t,!1,r,n,i);break;case"backwards":for(n=null,r=t.child,t.child=null;r!==null;){if(e=r.alternate,e!==null&&xi(e)===null){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}Hs(t,!0,n,null,i);break;case"together":Hs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Wr(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ut(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Tn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(R(153));if(t.child!==null){for(e=t.child,n=en(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=en(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Hy(e,t,n){switch(t.tag){case 3:Ch(t),eo();break;case 5:Xp(t);break;case 1:Ve(t.type)&&pi(t);break;case 4:Da(t,t.stateNode.containerInfo);break;case 10:var o=t.type._context,r=t.memoizedProps.value;te(gi,o._currentValue),o._currentValue=r;break;case 13:if(o=t.memoizedState,o!==null)return o.dehydrated!==null?(te(ie,ie.current&1),t.flags|=128,null):n&t.child.childLanes?_h(e,t,n):(te(ie,ie.current&1),e=Ut(e,t,n),e!==null?e.sibling:null);te(ie,ie.current&1);break;case 19:if(o=(n&t.childLanes)!==0,e.flags&128){if(o)return wh(e,t,n);t.flags|=128}if(r=t.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),te(ie,ie.current),o)break;return null;case 22:case 23:return t.lanes=0,Eh(e,t,n)}return Ut(e,t,n)}var Ih,Ml,Nh,Ah;Ih=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ml=function(){};Nh=function(e,t,n,o){var r=e.memoizedProps;if(r!==o){e=t.stateNode,hn(_t.current);var i=null;switch(n){case"input":r=el(e,r),o=el(e,o),i=[];break;case"select":r=le({},r,{value:void 0}),o=le({},o,{value:void 0}),i=[];break;case"textarea":r=ol(e,r),o=ol(e,o),i=[];break;default:typeof r.onClick!="function"&&typeof o.onClick=="function"&&(e.onclick=di)}il(n,o);var s;n=null;for(c in r)if(!o.hasOwnProperty(c)&&r.hasOwnProperty(c)&&r[c]!=null)if(c==="style"){var u=r[c];for(s in u)u.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Ho.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in o){var d=o[c];if(u=r!=null?r[c]:void 0,o.hasOwnProperty(c)&&d!==u&&(d!=null||u!=null))if(c==="style")if(u){for(s in u)!u.hasOwnProperty(s)||d&&d.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in d)d.hasOwnProperty(s)&&u[s]!==d[s]&&(n||(n={}),n[s]=d[s])}else n||(i||(i=[]),i.push(c,n)),n=d;else c==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,u=u?u.__html:void 0,d!=null&&u!==d&&(i=i||[]).push(c,d)):c==="children"?typeof d!="string"&&typeof d!="number"||(i=i||[]).push(c,""+d):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Ho.hasOwnProperty(c)?(d!=null&&c==="onScroll"&&ne("scroll",e),i||u===d||(i=[])):(i=i||[]).push(c,d))}n&&(i=i||[]).push("style",n);var c=i;(t.updateQueue=c)&&(t.flags|=4)}};Ah=function(e,t,n,o){n!==o&&(t.flags|=4)};function Eo(e,t){if(!re)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var o=null;n!==null;)n.alternate!==null&&(o=n),n=n.sibling;o===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function Te(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,o=0;if(t)for(var r=e.child;r!==null;)n|=r.lanes|r.childLanes,o|=r.subtreeFlags&14680064,o|=r.flags&14680064,r.return=e,r=r.sibling;else for(r=e.child;r!==null;)n|=r.lanes|r.childLanes,o|=r.subtreeFlags,o|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=o,e.childLanes=n,t}function By(e,t,n){var o=t.pendingProps;switch(Ia(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Te(t),null;case 1:return Ve(t.type)&&fi(),Te(t),null;case 3:return o=t.stateNode,no(),oe(be),oe(Ie),Ua(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(e===null||e.child===null)&&(Nr(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ct!==null&&(Hl(ct),ct=null))),Ml(e,t),Te(t),null;case 5:La(t);var r=hn(Zo.current);if(n=t.type,e!==null&&t.stateNode!=null)Nh(e,t,n,o,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!o){if(t.stateNode===null)throw Error(R(166));return Te(t),null}if(e=hn(_t.current),Nr(t)){o=t.stateNode,n=t.type;var i=t.memoizedProps;switch(o[Tt]=t,o[Qo]=i,e=(t.mode&1)!==0,n){case"dialog":ne("cancel",o),ne("close",o);break;case"iframe":case"object":case"embed":ne("load",o);break;case"video":case"audio":for(r=0;r<Ro.length;r++)ne(Ro[r],o);break;case"source":ne("error",o);break;case"img":case"image":case"link":ne("error",o),ne("load",o);break;case"details":ne("toggle",o);break;case"input":wu(o,i),ne("invalid",o);break;case"select":o._wrapperState={wasMultiple:!!i.multiple},ne("invalid",o);break;case"textarea":Nu(o,i),ne("invalid",o)}il(n,i),r=null;for(var s in i)if(i.hasOwnProperty(s)){var u=i[s];s==="children"?typeof u=="string"?o.textContent!==u&&(i.suppressHydrationWarning!==!0&&Ir(o.textContent,u,e),r=["children",u]):typeof u=="number"&&o.textContent!==""+u&&(i.suppressHydrationWarning!==!0&&Ir(o.textContent,u,e),r=["children",""+u]):Ho.hasOwnProperty(s)&&u!=null&&s==="onScroll"&&ne("scroll",o)}switch(n){case"input":vr(o),Iu(o,i,!0);break;case"textarea":vr(o),Au(o);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(o.onclick=di)}o=r,t.updateQueue=o,o!==null&&(t.flags|=4)}else{s=r.nodeType===9?r:r.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=np(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof o.is=="string"?e=s.createElement(n,{is:o.is}):(e=s.createElement(n),n==="select"&&(s=e,o.multiple?s.multiple=!0:o.size&&(s.size=o.size))):e=s.createElementNS(e,n),e[Tt]=t,e[Qo]=o,Ih(e,t,!1,!1),t.stateNode=e;e:{switch(s=sl(n,o),n){case"dialog":ne("cancel",e),ne("close",e),r=o;break;case"iframe":case"object":case"embed":ne("load",e),r=o;break;case"video":case"audio":for(r=0;r<Ro.length;r++)ne(Ro[r],e);r=o;break;case"source":ne("error",e),r=o;break;case"img":case"image":case"link":ne("error",e),ne("load",e),r=o;break;case"details":ne("toggle",e),r=o;break;case"input":wu(e,o),r=el(e,o),ne("invalid",e);break;case"option":r=o;break;case"select":e._wrapperState={wasMultiple:!!o.multiple},r=le({},o,{value:void 0}),ne("invalid",e);break;case"textarea":Nu(e,o),r=ol(e,o),ne("invalid",e);break;default:r=o}il(n,r),u=r;for(i in u)if(u.hasOwnProperty(i)){var d=u[i];i==="style"?ip(e,d):i==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,d!=null&&op(e,d)):i==="children"?typeof d=="string"?(n!=="textarea"||d!=="")&&Bo(e,d):typeof d=="number"&&Bo(e,""+d):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Ho.hasOwnProperty(i)?d!=null&&i==="onScroll"&&ne("scroll",e):d!=null&&da(e,i,d,s))}switch(n){case"input":vr(e),Iu(e,o,!1);break;case"textarea":vr(e),Au(e);break;case"option":o.value!=null&&e.setAttribute("value",""+tn(o.value));break;case"select":e.multiple=!!o.multiple,i=o.value,i!=null?On(e,!!o.multiple,i,!1):o.defaultValue!=null&&On(e,!!o.multiple,o.defaultValue,!0);break;default:typeof r.onClick=="function"&&(e.onclick=di)}switch(n){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}}o&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Te(t),null;case 6:if(e&&t.stateNode!=null)Ah(e,t,e.memoizedProps,o);else{if(typeof o!="string"&&t.stateNode===null)throw Error(R(166));if(n=hn(Zo.current),hn(_t.current),Nr(t)){if(o=t.stateNode,n=t.memoizedProps,o[Tt]=t,(i=o.nodeValue!==n)&&(e=We,e!==null))switch(e.tag){case 3:Ir(o.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ir(o.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else o=(n.nodeType===9?n:n.ownerDocument).createTextNode(o),o[Tt]=t,t.stateNode=o}return Te(t),null;case 13:if(oe(ie),o=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(re&&Je!==null&&t.mode&1&&!(t.flags&128))Jp(),eo(),t.flags|=98560,i=!1;else if(i=Nr(t),o!==null&&o.dehydrated!==null){if(e===null){if(!i)throw Error(R(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(R(317));i[Tt]=t}else eo(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Te(t),i=!1}else ct!==null&&(Hl(ct),ct=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(o=o!==null,o!==(e!==null&&e.memoizedState!==null)&&o&&(t.child.flags|=8192,t.mode&1&&(e===null||ie.current&1?he===0&&(he=3):Wa())),t.updateQueue!==null&&(t.flags|=4),Te(t),null);case 4:return no(),Ml(e,t),e===null&&Ko(t.stateNode.containerInfo),Te(t),null;case 10:return ka(t.type._context),Te(t),null;case 17:return Ve(t.type)&&fi(),Te(t),null;case 19:if(oe(ie),i=t.memoizedState,i===null)return Te(t),null;if(o=(t.flags&128)!==0,s=i.rendering,s===null)if(o)Eo(i,!1);else{if(he!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=xi(e),s!==null){for(t.flags|=128,Eo(i,!1),o=s.updateQueue,o!==null&&(t.updateQueue=o,t.flags|=4),t.subtreeFlags=0,o=n,n=t.child;n!==null;)i=n,e=o,i.flags&=14680066,s=i.alternate,s===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=s.childLanes,i.lanes=s.lanes,i.child=s.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=s.memoizedProps,i.memoizedState=s.memoizedState,i.updateQueue=s.updateQueue,i.type=s.type,e=s.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return te(ie,ie.current&1|2),t.child}e=e.sibling}i.tail!==null&&ce()>ro&&(t.flags|=128,o=!0,Eo(i,!1),t.lanes=4194304)}else{if(!o)if(e=xi(s),e!==null){if(t.flags|=128,o=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Eo(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!re)return Te(t),null}else 2*ce()-i.renderingStartTime>ro&&n!==1073741824&&(t.flags|=128,o=!0,Eo(i,!1),t.lanes=4194304);i.isBackwards?(s.sibling=t.child,t.child=s):(n=i.last,n!==null?n.sibling=s:t.child=s,i.last=s)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=ce(),t.sibling=null,n=ie.current,te(ie,o?n&1|2:n&1),t):(Te(t),null);case 22:case 23:return Ja(),o=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==o&&(t.flags|=8192),o&&t.mode&1?Oe&1073741824&&(Te(t),t.subtreeFlags&6&&(t.flags|=8192)):Te(t),null;case 24:return null;case 25:return null}throw Error(R(156,t.tag))}function zy(e,t){switch(Ia(t),t.tag){case 1:return Ve(t.type)&&fi(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return no(),oe(be),oe(Ie),Ua(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return La(t),null;case 13:if(oe(ie),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(R(340));eo()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return oe(ie),null;case 4:return no(),null;case 10:return ka(t.type._context),null;case 22:case 23:return Ja(),null;case 24:return null;default:return null}}var kr=!1,Ce=!1,qy=typeof WeakSet=="function"?WeakSet:Set,F=null;function Hn(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(o){ae(e,t,o)}else n.current=null}function Dl(e,t,n){try{n()}catch(o){ae(e,t,o)}}var yc=!1;function Oy(e,t){if(gl=ai,e=Dp(),_a(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var o=n.getSelection&&n.getSelection();if(o&&o.rangeCount!==0){n=o.anchorNode;var r=o.anchorOffset,i=o.focusNode;o=o.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var s=0,u=-1,d=-1,c=0,f=0,p=e,h=null;t:for(;;){for(var g;p!==n||r!==0&&p.nodeType!==3||(u=s+r),p!==i||o!==0&&p.nodeType!==3||(d=s+o),p.nodeType===3&&(s+=p.nodeValue.length),(g=p.firstChild)!==null;)h=p,p=g;for(;;){if(p===e)break t;if(h===n&&++c===r&&(u=s),h===i&&++f===o&&(d=s),(g=p.nextSibling)!==null)break;p=h,h=p.parentNode}p=g}n=u===-1||d===-1?null:{start:u,end:d}}else n=null}n=n||{start:0,end:0}}else n=null;for(yl={focusedElem:e,selectionRange:n},ai=!1,F=t;F!==null;)if(t=F,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,F=e;else for(;F!==null;){t=F;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var T=y.memoizedProps,x=y.memoizedState,v=t.stateNode,S=v.getSnapshotBeforeUpdate(t.elementType===t.type?T:at(t.type,T),x);v.__reactInternalSnapshotBeforeUpdate=S}break;case 3:var E=t.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(R(163))}}catch(C){ae(t,t.return,C)}if(e=t.sibling,e!==null){e.return=t.return,F=e;break}F=t.return}return y=yc,yc=!1,y}function bo(e,t,n){var o=t.updateQueue;if(o=o!==null?o.lastEffect:null,o!==null){var r=o=o.next;do{if((r.tag&e)===e){var i=r.destroy;r.destroy=void 0,i!==void 0&&Dl(t,n,i)}r=r.next}while(r!==o)}}function Ki(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var o=n.create;n.destroy=o()}n=n.next}while(n!==t)}}function Ll(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Rh(e){var t=e.alternate;t!==null&&(e.alternate=null,Rh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Tt],delete t[Qo],delete t[Sl],delete t[Iy],delete t[Ny])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function kh(e){return e.tag===5||e.tag===3||e.tag===4}function vc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||kh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ul(e,t,n){var o=e.tag;if(o===5||o===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=di));else if(o!==4&&(e=e.child,e!==null))for(Ul(e,t,n),e=e.sibling;e!==null;)Ul(e,t,n),e=e.sibling}function Fl(e,t,n){var o=e.tag;if(o===5||o===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(o!==4&&(e=e.child,e!==null))for(Fl(e,t,n),e=e.sibling;e!==null;)Fl(e,t,n),e=e.sibling}var ve=null,ut=!1;function Ht(e,t,n){for(n=n.child;n!==null;)Ph(e,t,n),n=n.sibling}function Ph(e,t,n){if(Ct&&typeof Ct.onCommitFiberUnmount=="function")try{Ct.onCommitFiberUnmount(Hi,n)}catch{}switch(n.tag){case 5:Ce||Hn(n,t);case 6:var o=ve,r=ut;ve=null,Ht(e,t,n),ve=o,ut=r,ve!==null&&(ut?(e=ve,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):ve.removeChild(n.stateNode));break;case 18:ve!==null&&(ut?(e=ve,n=n.stateNode,e.nodeType===8?Ds(e.parentNode,n):e.nodeType===1&&Ds(e,n),$o(e)):Ds(ve,n.stateNode));break;case 4:o=ve,r=ut,ve=n.stateNode.containerInfo,ut=!0,Ht(e,t,n),ve=o,ut=r;break;case 0:case 11:case 14:case 15:if(!Ce&&(o=n.updateQueue,o!==null&&(o=o.lastEffect,o!==null))){r=o=o.next;do{var i=r,s=i.destroy;i=i.tag,s!==void 0&&(i&2||i&4)&&Dl(n,t,s),r=r.next}while(r!==o)}Ht(e,t,n);break;case 1:if(!Ce&&(Hn(n,t),o=n.stateNode,typeof o.componentWillUnmount=="function"))try{o.props=n.memoizedProps,o.state=n.memoizedState,o.componentWillUnmount()}catch(u){ae(n,t,u)}Ht(e,t,n);break;case 21:Ht(e,t,n);break;case 22:n.mode&1?(Ce=(o=Ce)||n.memoizedState!==null,Ht(e,t,n),Ce=o):Ht(e,t,n);break;default:Ht(e,t,n)}}function xc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new qy),t.forEach(function(o){var r=jy.bind(null,e,o);n.has(o)||(n.add(o),o.then(r,r))})}}function lt(e,t){var n=t.deletions;if(n!==null)for(var o=0;o<n.length;o++){var r=n[o];try{var i=e,s=t,u=s;e:for(;u!==null;){switch(u.tag){case 5:ve=u.stateNode,ut=!1;break e;case 3:ve=u.stateNode.containerInfo,ut=!0;break e;case 4:ve=u.stateNode.containerInfo,ut=!0;break e}u=u.return}if(ve===null)throw Error(R(160));Ph(i,s,r),ve=null,ut=!1;var d=r.alternate;d!==null&&(d.return=null),r.return=null}catch(c){ae(r,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Mh(t,e),t=t.sibling}function Mh(e,t){var n=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(lt(t,e),xt(e),o&4){try{bo(3,e,e.return),Ki(3,e)}catch(T){ae(e,e.return,T)}try{bo(5,e,e.return)}catch(T){ae(e,e.return,T)}}break;case 1:lt(t,e),xt(e),o&512&&n!==null&&Hn(n,n.return);break;case 5:if(lt(t,e),xt(e),o&512&&n!==null&&Hn(n,n.return),e.flags&32){var r=e.stateNode;try{Bo(r,"")}catch(T){ae(e,e.return,T)}}if(o&4&&(r=e.stateNode,r!=null)){var i=e.memoizedProps,s=n!==null?n.memoizedProps:i,u=e.type,d=e.updateQueue;if(e.updateQueue=null,d!==null)try{u==="input"&&i.type==="radio"&&i.name!=null&&ep(r,i),sl(u,s);var c=sl(u,i);for(s=0;s<d.length;s+=2){var f=d[s],p=d[s+1];f==="style"?ip(r,p):f==="dangerouslySetInnerHTML"?op(r,p):f==="children"?Bo(r,p):da(r,f,p,c)}switch(u){case"input":tl(r,i);break;case"textarea":tp(r,i);break;case"select":var h=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?On(r,!!i.multiple,g,!1):h!==!!i.multiple&&(i.defaultValue!=null?On(r,!!i.multiple,i.defaultValue,!0):On(r,!!i.multiple,i.multiple?[]:"",!1))}r[Qo]=i}catch(T){ae(e,e.return,T)}}break;case 6:if(lt(t,e),xt(e),o&4){if(e.stateNode===null)throw Error(R(162));r=e.stateNode,i=e.memoizedProps;try{r.nodeValue=i}catch(T){ae(e,e.return,T)}}break;case 3:if(lt(t,e),xt(e),o&4&&n!==null&&n.memoizedState.isDehydrated)try{$o(t.containerInfo)}catch(T){ae(e,e.return,T)}break;case 4:lt(t,e),xt(e);break;case 13:lt(t,e),xt(e),r=e.child,r.flags&8192&&(i=r.memoizedState!==null,r.stateNode.isHidden=i,!i||r.alternate!==null&&r.alternate.memoizedState!==null||(Oa=ce())),o&4&&xc(e);break;case 22:if(f=n!==null&&n.memoizedState!==null,e.mode&1?(Ce=(c=Ce)||f,lt(t,e),Ce=c):lt(t,e),xt(e),o&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!f&&e.mode&1)for(F=e,f=e.child;f!==null;){for(p=F=f;F!==null;){switch(h=F,g=h.child,h.tag){case 0:case 11:case 14:case 15:bo(4,h,h.return);break;case 1:Hn(h,h.return);var y=h.stateNode;if(typeof y.componentWillUnmount=="function"){o=h,n=h.return;try{t=o,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(T){ae(o,n,T)}}break;case 5:Hn(h,h.return);break;case 22:if(h.memoizedState!==null){Ec(p);continue}}g!==null?(g.return=h,F=g):Ec(p)}f=f.sibling}e:for(f=null,p=e;;){if(p.tag===5){if(f===null){f=p;try{r=p.stateNode,c?(i=r.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(u=p.stateNode,d=p.memoizedProps.style,s=d!=null&&d.hasOwnProperty("display")?d.display:null,u.style.display=rp("display",s))}catch(T){ae(e,e.return,T)}}}else if(p.tag===6){if(f===null)try{p.stateNode.nodeValue=c?"":p.memoizedProps}catch(T){ae(e,e.return,T)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===e)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;p.sibling===null;){if(p.return===null||p.return===e)break e;f===p&&(f=null),p=p.return}f===p&&(f=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:lt(t,e),xt(e),o&4&&xc(e);break;case 21:break;default:lt(t,e),xt(e)}}function xt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(kh(n)){var o=n;break e}n=n.return}throw Error(R(160))}switch(o.tag){case 5:var r=o.stateNode;o.flags&32&&(Bo(r,""),o.flags&=-33);var i=vc(e);Fl(e,i,r);break;case 3:case 4:var s=o.stateNode.containerInfo,u=vc(e);Ul(e,u,s);break;default:throw Error(R(161))}}catch(d){ae(e,e.return,d)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function $y(e,t,n){F=e,Dh(e)}function Dh(e,t,n){for(var o=(e.mode&1)!==0;F!==null;){var r=F,i=r.child;if(r.tag===22&&o){var s=r.memoizedState!==null||kr;if(!s){var u=r.alternate,d=u!==null&&u.memoizedState!==null||Ce;u=kr;var c=Ce;if(kr=s,(Ce=d)&&!c)for(F=r;F!==null;)s=F,d=s.child,s.tag===22&&s.memoizedState!==null?Tc(r):d!==null?(d.return=s,F=d):Tc(r);for(;i!==null;)F=i,Dh(i),i=i.sibling;F=r,kr=u,Ce=c}Sc(e)}else r.subtreeFlags&8772&&i!==null?(i.return=r,F=i):Sc(e)}}function Sc(e){for(;F!==null;){var t=F;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ce||Ki(5,t);break;case 1:var o=t.stateNode;if(t.flags&4&&!Ce)if(n===null)o.componentDidMount();else{var r=t.elementType===t.type?n.memoizedProps:at(t.type,n.memoizedProps);o.componentDidUpdate(r,n.memoizedState,o.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&rc(t,i,o);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}rc(t,s,n)}break;case 5:var u=t.stateNode;if(n===null&&t.flags&4){n=u;var d=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":d.autoFocus&&n.focus();break;case"img":d.src&&(n.src=d.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var f=c.memoizedState;if(f!==null){var p=f.dehydrated;p!==null&&$o(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(R(163))}Ce||t.flags&512&&Ll(t)}catch(h){ae(t,t.return,h)}}if(t===e){F=null;break}if(n=t.sibling,n!==null){n.return=t.return,F=n;break}F=t.return}}function Ec(e){for(;F!==null;){var t=F;if(t===e){F=null;break}var n=t.sibling;if(n!==null){n.return=t.return,F=n;break}F=t.return}}function Tc(e){for(;F!==null;){var t=F;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Ki(4,t)}catch(d){ae(t,n,d)}break;case 1:var o=t.stateNode;if(typeof o.componentDidMount=="function"){var r=t.return;try{o.componentDidMount()}catch(d){ae(t,r,d)}}var i=t.return;try{Ll(t)}catch(d){ae(t,i,d)}break;case 5:var s=t.return;try{Ll(t)}catch(d){ae(t,s,d)}}}catch(d){ae(t,t.return,d)}if(t===e){F=null;break}var u=t.sibling;if(u!==null){u.return=t.return,F=u;break}F=t.return}}var Jy=Math.ceil,Ti=bt.ReactCurrentDispatcher,za=bt.ReactCurrentOwner,et=bt.ReactCurrentBatchConfig,Y=0,ge=null,de=null,xe=0,Oe=0,Bn=rn(0),he=0,nr=null,Tn=0,Yi=0,qa=0,Vo=null,Ue=null,Oa=0,ro=1/0,Nt=null,Ci=!1,bl=null,Zt=null,Pr=!1,Jt=null,_i=0,Go=0,Vl=null,Kr=-1,Yr=0;function Pe(){return Y&6?ce():Kr!==-1?Kr:Kr=ce()}function jt(e){return e.mode&1?Y&2&&xe!==0?xe&-xe:Ry.transition!==null?(Yr===0&&(Yr=yp()),Yr):(e=Z,e!==0||(e=window.event,e=e===void 0?16:_p(e.type)),e):1}function ft(e,t,n,o){if(50<Go)throw Go=0,Vl=null,Error(R(185));ir(e,n,o),(!(Y&2)||e!==ge)&&(e===ge&&(!(Y&2)&&(Yi|=n),he===4&&Ot(e,xe)),Ge(e,o),n===1&&Y===0&&!(t.mode&1)&&(ro=ce()+500,$i&&sn()))}function Ge(e,t){var n=e.callbackNode;R0(e,t);var o=li(e,e===ge?xe:0);if(o===0)n!==null&&Pu(n),e.callbackNode=null,e.callbackPriority=0;else if(t=o&-o,e.callbackPriority!==t){if(n!=null&&Pu(n),t===1)e.tag===0?Ay(Cc.bind(null,e)):qp(Cc.bind(null,e)),_y(function(){!(Y&6)&&sn()}),n=null;else{switch(vp(o)){case 1:n=ga;break;case 4:n=mp;break;case 16:n=si;break;case 536870912:n=gp;break;default:n=si}n=Bh(n,Lh.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Lh(e,t){if(Kr=-1,Yr=0,Y&6)throw Error(R(327));var n=e.callbackNode;if(Yn()&&e.callbackNode!==n)return null;var o=li(e,e===ge?xe:0);if(o===0)return null;if(o&30||o&e.expiredLanes||t)t=wi(e,o);else{t=o;var r=Y;Y|=2;var i=Fh();(ge!==e||xe!==t)&&(Nt=null,ro=ce()+500,gn(e,t));do try{Yy();break}catch(u){Uh(e,u)}while(!0);Ra(),Ti.current=i,Y=r,de!==null?t=0:(ge=null,xe=0,t=he)}if(t!==0){if(t===2&&(r=dl(e),r!==0&&(o=r,t=Gl(e,r))),t===1)throw n=nr,gn(e,0),Ot(e,o),Ge(e,ce()),n;if(t===6)Ot(e,o);else{if(r=e.current.alternate,!(o&30)&&!Wy(r)&&(t=wi(e,o),t===2&&(i=dl(e),i!==0&&(o=i,t=Gl(e,i))),t===1))throw n=nr,gn(e,0),Ot(e,o),Ge(e,ce()),n;switch(e.finishedWork=r,e.finishedLanes=o,t){case 0:case 1:throw Error(R(345));case 2:cn(e,Ue,Nt);break;case 3:if(Ot(e,o),(o&130023424)===o&&(t=Oa+500-ce(),10<t)){if(li(e,0)!==0)break;if(r=e.suspendedLanes,(r&o)!==o){Pe(),e.pingedLanes|=e.suspendedLanes&r;break}e.timeoutHandle=xl(cn.bind(null,e,Ue,Nt),t);break}cn(e,Ue,Nt);break;case 4:if(Ot(e,o),(o&4194240)===o)break;for(t=e.eventTimes,r=-1;0<o;){var s=31-dt(o);i=1<<s,s=t[s],s>r&&(r=s),o&=~i}if(o=r,o=ce()-o,o=(120>o?120:480>o?480:1080>o?1080:1920>o?1920:3e3>o?3e3:4320>o?4320:1960*Jy(o/1960))-o,10<o){e.timeoutHandle=xl(cn.bind(null,e,Ue,Nt),o);break}cn(e,Ue,Nt);break;case 5:cn(e,Ue,Nt);break;default:throw Error(R(329))}}}return Ge(e,ce()),e.callbackNode===n?Lh.bind(null,e):null}function Gl(e,t){var n=Vo;return e.current.memoizedState.isDehydrated&&(gn(e,t).flags|=256),e=wi(e,t),e!==2&&(t=Ue,Ue=n,t!==null&&Hl(t)),e}function Hl(e){Ue===null?Ue=e:Ue.push.apply(Ue,e)}function Wy(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var o=0;o<n.length;o++){var r=n[o],i=r.getSnapshot;r=r.value;try{if(!mt(i(),r))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ot(e,t){for(t&=~qa,t&=~Yi,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-dt(t),o=1<<n;e[n]=-1,t&=~o}}function Cc(e){if(Y&6)throw Error(R(327));Yn();var t=li(e,0);if(!(t&1))return Ge(e,ce()),null;var n=wi(e,t);if(e.tag!==0&&n===2){var o=dl(e);o!==0&&(t=o,n=Gl(e,o))}if(n===1)throw n=nr,gn(e,0),Ot(e,t),Ge(e,ce()),n;if(n===6)throw Error(R(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,cn(e,Ue,Nt),Ge(e,ce()),null}function $a(e,t){var n=Y;Y|=1;try{return e(t)}finally{Y=n,Y===0&&(ro=ce()+500,$i&&sn())}}function Cn(e){Jt!==null&&Jt.tag===0&&!(Y&6)&&Yn();var t=Y;Y|=1;var n=et.transition,o=Z;try{if(et.transition=null,Z=1,e)return e()}finally{Z=o,et.transition=n,Y=t,!(Y&6)&&sn()}}function Ja(){Oe=Bn.current,oe(Bn)}function gn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Cy(n)),de!==null)for(n=de.return;n!==null;){var o=n;switch(Ia(o),o.tag){case 1:o=o.type.childContextTypes,o!=null&&fi();break;case 3:no(),oe(be),oe(Ie),Ua();break;case 5:La(o);break;case 4:no();break;case 13:oe(ie);break;case 19:oe(ie);break;case 10:ka(o.type._context);break;case 22:case 23:Ja()}n=n.return}if(ge=e,de=e=en(e.current,null),xe=Oe=t,he=0,nr=null,qa=Yi=Tn=0,Ue=Vo=null,pn!==null){for(t=0;t<pn.length;t++)if(n=pn[t],o=n.interleaved,o!==null){n.interleaved=null;var r=o.next,i=n.pending;if(i!==null){var s=i.next;i.next=r,o.next=s}n.pending=o}pn=null}return e}function Uh(e,t){do{var n=de;try{if(Ra(),$r.current=Ei,Si){for(var o=se.memoizedState;o!==null;){var r=o.queue;r!==null&&(r.pending=null),o=o.next}Si=!1}if(En=0,me=pe=se=null,Fo=!1,jo=0,za.current=null,n===null||n.return===null){he=1,nr=t,de=null;break}e:{var i=e,s=n.return,u=n,d=t;if(t=xe,u.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){var c=d,f=u,p=f.tag;if(!(f.mode&1)&&(p===0||p===11||p===15)){var h=f.alternate;h?(f.updateQueue=h.updateQueue,f.memoizedState=h.memoizedState,f.lanes=h.lanes):(f.updateQueue=null,f.memoizedState=null)}var g=cc(s);if(g!==null){g.flags&=-257,dc(g,s,u,i,t),g.mode&1&&uc(i,c,t),t=g,d=c;var y=t.updateQueue;if(y===null){var T=new Set;T.add(d),t.updateQueue=T}else y.add(d);break e}else{if(!(t&1)){uc(i,c,t),Wa();break e}d=Error(R(426))}}else if(re&&u.mode&1){var x=cc(s);if(x!==null){!(x.flags&65536)&&(x.flags|=256),dc(x,s,u,i,t),Na(oo(d,u));break e}}i=d=oo(d,u),he!==4&&(he=2),Vo===null?Vo=[i]:Vo.push(i),i=s;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var v=vh(i,d,t);oc(i,v);break e;case 1:u=d;var S=i.type,E=i.stateNode;if(!(i.flags&128)&&(typeof S.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(Zt===null||!Zt.has(E)))){i.flags|=65536,t&=-t,i.lanes|=t;var C=xh(i,u,t);oc(i,C);break e}}i=i.return}while(i!==null)}Vh(n)}catch(w){t=w,de===n&&n!==null&&(de=n=n.return);continue}break}while(!0)}function Fh(){var e=Ti.current;return Ti.current=Ei,e===null?Ei:e}function Wa(){(he===0||he===3||he===2)&&(he=4),ge===null||!(Tn&268435455)&&!(Yi&268435455)||Ot(ge,xe)}function wi(e,t){var n=Y;Y|=2;var o=Fh();(ge!==e||xe!==t)&&(Nt=null,gn(e,t));do try{Ky();break}catch(r){Uh(e,r)}while(!0);if(Ra(),Y=n,Ti.current=o,de!==null)throw Error(R(261));return ge=null,xe=0,he}function Ky(){for(;de!==null;)bh(de)}function Yy(){for(;de!==null&&!S0();)bh(de)}function bh(e){var t=Hh(e.alternate,e,Oe);e.memoizedProps=e.pendingProps,t===null?Vh(e):de=t,za.current=null}function Vh(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=zy(n,t),n!==null){n.flags&=32767,de=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{he=6,de=null;return}}else if(n=By(n,t,Oe),n!==null){de=n;return}if(t=t.sibling,t!==null){de=t;return}de=t=e}while(t!==null);he===0&&(he=5)}function cn(e,t,n){var o=Z,r=et.transition;try{et.transition=null,Z=1,Qy(e,t,n,o)}finally{et.transition=r,Z=o}return null}function Qy(e,t,n,o){do Yn();while(Jt!==null);if(Y&6)throw Error(R(327));n=e.finishedWork;var r=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(R(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(k0(e,i),e===ge&&(de=ge=null,xe=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Pr||(Pr=!0,Bh(si,function(){return Yn(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=et.transition,et.transition=null;var s=Z;Z=1;var u=Y;Y|=4,za.current=null,Oy(e,n),Mh(n,e),gy(yl),ai=!!gl,yl=gl=null,e.current=n,$y(n),E0(),Y=u,Z=s,et.transition=i}else e.current=n;if(Pr&&(Pr=!1,Jt=e,_i=r),i=e.pendingLanes,i===0&&(Zt=null),_0(n.stateNode),Ge(e,ce()),t!==null)for(o=e.onRecoverableError,n=0;n<t.length;n++)r=t[n],o(r.value,{componentStack:r.stack,digest:r.digest});if(Ci)throw Ci=!1,e=bl,bl=null,e;return _i&1&&e.tag!==0&&Yn(),i=e.pendingLanes,i&1?e===Vl?Go++:(Go=0,Vl=e):Go=0,sn(),null}function Yn(){if(Jt!==null){var e=vp(_i),t=et.transition,n=Z;try{if(et.transition=null,Z=16>e?16:e,Jt===null)var o=!1;else{if(e=Jt,Jt=null,_i=0,Y&6)throw Error(R(331));var r=Y;for(Y|=4,F=e.current;F!==null;){var i=F,s=i.child;if(F.flags&16){var u=i.deletions;if(u!==null){for(var d=0;d<u.length;d++){var c=u[d];for(F=c;F!==null;){var f=F;switch(f.tag){case 0:case 11:case 15:bo(8,f,i)}var p=f.child;if(p!==null)p.return=f,F=p;else for(;F!==null;){f=F;var h=f.sibling,g=f.return;if(Rh(f),f===c){F=null;break}if(h!==null){h.return=g,F=h;break}F=g}}}var y=i.alternate;if(y!==null){var T=y.child;if(T!==null){y.child=null;do{var x=T.sibling;T.sibling=null,T=x}while(T!==null)}}F=i}}if(i.subtreeFlags&2064&&s!==null)s.return=i,F=s;else e:for(;F!==null;){if(i=F,i.flags&2048)switch(i.tag){case 0:case 11:case 15:bo(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,F=v;break e}F=i.return}}var S=e.current;for(F=S;F!==null;){s=F;var E=s.child;if(s.subtreeFlags&2064&&E!==null)E.return=s,F=E;else e:for(s=S;F!==null;){if(u=F,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:Ki(9,u)}}catch(w){ae(u,u.return,w)}if(u===s){F=null;break e}var C=u.sibling;if(C!==null){C.return=u.return,F=C;break e}F=u.return}}if(Y=r,sn(),Ct&&typeof Ct.onPostCommitFiberRoot=="function")try{Ct.onPostCommitFiberRoot(Hi,e)}catch{}o=!0}return o}finally{Z=n,et.transition=t}}return!1}function _c(e,t,n){t=oo(n,t),t=vh(e,t,1),e=Xt(e,t,1),t=Pe(),e!==null&&(ir(e,1,t),Ge(e,t))}function ae(e,t,n){if(e.tag===3)_c(e,e,n);else for(;t!==null;){if(t.tag===3){_c(t,e,n);break}else if(t.tag===1){var o=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Zt===null||!Zt.has(o))){e=oo(n,e),e=xh(t,e,1),t=Xt(t,e,1),e=Pe(),t!==null&&(ir(t,1,e),Ge(t,e));break}}t=t.return}}function Xy(e,t,n){var o=e.pingCache;o!==null&&o.delete(t),t=Pe(),e.pingedLanes|=e.suspendedLanes&n,ge===e&&(xe&n)===n&&(he===4||he===3&&(xe&130023424)===xe&&500>ce()-Oa?gn(e,0):qa|=n),Ge(e,t)}function Gh(e,t){t===0&&(e.mode&1?(t=Er,Er<<=1,!(Er&130023424)&&(Er=4194304)):t=1);var n=Pe();e=Lt(e,t),e!==null&&(ir(e,t,n),Ge(e,n))}function Zy(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Gh(e,n)}function jy(e,t){var n=0;switch(e.tag){case 13:var o=e.stateNode,r=e.memoizedState;r!==null&&(n=r.retryLane);break;case 19:o=e.stateNode;break;default:throw Error(R(314))}o!==null&&o.delete(t),Gh(e,n)}var Hh;Hh=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||be.current)Fe=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Fe=!1,Hy(e,t,n);Fe=!!(e.flags&131072)}else Fe=!1,re&&t.flags&1048576&&Op(t,mi,t.index);switch(t.lanes=0,t.tag){case 2:var o=t.type;Wr(e,t),e=t.pendingProps;var r=jn(t,Ie.current);Kn(t,n),r=ba(null,t,o,e,r,n);var i=Va();return t.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ve(o)?(i=!0,pi(t)):i=!1,t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,Ma(t),r.updater=Wi,t.stateNode=r,r._reactInternals=t,Il(t,o,e,n),t=Rl(null,t,o,!0,i,n)):(t.tag=0,re&&i&&wa(t),ke(null,t,r,n),t=t.child),t;case 16:o=t.elementType;e:{switch(Wr(e,t),e=t.pendingProps,r=o._init,o=r(o._payload),t.type=o,r=t.tag=tv(o),e=at(o,e),r){case 0:t=Al(null,t,o,e,n);break e;case 1:t=hc(null,t,o,e,n);break e;case 11:t=fc(null,t,o,e,n);break e;case 14:t=pc(null,t,o,at(o.type,e),n);break e}throw Error(R(306,o,""))}return t;case 0:return o=t.type,r=t.pendingProps,r=t.elementType===o?r:at(o,r),Al(e,t,o,r,n);case 1:return o=t.type,r=t.pendingProps,r=t.elementType===o?r:at(o,r),hc(e,t,o,r,n);case 3:e:{if(Ch(t),e===null)throw Error(R(387));o=t.pendingProps,i=t.memoizedState,r=i.element,Qp(e,t),vi(t,o,null,n);var s=t.memoizedState;if(o=s.element,i.isDehydrated)if(i={element:o,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){r=oo(Error(R(423)),t),t=mc(e,t,o,n,r);break e}else if(o!==r){r=oo(Error(R(424)),t),t=mc(e,t,o,n,r);break e}else for(Je=Qt(t.stateNode.containerInfo.firstChild),We=t,re=!0,ct=null,n=Kp(t,null,o,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(eo(),o===r){t=Ut(e,t,n);break e}ke(e,t,o,n)}t=t.child}return t;case 5:return Xp(t),e===null&&Cl(t),o=t.type,r=t.pendingProps,i=e!==null?e.memoizedProps:null,s=r.children,vl(o,r)?s=null:i!==null&&vl(o,i)&&(t.flags|=32),Th(e,t),ke(e,t,s,n),t.child;case 6:return e===null&&Cl(t),null;case 13:return _h(e,t,n);case 4:return Da(t,t.stateNode.containerInfo),o=t.pendingProps,e===null?t.child=to(t,null,o,n):ke(e,t,o,n),t.child;case 11:return o=t.type,r=t.pendingProps,r=t.elementType===o?r:at(o,r),fc(e,t,o,r,n);case 7:return ke(e,t,t.pendingProps,n),t.child;case 8:return ke(e,t,t.pendingProps.children,n),t.child;case 12:return ke(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(o=t.type._context,r=t.pendingProps,i=t.memoizedProps,s=r.value,te(gi,o._currentValue),o._currentValue=s,i!==null)if(mt(i.value,s)){if(i.children===r.children&&!be.current){t=Ut(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var u=i.dependencies;if(u!==null){s=i.child;for(var d=u.firstContext;d!==null;){if(d.context===o){if(i.tag===1){d=Pt(-1,n&-n),d.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var f=c.pending;f===null?d.next=d:(d.next=f.next,f.next=d),c.pending=d}}i.lanes|=n,d=i.alternate,d!==null&&(d.lanes|=n),_l(i.return,n,t),u.lanes|=n;break}d=d.next}}else if(i.tag===10)s=i.type===t.type?null:i.child;else if(i.tag===18){if(s=i.return,s===null)throw Error(R(341));s.lanes|=n,u=s.alternate,u!==null&&(u.lanes|=n),_l(s,n,t),s=i.sibling}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===t){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}ke(e,t,r.children,n),t=t.child}return t;case 9:return r=t.type,o=t.pendingProps.children,Kn(t,n),r=nt(r),o=o(r),t.flags|=1,ke(e,t,o,n),t.child;case 14:return o=t.type,r=at(o,t.pendingProps),r=at(o.type,r),pc(e,t,o,r,n);case 15:return Sh(e,t,t.type,t.pendingProps,n);case 17:return o=t.type,r=t.pendingProps,r=t.elementType===o?r:at(o,r),Wr(e,t),t.tag=1,Ve(o)?(e=!0,pi(t)):e=!1,Kn(t,n),yh(t,o,r),Il(t,o,r,n),Rl(null,t,o,!0,e,n);case 19:return wh(e,t,n);case 22:return Eh(e,t,n)}throw Error(R(156,t.tag))};function Bh(e,t){return hp(e,t)}function ev(e,t,n,o){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function je(e,t,n,o){return new ev(e,t,n,o)}function Ka(e){return e=e.prototype,!(!e||!e.isReactComponent)}function tv(e){if(typeof e=="function")return Ka(e)?1:0;if(e!=null){if(e=e.$$typeof,e===pa)return 11;if(e===ha)return 14}return 2}function en(e,t){var n=e.alternate;return n===null?(n=je(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Qr(e,t,n,o,r,i){var s=2;if(o=e,typeof e=="function")Ka(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case Pn:return yn(n.children,r,i,t);case fa:s=8,r|=8;break;case Qs:return e=je(12,n,t,r|2),e.elementType=Qs,e.lanes=i,e;case Xs:return e=je(13,n,t,r),e.elementType=Xs,e.lanes=i,e;case Zs:return e=je(19,n,t,r),e.elementType=Zs,e.lanes=i,e;case Xf:return Qi(n,r,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Yf:s=10;break e;case Qf:s=9;break e;case pa:s=11;break e;case ha:s=14;break e;case Bt:s=16,o=null;break e}throw Error(R(130,e==null?e:typeof e,""))}return t=je(s,n,t,r),t.elementType=e,t.type=o,t.lanes=i,t}function yn(e,t,n,o){return e=je(7,e,o,t),e.lanes=n,e}function Qi(e,t,n,o){return e=je(22,e,o,t),e.elementType=Xf,e.lanes=n,e.stateNode={isHidden:!1},e}function Bs(e,t,n){return e=je(6,e,null,t),e.lanes=n,e}function zs(e,t,n){return t=je(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function nv(e,t,n,o,r){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ts(0),this.expirationTimes=Ts(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ts(0),this.identifierPrefix=o,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function Ya(e,t,n,o,r,i,s,u,d){return e=new nv(e,t,n,u,d),t===1?(t=1,i===!0&&(t|=8)):t=0,i=je(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:o,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ma(i),e}function ov(e,t,n){var o=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:kn,key:o==null?null:""+o,children:e,containerInfo:t,implementation:n}}function zh(e){if(!e)return nn;e=e._reactInternals;e:{if(In(e)!==e||e.tag!==1)throw Error(R(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ve(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(R(171))}if(e.tag===1){var n=e.type;if(Ve(n))return zp(e,n,t)}return t}function qh(e,t,n,o,r,i,s,u,d){return e=Ya(n,o,!0,e,r,i,s,u,d),e.context=zh(null),n=e.current,o=Pe(),r=jt(n),i=Pt(o,r),i.callback=t??null,Xt(n,i,r),e.current.lanes=r,ir(e,r,o),Ge(e,o),e}function Xi(e,t,n,o){var r=t.current,i=Pe(),s=jt(r);return n=zh(n),t.context===null?t.context=n:t.pendingContext=n,t=Pt(i,s),t.payload={element:e},o=o===void 0?null:o,o!==null&&(t.callback=o),e=Xt(r,t,s),e!==null&&(ft(e,r,s,i),Or(e,r,s)),s}function Ii(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function wc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Qa(e,t){wc(e,t),(e=e.alternate)&&wc(e,t)}function rv(){return null}var Oh=typeof reportError=="function"?reportError:function(e){console.error(e)};function Xa(e){this._internalRoot=e}Zi.prototype.render=Xa.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(R(409));Xi(e,t,null,null)};Zi.prototype.unmount=Xa.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Cn(function(){Xi(null,e,null,null)}),t[Dt]=null}};function Zi(e){this._internalRoot=e}Zi.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ep();e={blockedOn:null,target:e,priority:t};for(var n=0;n<qt.length&&t!==0&&t<qt[n].priority;n++);qt.splice(n,0,e),n===0&&Cp(e)}};function Za(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ji(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Ic(){}function iv(e,t,n,o,r){if(r){if(typeof o=="function"){var i=o;o=function(){var c=Ii(s);i.call(c)}}var s=qh(t,o,e,0,null,!1,!1,"",Ic);return e._reactRootContainer=s,e[Dt]=s.current,Ko(e.nodeType===8?e.parentNode:e),Cn(),s}for(;r=e.lastChild;)e.removeChild(r);if(typeof o=="function"){var u=o;o=function(){var c=Ii(d);u.call(c)}}var d=Ya(e,0,!1,null,null,!1,!1,"",Ic);return e._reactRootContainer=d,e[Dt]=d.current,Ko(e.nodeType===8?e.parentNode:e),Cn(function(){Xi(t,d,n,o)}),d}function es(e,t,n,o,r){var i=n._reactRootContainer;if(i){var s=i;if(typeof r=="function"){var u=r;r=function(){var d=Ii(s);u.call(d)}}Xi(t,s,e,r)}else s=iv(n,t,e,r,o);return Ii(s)}xp=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Ao(t.pendingLanes);n!==0&&(ya(t,n|1),Ge(t,ce()),!(Y&6)&&(ro=ce()+500,sn()))}break;case 13:Cn(function(){var o=Lt(e,1);if(o!==null){var r=Pe();ft(o,e,1,r)}}),Qa(e,1)}};va=function(e){if(e.tag===13){var t=Lt(e,134217728);if(t!==null){var n=Pe();ft(t,e,134217728,n)}Qa(e,134217728)}};Sp=function(e){if(e.tag===13){var t=jt(e),n=Lt(e,t);if(n!==null){var o=Pe();ft(n,e,t,o)}Qa(e,t)}};Ep=function(){return Z};Tp=function(e,t){var n=Z;try{return Z=e,t()}finally{Z=n}};al=function(e,t,n){switch(t){case"input":if(tl(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var o=n[t];if(o!==e&&o.form===e.form){var r=Oi(o);if(!r)throw Error(R(90));jf(o),tl(o,r)}}}break;case"textarea":tp(e,n);break;case"select":t=n.value,t!=null&&On(e,!!n.multiple,t,!1)}};ap=$a;up=Cn;var sv={usingClientEntryPoint:!1,Events:[lr,Un,Oi,sp,lp,$a]},To={findFiberByHostInstance:fn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},lv={bundleType:To.bundleType,version:To.version,rendererPackageName:To.rendererPackageName,rendererConfig:To.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:bt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=fp(e),e===null?null:e.stateNode},findFiberByHostInstance:To.findFiberByHostInstance||rv,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Mr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Mr.isDisabled&&Mr.supportsFiber)try{Hi=Mr.inject(lv),Ct=Mr}catch{}}Ye.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sv;Ye.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Za(t))throw Error(R(200));return ov(e,t,null,n)};Ye.createRoot=function(e,t){if(!Za(e))throw Error(R(299));var n=!1,o="",r=Oh;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(o=t.identifierPrefix),t.onRecoverableError!==void 0&&(r=t.onRecoverableError)),t=Ya(e,1,!1,null,null,n,!1,o,r),e[Dt]=t.current,Ko(e.nodeType===8?e.parentNode:e),new Xa(t)};Ye.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(R(188)):(e=Object.keys(e).join(","),Error(R(268,e)));return e=fp(t),e=e===null?null:e.stateNode,e};Ye.flushSync=function(e){return Cn(e)};Ye.hydrate=function(e,t,n){if(!ji(t))throw Error(R(200));return es(null,e,t,!0,n)};Ye.hydrateRoot=function(e,t,n){if(!Za(e))throw Error(R(405));var o=n!=null&&n.hydratedSources||null,r=!1,i="",s=Oh;if(n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=qh(t,null,e,1,n??null,r,!1,i,s),e[Dt]=t.current,Ko(e),o)for(e=0;e<o.length;e++)n=o[e],r=n._getVersion,r=r(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,r]:t.mutableSourceEagerHydrationData.push(n,r);return new Zi(t)};Ye.render=function(e,t,n){if(!ji(t))throw Error(R(200));return es(null,e,t,!1,n)};Ye.unmountComponentAtNode=function(e){if(!ji(e))throw Error(R(40));return e._reactRootContainer?(Cn(function(){es(null,null,e,!1,function(){e._reactRootContainer=null,e[Dt]=null})}),!0):!1};Ye.unstable_batchedUpdates=$a;Ye.unstable_renderSubtreeIntoContainer=function(e,t,n,o){if(!ji(n))throw Error(R(200));if(e==null||e._reactInternals===void 0)throw Error(R(38));return es(e,t,n,!1,o)};Ye.version="18.3.1-next-f1338f8080-20240426";function $h(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE($h)}catch(e){console.error(e)}}$h(),$f.exports=Ye;var av=$f.exports,Nc=av;Ks.createRoot=Nc.createRoot,Ks.hydrateRoot=Nc.hydrateRoot;/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var uv={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cv=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),G=(e,t)=>{const n=b.forwardRef(({color:o="currentColor",size:r=24,strokeWidth:i=2,absoluteStrokeWidth:s,className:u="",children:d,...c},f)=>b.createElement("svg",{ref:f,...uv,width:r,height:r,stroke:o,strokeWidth:s?Number(i)*24/Number(r):i,className:["lucide",`lucide-${cv(e)}`,u].join(" "),...c},[...t.map(([p,h])=>b.createElement(p,h)),...Array.isArray(d)?d:[d]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dv=G("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fv=G("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ac=G("ArrowRightLeft",[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pv=G("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hv=G("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mv=G("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jh=G("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rc=G("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wh=G("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gv=G("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yv=G("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vv=G("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xv=G("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sv=G("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kc=G("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kh=G("CloudRain",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M16 14v6",key:"1j4efv"}],["path",{d:"M8 14v6",key:"17c4r9"}],["path",{d:"M12 16v6",key:"c8a4gj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yh=G("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pc=G("Coffee",[["path",{d:"M17 8h1a4 4 0 1 1 0 8h-1",key:"jx4kbh"}],["path",{d:"M3 8h14v9a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4Z",key:"1bxrl0"}],["line",{x1:"6",x2:"6",y1:"2",y2:"4",key:"1cr9l3"}],["line",{x1:"10",x2:"10",y1:"2",y2:"4",key:"170wym"}],["line",{x1:"14",x2:"14",y1:"2",y2:"4",key:"1c5f70"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ev=G("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tv=G("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cv=G("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mc=G("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dc=G("Hotel",[["path",{d:"M18 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2Z",key:"p9z69c"}],["path",{d:"m9 16 .348-.24c1.465-1.013 3.84-1.013 5.304 0L15 16",key:"1bvcvh"}],["path",{d:"M8 7h.01",key:"1vti4s"}],["path",{d:"M16 7h.01",key:"1kdx03"}],["path",{d:"M12 7h.01",key:"1ivr5q"}],["path",{d:"M12 11h.01",key:"z322tv"}],["path",{d:"M16 11h.01",key:"xkw8gn"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M10 22v-6.5m4 0V22",key:"16gs4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _v=G("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wv=G("KeyRound",[["path",{d:"M2 18v3c0 .6.4 1 1 1h4v-3h3v-3h2l1.4-1.4a6.5 6.5 0 1 0-4-4Z",key:"167ctg"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iv=G("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lc=G("Landmark",[["line",{x1:"3",x2:"21",y1:"22",y2:"22",key:"j8o0r"}],["line",{x1:"6",x2:"6",y1:"18",y2:"11",key:"10tf0k"}],["line",{x1:"10",x2:"10",y1:"18",y2:"11",key:"54lgf6"}],["line",{x1:"14",x2:"14",y1:"18",y2:"11",key:"380y"}],["line",{x1:"18",x2:"18",y1:"18",y2:"11",key:"1kevvc"}],["polygon",{points:"12 2 20 7 4 7",key:"jkujk7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ts=G("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nv=G("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Av=G("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uc=G("Luggage",[["path",{d:"M6 20h0a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h0",key:"1h5fkc"}],["path",{d:"M8 18V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v14",key:"1l99gc"}],["path",{d:"M10 20h4",key:"ni2waw"}],["circle",{cx:"16",cy:"20",r:"2",key:"1vifvg"}],["circle",{cx:"8",cy:"20",r:"2",key:"ckkr5m"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const or=G("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rv=G("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kv=G("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ja=G("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pv=G("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xr=G("Plane",[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eu=G("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ni=G("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mv=G("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dv=G("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lv=G("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ai=G("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ri=G("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uv=G("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ki=G("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ns=G("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fv=G("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qh=G("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fc=G("Utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2v0a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"1ogz0v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pi=G("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const os=G("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);var bv={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Vv,Gv;function Hv(){return{geminiUrl:Vv,vertexUrl:Gv}}function Bv(e,t,n,o){var r,i;if(!(e!=null&&e.baseUrl)){const s=Hv();return t?(r=s.vertexUrl)!==null&&r!==void 0?r:n:(i=s.geminiUrl)!==null&&i!==void 0?i:o}return e.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Vt{}function L(e,t){const n=/\{([^}]+)\}/g;return e.replace(n,(o,r)=>{if(Object.prototype.hasOwnProperty.call(t,r)){const i=t[r];return i!=null?String(i):""}else throw new Error(`Key '${r}' not found in valueMap.`)})}function a(e,t,n){for(let i=0;i<t.length-1;i++){const s=t[i];if(s.endsWith("[]")){const u=s.slice(0,-2);if(!(u in e))if(Array.isArray(n))e[u]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${s}`);if(Array.isArray(e[u])){const d=e[u];if(Array.isArray(n))for(let c=0;c<d.length;c++){const f=d[c];a(f,t.slice(i+1),n[c])}else for(const c of d)a(c,t.slice(i+1),n)}return}else if(s.endsWith("[0]")){const u=s.slice(0,-3);u in e||(e[u]=[{}]);const d=e[u];a(d[0],t.slice(i+1),n);return}(!e[s]||typeof e[s]!="object")&&(e[s]={}),e=e[s]}const o=t[t.length-1],r=e[o];if(r!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===r)return;if(typeof r=="object"&&typeof n=="object"&&r!==null&&n!==null)Object.assign(r,n);else throw new Error(`Cannot set value for an existing key. Key: ${o}`)}else o==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(e,n):e[o]=n}function l(e,t,n=void 0){try{if(t.length===1&&t[0]==="_self")return e;for(let o=0;o<t.length;o++){if(typeof e!="object"||e===null)return n;const r=t[o];if(r.endsWith("[]")){const i=r.slice(0,-2);if(i in e){const s=e[i];return Array.isArray(s)?s.map(u=>l(u,t.slice(o+1),n)):n}else return n}else e=e[r]}return e}catch(o){if(o instanceof TypeError)return n;throw o}}function zv(e,t){for(const[n,o]of Object.entries(t)){const r=n.split("."),i=o.split("."),s=new Set;let u=-1;for(let d=0;d<r.length;d++)if(r[d]==="*"){u=d;break}if(u!==-1&&i.length>u)for(let d=u;d<i.length;d++){const c=i[d];c!=="*"&&!c.endsWith("[]")&&!c.endsWith("[0]")&&s.add(c)}Bl(e,r,i,0,s)}}function Bl(e,t,n,o,r){if(o>=t.length||typeof e!="object"||e===null)return;const i=t[o];if(i.endsWith("[]")){const s=i.slice(0,-2),u=e;if(s in u&&Array.isArray(u[s]))for(const d of u[s])Bl(d,t,n,o+1,r)}else if(i==="*"){if(typeof e=="object"&&e!==null&&!Array.isArray(e)){const s=e,u=Object.keys(s).filter(c=>!c.startsWith("_")&&!r.has(c)),d={};for(const c of u)d[c]=s[c];for(const[c,f]of Object.entries(d)){const p=[];for(const h of n.slice(o))h==="*"?p.push(c):p.push(h);a(s,p,f)}for(const c of u)delete s[c]}}else{const s=e;i in s&&Bl(s[i],t,n,o+1,r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function tu(e){if(typeof e!="string")throw new Error("fromImageBytes must be a string");return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function qv(e){const t={},n=l(e,["operationName"]);n!=null&&a(t,["operationName"],n);const o=l(e,["resourceName"]);return o!=null&&a(t,["_url","resourceName"],o),t}function Ov(e){const t={},n=l(e,["name"]);n!=null&&a(t,["name"],n);const o=l(e,["metadata"]);o!=null&&a(t,["metadata"],o);const r=l(e,["done"]);r!=null&&a(t,["done"],r);const i=l(e,["error"]);i!=null&&a(t,["error"],i);const s=l(e,["response","generateVideoResponse"]);return s!=null&&a(t,["response"],Jv(s)),t}function $v(e){const t={},n=l(e,["name"]);n!=null&&a(t,["name"],n);const o=l(e,["metadata"]);o!=null&&a(t,["metadata"],o);const r=l(e,["done"]);r!=null&&a(t,["done"],r);const i=l(e,["error"]);i!=null&&a(t,["error"],i);const s=l(e,["response"]);return s!=null&&a(t,["response"],Wv(s)),t}function Jv(e){const t={},n=l(e,["generatedSamples"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>Kv(s))),a(t,["generatedVideos"],i)}const o=l(e,["raiMediaFilteredCount"]);o!=null&&a(t,["raiMediaFilteredCount"],o);const r=l(e,["raiMediaFilteredReasons"]);return r!=null&&a(t,["raiMediaFilteredReasons"],r),t}function Wv(e){const t={},n=l(e,["videos"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>Yv(s))),a(t,["generatedVideos"],i)}const o=l(e,["raiMediaFilteredCount"]);o!=null&&a(t,["raiMediaFilteredCount"],o);const r=l(e,["raiMediaFilteredReasons"]);return r!=null&&a(t,["raiMediaFilteredReasons"],r),t}function Kv(e){const t={},n=l(e,["video"]);return n!=null&&a(t,["video"],tx(n)),t}function Yv(e){const t={},n=l(e,["_self"]);return n!=null&&a(t,["video"],nx(n)),t}function Qv(e){const t={},n=l(e,["operationName"]);return n!=null&&a(t,["_url","operationName"],n),t}function Xv(e){const t={},n=l(e,["operationName"]);return n!=null&&a(t,["_url","operationName"],n),t}function Zv(e){const t={},n=l(e,["name"]);n!=null&&a(t,["name"],n);const o=l(e,["metadata"]);o!=null&&a(t,["metadata"],o);const r=l(e,["done"]);r!=null&&a(t,["done"],r);const i=l(e,["error"]);i!=null&&a(t,["error"],i);const s=l(e,["response"]);return s!=null&&a(t,["response"],jv(s)),t}function jv(e){const t={},n=l(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=l(e,["parent"]);o!=null&&a(t,["parent"],o);const r=l(e,["documentName"]);return r!=null&&a(t,["documentName"],r),t}function Xh(e){const t={},n=l(e,["name"]);n!=null&&a(t,["name"],n);const o=l(e,["metadata"]);o!=null&&a(t,["metadata"],o);const r=l(e,["done"]);r!=null&&a(t,["done"],r);const i=l(e,["error"]);i!=null&&a(t,["error"],i);const s=l(e,["response"]);return s!=null&&a(t,["response"],ex(s)),t}function ex(e){const t={},n=l(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=l(e,["parent"]);o!=null&&a(t,["parent"],o);const r=l(e,["documentName"]);return r!=null&&a(t,["documentName"],r),t}function tx(e){const t={},n=l(e,["uri"]);n!=null&&a(t,["uri"],n);const o=l(e,["encodedVideo"]);o!=null&&a(t,["videoBytes"],tu(o));const r=l(e,["encoding"]);return r!=null&&a(t,["mimeType"],r),t}function nx(e){const t={},n=l(e,["gcsUri"]);n!=null&&a(t,["uri"],n);const o=l(e,["bytesBase64Encoded"]);o!=null&&a(t,["videoBytes"],tu(o));const r=l(e,["mimeType"]);return r!=null&&a(t,["mimeType"],r),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var bc;(function(e){e.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",e.OUTCOME_OK="OUTCOME_OK",e.OUTCOME_FAILED="OUTCOME_FAILED",e.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(bc||(bc={}));var Vc;(function(e){e.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",e.PYTHON="PYTHON"})(Vc||(Vc={}));var Gc;(function(e){e.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",e.SILENT="SILENT",e.WHEN_IDLE="WHEN_IDLE",e.INTERRUPT="INTERRUPT"})(Gc||(Gc={}));var $e;(function(e){e.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",e.STRING="STRING",e.NUMBER="NUMBER",e.INTEGER="INTEGER",e.BOOLEAN="BOOLEAN",e.ARRAY="ARRAY",e.OBJECT="OBJECT",e.NULL="NULL"})($e||($e={}));var Hc;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(Hc||(Hc={}));var Bc;(function(e){e.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",e.SIMPLE_SEARCH="SIMPLE_SEARCH",e.ELASTIC_SEARCH="ELASTIC_SEARCH"})(Bc||(Bc={}));var zc;(function(e){e.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",e.NO_AUTH="NO_AUTH",e.API_KEY_AUTH="API_KEY_AUTH",e.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",e.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",e.OAUTH="OAUTH",e.OIDC_AUTH="OIDC_AUTH"})(zc||(zc={}));var qc;(function(e){e.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",e.HTTP_IN_QUERY="HTTP_IN_QUERY",e.HTTP_IN_HEADER="HTTP_IN_HEADER",e.HTTP_IN_PATH="HTTP_IN_PATH",e.HTTP_IN_BODY="HTTP_IN_BODY",e.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(qc||(qc={}));var Oc;(function(e){e.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",e.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",e.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",e.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(Oc||(Oc={}));var $c;(function(e){e.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH",e.MINIMAL="MINIMAL"})($c||($c={}));var Jc;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",e.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",e.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",e.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",e.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(Jc||(Jc={}));var Wc;(function(e){e.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",e.SEVERITY="SEVERITY",e.PROBABILITY="PROBABILITY"})(Wc||(Wc={}));var Kc;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE",e.OFF="OFF"})(Kc||(Kc={}));var Yc;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.IMAGE_SAFETY="IMAGE_SAFETY",e.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",e.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",e.NO_IMAGE="NO_IMAGE",e.IMAGE_RECITATION="IMAGE_RECITATION",e.IMAGE_OTHER="IMAGE_OTHER"})(Yc||(Yc={}));var Qc;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(Qc||(Qc={}));var Xc;(function(e){e.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",e.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",e.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",e.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",e.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Xc||(Xc={}));var Zc;(function(e){e.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",e.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",e.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",e.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",e.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(Zc||(Zc={}));var jc;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.IMAGE_SAFETY="IMAGE_SAFETY",e.MODEL_ARMOR="MODEL_ARMOR",e.JAILBREAK="JAILBREAK"})(jc||(jc={}));var ed;(function(e){e.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",e.ON_DEMAND="ON_DEMAND",e.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(ed||(ed={}));var Mi;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.AUDIO="AUDIO"})(Mi||(Mi={}));var td;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(td||(td={}));var nd;(function(e){e.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",e.TUNING_MODE_FULL="TUNING_MODE_FULL",e.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(nd||(nd={}));var od;(function(e){e.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",e.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",e.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",e.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",e.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",e.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",e.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(od||(od={}));var zl;(function(e){e.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",e.JOB_STATE_QUEUED="JOB_STATE_QUEUED",e.JOB_STATE_PENDING="JOB_STATE_PENDING",e.JOB_STATE_RUNNING="JOB_STATE_RUNNING",e.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",e.JOB_STATE_FAILED="JOB_STATE_FAILED",e.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",e.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",e.JOB_STATE_PAUSED="JOB_STATE_PAUSED",e.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",e.JOB_STATE_UPDATING="JOB_STATE_UPDATING",e.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(zl||(zl={}));var rd;(function(e){e.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",e.TUNING_TASK_I2V="TUNING_TASK_I2V",e.TUNING_TASK_T2V="TUNING_TASK_T2V",e.TUNING_TASK_R2V="TUNING_TASK_R2V"})(rd||(rd={}));var id;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",e.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(id||(id={}));var sd;(function(e){e.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",e.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",e.BALANCED="BALANCED",e.PRIORITIZE_COST="PRIORITIZE_COST"})(sd||(sd={}));var ld;(function(e){e.UNSPECIFIED="UNSPECIFIED",e.BLOCKING="BLOCKING",e.NON_BLOCKING="NON_BLOCKING"})(ld||(ld={}));var ad;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(ad||(ad={}));var ud;(function(e){e.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",e.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(ud||(ud={}));var cd;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE",e.VALIDATED="VALIDATED"})(cd||(cd={}));var dd;(function(e){e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(dd||(dd={}));var fd;(function(e){e.DONT_ALLOW="DONT_ALLOW",e.ALLOW_ADULT="ALLOW_ADULT",e.ALLOW_ALL="ALLOW_ALL"})(fd||(fd={}));var pd;(function(e){e.auto="auto",e.en="en",e.ja="ja",e.ko="ko",e.hi="hi",e.zh="zh",e.pt="pt",e.es="es"})(pd||(pd={}));var hd;(function(e){e.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",e.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",e.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",e.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",e.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(hd||(hd={}));var md;(function(e){e.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",e.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",e.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",e.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(md||(md={}));var gd;(function(e){e.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",e.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",e.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",e.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(gd||(gd={}));var yd;(function(e){e.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",e.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",e.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",e.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",e.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",e.EDIT_MODE_STYLE="EDIT_MODE_STYLE",e.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",e.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(yd||(yd={}));var vd;(function(e){e.FOREGROUND="FOREGROUND",e.BACKGROUND="BACKGROUND",e.PROMPT="PROMPT",e.SEMANTIC="SEMANTIC",e.INTERACTIVE="INTERACTIVE"})(vd||(vd={}));var xd;(function(e){e.ASSET="ASSET",e.STYLE="STYLE"})(xd||(xd={}));var Sd;(function(e){e.INSERT="INSERT",e.REMOVE="REMOVE",e.REMOVE_STATIC="REMOVE_STATIC",e.OUTPAINT="OUTPAINT"})(Sd||(Sd={}));var Ed;(function(e){e.OPTIMIZED="OPTIMIZED",e.LOSSLESS="LOSSLESS"})(Ed||(Ed={}));var Td;(function(e){e.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",e.PREFERENCE_TUNING="PREFERENCE_TUNING"})(Td||(Td={}));var Cd;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.STATE_PENDING="STATE_PENDING",e.STATE_ACTIVE="STATE_ACTIVE",e.STATE_FAILED="STATE_FAILED"})(Cd||(Cd={}));var _d;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.PROCESSING="PROCESSING",e.ACTIVE="ACTIVE",e.FAILED="FAILED"})(_d||(_d={}));var wd;(function(e){e.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",e.UPLOADED="UPLOADED",e.GENERATED="GENERATED"})(wd||(wd={}));var Id;(function(e){e.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.RESPONSE_REJECTED="RESPONSE_REJECTED",e.NEED_MORE_INPUT="NEED_MORE_INPUT"})(Id||(Id={}));var Nd;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.VIDEO="VIDEO",e.AUDIO="AUDIO",e.DOCUMENT="DOCUMENT"})(Nd||(Nd={}));var Ad;(function(e){e.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",e.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",e.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(Ad||(Ad={}));var Rd;(function(e){e.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",e.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",e.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Rd||(Rd={}));var kd;(function(e){e.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",e.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",e.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(kd||(kd={}));var Pd;(function(e){e.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",e.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",e.NO_INTERRUPTION="NO_INTERRUPTION"})(Pd||(Pd={}));var Md;(function(e){e.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",e.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",e.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(Md||(Md={}));var Dd;(function(e){e.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",e.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",e.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",e.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",e.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",e.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",e.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",e.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",e.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",e.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",e.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",e.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",e.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Dd||(Dd={}));var Ld;(function(e){e.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",e.QUALITY="QUALITY",e.DIVERSITY="DIVERSITY",e.VOCALIZATION="VOCALIZATION"})(Ld||(Ld={}));var zn;(function(e){e.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",e.PLAY="PLAY",e.PAUSE="PAUSE",e.STOP="STOP",e.RESET_CONTEXT="RESET_CONTEXT"})(zn||(zn={}));class ql{constructor(t){const n={};for(const o of t.headers.entries())n[o[0]]=o[1];this.headers=n,this.responseInternal=t}json(){return this.responseInternal.json()}}class Co{get text(){var t,n,o,r,i,s,u,d;if(((r=(o=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let c="",f=!1;const p=[];for(const h of(d=(u=(s=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)!==null&&d!==void 0?d:[]){for(const[g,y]of Object.entries(h))g!=="text"&&g!=="thought"&&g!=="thoughtSignature"&&(y!==null||y!==void 0)&&p.push(g);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;f=!0,c+=h.text}}return p.length>0&&console.warn(`there are non-text parts ${p} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),f?c:void 0}get data(){var t,n,o,r,i,s,u,d;if(((r=(o=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let c="";const f=[];for(const p of(d=(u=(s=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)!==null&&d!==void 0?d:[]){for(const[h,g]of Object.entries(p))h!=="inlineData"&&(g!==null||g!==void 0)&&f.push(h);p.inlineData&&typeof p.inlineData.data=="string"&&(c+=atob(p.inlineData.data))}return f.length>0&&console.warn(`there are non-data parts ${f} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),c.length>0?btoa(c):void 0}get functionCalls(){var t,n,o,r,i,s,u,d;if(((r=(o=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const c=(d=(u=(s=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)===null||d===void 0?void 0:d.filter(f=>f.functionCall).map(f=>f.functionCall).filter(f=>f!==void 0);if((c==null?void 0:c.length)!==0)return c}get executableCode(){var t,n,o,r,i,s,u,d,c;if(((r=(o=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const f=(d=(u=(s=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)===null||d===void 0?void 0:d.filter(p=>p.executableCode).map(p=>p.executableCode).filter(p=>p!==void 0);if((f==null?void 0:f.length)!==0)return(c=f==null?void 0:f[0])===null||c===void 0?void 0:c.code}get codeExecutionResult(){var t,n,o,r,i,s,u,d,c;if(((r=(o=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const f=(d=(u=(s=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)===null||d===void 0?void 0:d.filter(p=>p.codeExecutionResult).map(p=>p.codeExecutionResult).filter(p=>p!==void 0);if((f==null?void 0:f.length)!==0)return(c=f==null?void 0:f[0])===null||c===void 0?void 0:c.output}}class Ud{}class Fd{}class ox{}class rx{}class ix{}class sx{}class bd{}class Vd{}class Gd{}class lx{}class Di{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const o=new Di;let r;const i=t;return n?r=$v(i):r=Ov(i),Object.assign(o,r),o}}class Hd{}class Bd{}class zd{}class qd{}class ax{}class ux{}class cx{}class nu{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const o=new nu,i=Zv(t);return Object.assign(o,i),o}}class dx{}class fx{}class px{}class Od{}class hx{get text(){var t,n,o;let r="",i=!1;const s=[];for(const u of(o=(n=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&o!==void 0?o:[]){for(const[d,c]of Object.entries(u))d!=="text"&&d!=="thought"&&c!==null&&s.push(d);if(typeof u.text=="string"){if(typeof u.thought=="boolean"&&u.thought)continue;i=!0,r+=u.text}}return s.length>0&&console.warn(`there are non-text parts ${s} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),i?r:void 0}get data(){var t,n,o;let r="";const i=[];for(const s of(o=(n=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&o!==void 0?o:[]){for(const[u,d]of Object.entries(s))u!=="inlineData"&&d!==null&&i.push(u);s.inlineData&&typeof s.inlineData.data=="string"&&(r+=atob(s.inlineData.data))}return i.length>0&&console.warn(`there are non-data parts ${i} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),r.length>0?btoa(r):void 0}}class mx{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class ou{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const o=new ou,i=Xh(t);return Object.assign(o,i),o}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Q(e,t){if(!t||typeof t!="string")throw new Error("model is required and must be a string");if(t.includes("..")||t.includes("?")||t.includes("&"))throw new Error("invalid model parameter");if(e.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const n=t.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${t}`}else return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function Zh(e,t){const n=Q(e,t);return n?n.startsWith("publishers/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}`:n.startsWith("models/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/publishers/google/${n}`:n:""}function jh(e){return Array.isArray(e)?e.map(t=>Li(t)):[Li(e)]}function Li(e){if(typeof e=="object"&&e!==null)return e;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof e}`)}function em(e){const t=Li(e);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function tm(e){const t=Li(e);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function $d(e){if(e==null)throw new Error("PartUnion is required");if(typeof e=="object")return e;if(typeof e=="string")return{text:e};throw new Error(`Unsupported part type: ${typeof e}`)}function nm(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("PartListUnion is required");return Array.isArray(e)?e.map(t=>$d(t)):[$d(e)]}function Ol(e){return e!=null&&typeof e=="object"&&"parts"in e&&Array.isArray(e.parts)}function Jd(e){return e!=null&&typeof e=="object"&&"functionCall"in e}function Wd(e){return e!=null&&typeof e=="object"&&"functionResponse"in e}function we(e){if(e==null)throw new Error("ContentUnion is required");return Ol(e)?e:{role:"user",parts:nm(e)}}function ru(e,t){if(!t)return[];if(e.isVertexAI()&&Array.isArray(t))return t.flatMap(n=>{const o=we(n);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]});if(e.isVertexAI()){const n=we(t);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(t)?t.map(n=>we(n)):[we(t)]}function tt(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("contents are required");if(!Array.isArray(e)){if(Jd(e)||Wd(e))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[we(e)]}const t=[],n=[],o=Ol(e[0]);for(const r of e){const i=Ol(r);if(i!=o)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(i)t.push(r);else{if(Jd(r)||Wd(r))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(r)}}return o||t.push({role:"user",parts:nm(n)}),t}function gx(e,t){e.includes("null")&&(t.nullable=!0);const n=e.filter(o=>o!=="null");if(n.length===1)t.type=Object.values($e).includes(n[0].toUpperCase())?n[0].toUpperCase():$e.TYPE_UNSPECIFIED;else{t.anyOf=[];for(const o of n)t.anyOf.push({type:Object.values($e).includes(o.toUpperCase())?o.toUpperCase():$e.TYPE_UNSPECIFIED})}}function Qn(e){const t={},n=["items"],o=["anyOf"],r=["properties"];if(e.type&&e.anyOf)throw new Error("type and anyOf cannot be both populated.");const i=e.anyOf;i!=null&&i.length==2&&(i[0].type==="null"?(t.nullable=!0,e=i[1]):i[1].type==="null"&&(t.nullable=!0,e=i[0])),e.type instanceof Array&&gx(e.type,t);for(const[s,u]of Object.entries(e))if(u!=null)if(s=="type"){if(u==="null")throw new Error("type: null can not be the only possible type for the field.");if(u instanceof Array)continue;t.type=Object.values($e).includes(u.toUpperCase())?u.toUpperCase():$e.TYPE_UNSPECIFIED}else if(n.includes(s))t[s]=Qn(u);else if(o.includes(s)){const d=[];for(const c of u){if(c.type=="null"){t.nullable=!0;continue}d.push(Qn(c))}t[s]=d}else if(r.includes(s)){const d={};for(const[c,f]of Object.entries(u))d[c]=Qn(f);t[s]=d}else{if(s==="additionalProperties")continue;t[s]=u}return t}function iu(e){return Qn(e)}function su(e){if(typeof e=="object")return e;if(typeof e=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:e}}};throw new Error(`Unsupported speechConfig type: ${typeof e}`)}function lu(e){if("multiSpeakerVoiceConfig"in e)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return e}function uo(e){if(e.functionDeclarations)for(const t of e.functionDeclarations)t.parameters&&(Object.keys(t.parameters).includes("$schema")?t.parametersJsonSchema||(t.parametersJsonSchema=t.parameters,delete t.parameters):t.parameters=Qn(t.parameters)),t.response&&(Object.keys(t.response).includes("$schema")?t.responseJsonSchema||(t.responseJsonSchema=t.response,delete t.response):t.response=Qn(t.response));return e}function co(e){if(e==null)throw new Error("tools is required");if(!Array.isArray(e))throw new Error("tools is required and must be an array of Tools");const t=[];for(const n of e)t.push(n);return t}function yx(e,t,n,o=1){const r=!t.startsWith(`${n}/`)&&t.split("/").length===o;return e.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${e.getProject()}/${t}`:t.startsWith(`${n}/`)?`projects/${e.getProject()}/locations/${e.getLocation()}/${t}`:r?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}/${t}`:t:r?`${n}/${t}`:t}function Gt(e,t){if(typeof t!="string")throw new Error("name must be a string");return yx(e,t,"cachedContents")}function om(e){switch(e){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return e}}function ln(e){return tu(e)}function vx(e){return e!=null&&typeof e=="object"&&"name"in e}function xx(e){return e!=null&&typeof e=="object"&&"video"in e}function Sx(e){return e!=null&&typeof e=="object"&&"uri"in e}function rm(e){var t;let n;if(vx(e)&&(n=e.name),!(Sx(e)&&(n=e.uri,n===void 0))&&!(xx(e)&&(n=(t=e.video)===null||t===void 0?void 0:t.uri,n===void 0))){if(typeof e=="string"&&(n=e),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const r=n.split("files/")[1].match(/[a-z0-9]+/);if(r===null)throw new Error(`Could not extract file name from URI ${n}`);n=r[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function im(e,t){let n;return e.isVertexAI()?n=t?"publishers/google/models":"models":n=t?"models":"tunedModels",n}function sm(e){for(const t of["models","tunedModels","publisherModels"])if(Ex(e,t))return e[t];return[]}function Ex(e,t){return e!==null&&typeof e=="object"&&t in e}function Tx(e,t={}){const n=e,o={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(o.responseJsonSchema=n.outputSchema),t.behavior&&(o.behavior=t.behavior),{functionDeclarations:[o]}}function Cx(e,t={}){const n=[],o=new Set;for(const r of e){const i=r.name;if(o.has(i))throw new Error(`Duplicate function name ${i} found in MCP tools. Please ensure function names are unique.`);o.add(i);const s=Tx(r,t);s.functionDeclarations&&n.push(...s.functionDeclarations)}return{functionDeclarations:n}}function lm(e,t){let n;if(typeof t=="string")if(e.isVertexAI())if(t.startsWith("gs://"))n={format:"jsonl",gcsUri:[t]};else if(t.startsWith("bq://"))n={format:"bigquery",bigqueryUri:t};else throw new Error(`Unsupported string source for Vertex AI: ${t}`);else if(t.startsWith("files/"))n={fileName:t};else throw new Error(`Unsupported string source for Gemini API: ${t}`);else if(Array.isArray(t)){if(e.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:t}}else n=t;const o=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,r=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(e.isVertexAI()){if(r>0||o!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(o>0||r!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function _x(e){if(typeof e!="string")return e;const t=e;if(t.startsWith("gs://"))return{format:"jsonl",gcsUri:t};if(t.startsWith("bq://"))return{format:"bigquery",bigqueryUri:t};throw new Error(`Unsupported destination: ${t}`)}function am(e){if(typeof e!="object"||e===null)return{};const t=e,n=t.inlinedResponses;if(typeof n!="object"||n===null)return e;const r=n.inlinedResponses;if(!Array.isArray(r)||r.length===0)return e;let i=!1;for(const s of r){if(typeof s!="object"||s===null)continue;const d=s.response;if(typeof d!="object"||d===null)continue;if(d.embedding!==void 0){i=!0;break}}return i&&(t.inlinedEmbedContentResponses=t.inlinedResponses,delete t.inlinedResponses),e}function fo(e,t){const n=t;if(!e.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function um(e){const t=e;return t==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":t==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":t==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":t==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":t==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":t==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":t==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function wx(e){const t={},n=l(e,["responsesFile"]);n!=null&&a(t,["fileName"],n);const o=l(e,["inlinedResponses","inlinedResponses"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(s=>iS(s))),a(t,["inlinedResponses"],i)}const r=l(e,["inlinedEmbedContentResponses","inlinedResponses"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>s)),a(t,["inlinedEmbedContentResponses"],i)}return t}function Ix(e){const t={},n=l(e,["predictionsFormat"]);n!=null&&a(t,["format"],n);const o=l(e,["gcsDestination","outputUriPrefix"]);o!=null&&a(t,["gcsUri"],o);const r=l(e,["bigqueryDestination","outputUri"]);return r!=null&&a(t,["bigqueryUri"],r),t}function Nx(e){const t={},n=l(e,["format"]);n!=null&&a(t,["predictionsFormat"],n);const o=l(e,["gcsUri"]);o!=null&&a(t,["gcsDestination","outputUriPrefix"],o);const r=l(e,["bigqueryUri"]);if(r!=null&&a(t,["bigqueryDestination","outputUri"],r),l(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(l(e,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(l(e,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return t}function Zr(e){const t={},n=l(e,["name"]);n!=null&&a(t,["name"],n);const o=l(e,["metadata","displayName"]);o!=null&&a(t,["displayName"],o);const r=l(e,["metadata","state"]);r!=null&&a(t,["state"],um(r));const i=l(e,["metadata","createTime"]);i!=null&&a(t,["createTime"],i);const s=l(e,["metadata","endTime"]);s!=null&&a(t,["endTime"],s);const u=l(e,["metadata","updateTime"]);u!=null&&a(t,["updateTime"],u);const d=l(e,["metadata","model"]);d!=null&&a(t,["model"],d);const c=l(e,["metadata","output"]);return c!=null&&a(t,["dest"],wx(am(c))),t}function $l(e){const t={},n=l(e,["name"]);n!=null&&a(t,["name"],n);const o=l(e,["displayName"]);o!=null&&a(t,["displayName"],o);const r=l(e,["state"]);r!=null&&a(t,["state"],um(r));const i=l(e,["error"]);i!=null&&a(t,["error"],i);const s=l(e,["createTime"]);s!=null&&a(t,["createTime"],s);const u=l(e,["startTime"]);u!=null&&a(t,["startTime"],u);const d=l(e,["endTime"]);d!=null&&a(t,["endTime"],d);const c=l(e,["updateTime"]);c!=null&&a(t,["updateTime"],c);const f=l(e,["model"]);f!=null&&a(t,["model"],f);const p=l(e,["inputConfig"]);p!=null&&a(t,["src"],Ax(p));const h=l(e,["outputConfig"]);h!=null&&a(t,["dest"],Ix(am(h)));const g=l(e,["completionStats"]);return g!=null&&a(t,["completionStats"],g),t}function Ax(e){const t={},n=l(e,["instancesFormat"]);n!=null&&a(t,["format"],n);const o=l(e,["gcsSource","uris"]);o!=null&&a(t,["gcsUri"],o);const r=l(e,["bigquerySource","inputUri"]);return r!=null&&a(t,["bigqueryUri"],r),t}function Rx(e,t){const n={};if(l(t,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(l(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(l(t,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const o=l(t,["fileName"]);o!=null&&a(n,["fileName"],o);const r=l(t,["inlinedRequests"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>rS(e,s))),a(n,["requests","requests"],i)}return n}function kx(e){const t={},n=l(e,["format"]);n!=null&&a(t,["instancesFormat"],n);const o=l(e,["gcsUri"]);o!=null&&a(t,["gcsSource","uris"],o);const r=l(e,["bigqueryUri"]);if(r!=null&&a(t,["bigquerySource","inputUri"],r),l(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(l(e,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return t}function Px(e){const t={},n=l(e,["data"]);if(n!=null&&a(t,["data"],n),l(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=l(e,["mimeType"]);return o!=null&&a(t,["mimeType"],o),t}function Mx(e,t){const n={},o=l(t,["name"]);return o!=null&&a(n,["_url","name"],fo(e,o)),n}function Dx(e,t){const n={},o=l(t,["name"]);return o!=null&&a(n,["_url","name"],fo(e,o)),n}function Lx(e){const t={},n=l(e,["content"]);n!=null&&a(t,["content"],n);const o=l(e,["citationMetadata"]);o!=null&&a(t,["citationMetadata"],Ux(o));const r=l(e,["tokenCount"]);r!=null&&a(t,["tokenCount"],r);const i=l(e,["finishReason"]);i!=null&&a(t,["finishReason"],i);const s=l(e,["avgLogprobs"]);s!=null&&a(t,["avgLogprobs"],s);const u=l(e,["groundingMetadata"]);u!=null&&a(t,["groundingMetadata"],u);const d=l(e,["index"]);d!=null&&a(t,["index"],d);const c=l(e,["logprobsResult"]);c!=null&&a(t,["logprobsResult"],c);const f=l(e,["safetyRatings"]);if(f!=null){let h=f;Array.isArray(h)&&(h=h.map(g=>g)),a(t,["safetyRatings"],h)}const p=l(e,["urlContextMetadata"]);return p!=null&&a(t,["urlContextMetadata"],p),t}function Ux(e){const t={},n=l(e,["citationSources"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>r)),a(t,["citations"],o)}return t}function cm(e){const t={},n=l(e,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>fS(i))),a(t,["parts"],r)}const o=l(e,["role"]);return o!=null&&a(t,["role"],o),t}function Fx(e,t){const n={},o=l(e,["displayName"]);if(t!==void 0&&o!=null&&a(t,["batch","displayName"],o),l(e,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function bx(e,t){const n={},o=l(e,["displayName"]);t!==void 0&&o!=null&&a(t,["displayName"],o);const r=l(e,["dest"]);return t!==void 0&&r!=null&&a(t,["outputConfig"],Nx(_x(r))),n}function Kd(e,t){const n={},o=l(t,["model"]);o!=null&&a(n,["_url","model"],Q(e,o));const r=l(t,["src"]);r!=null&&a(n,["batch","inputConfig"],Rx(e,lm(e,r)));const i=l(t,["config"]);return i!=null&&Fx(i,n),n}function Vx(e,t){const n={},o=l(t,["model"]);o!=null&&a(n,["model"],Q(e,o));const r=l(t,["src"]);r!=null&&a(n,["inputConfig"],kx(lm(e,r)));const i=l(t,["config"]);return i!=null&&bx(i,n),n}function Gx(e,t){const n={},o=l(e,["displayName"]);return t!==void 0&&o!=null&&a(t,["batch","displayName"],o),n}function Hx(e,t){const n={},o=l(t,["model"]);o!=null&&a(n,["_url","model"],Q(e,o));const r=l(t,["src"]);r!=null&&a(n,["batch","inputConfig"],Wx(e,r));const i=l(t,["config"]);return i!=null&&Gx(i,n),n}function Bx(e,t){const n={},o=l(t,["name"]);return o!=null&&a(n,["_url","name"],fo(e,o)),n}function zx(e,t){const n={},o=l(t,["name"]);return o!=null&&a(n,["_url","name"],fo(e,o)),n}function qx(e){const t={},n=l(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=l(e,["name"]);o!=null&&a(t,["name"],o);const r=l(e,["done"]);r!=null&&a(t,["done"],r);const i=l(e,["error"]);return i!=null&&a(t,["error"],i),t}function Ox(e){const t={},n=l(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=l(e,["name"]);o!=null&&a(t,["name"],o);const r=l(e,["done"]);r!=null&&a(t,["done"],r);const i=l(e,["error"]);return i!=null&&a(t,["error"],i),t}function $x(e,t){const n={},o=l(t,["contents"]);if(o!=null){let i=ru(e,o);Array.isArray(i)&&(i=i.map(s=>s)),a(n,["requests[]","request","content"],i)}const r=l(t,["config"]);return r!=null&&(a(n,["_self"],Jx(r,n)),zv(n,{"requests[].*":"requests[].request.*"})),n}function Jx(e,t){const n={},o=l(e,["taskType"]);t!==void 0&&o!=null&&a(t,["requests[]","taskType"],o);const r=l(e,["title"]);t!==void 0&&r!=null&&a(t,["requests[]","title"],r);const i=l(e,["outputDimensionality"]);if(t!==void 0&&i!=null&&a(t,["requests[]","outputDimensionality"],i),l(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(l(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function Wx(e,t){const n={},o=l(t,["fileName"]);o!=null&&a(n,["file_name"],o);const r=l(t,["inlinedRequests"]);return r!=null&&a(n,["requests"],$x(e,r)),n}function Kx(e){const t={};if(l(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=l(e,["fileUri"]);n!=null&&a(t,["fileUri"],n);const o=l(e,["mimeType"]);return o!=null&&a(t,["mimeType"],o),t}function Yx(e){const t={},n=l(e,["id"]);n!=null&&a(t,["id"],n);const o=l(e,["args"]);o!=null&&a(t,["args"],o);const r=l(e,["name"]);if(r!=null&&a(t,["name"],r),l(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(l(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function Qx(e){const t={},n=l(e,["mode"]);n!=null&&a(t,["mode"],n);const o=l(e,["allowedFunctionNames"]);if(o!=null&&a(t,["allowedFunctionNames"],o),l(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function Xx(e,t,n){const o={},r=l(t,["systemInstruction"]);n!==void 0&&r!=null&&a(n,["systemInstruction"],cm(we(r)));const i=l(t,["temperature"]);i!=null&&a(o,["temperature"],i);const s=l(t,["topP"]);s!=null&&a(o,["topP"],s);const u=l(t,["topK"]);u!=null&&a(o,["topK"],u);const d=l(t,["candidateCount"]);d!=null&&a(o,["candidateCount"],d);const c=l(t,["maxOutputTokens"]);c!=null&&a(o,["maxOutputTokens"],c);const f=l(t,["stopSequences"]);f!=null&&a(o,["stopSequences"],f);const p=l(t,["responseLogprobs"]);p!=null&&a(o,["responseLogprobs"],p);const h=l(t,["logprobs"]);h!=null&&a(o,["logprobs"],h);const g=l(t,["presencePenalty"]);g!=null&&a(o,["presencePenalty"],g);const y=l(t,["frequencyPenalty"]);y!=null&&a(o,["frequencyPenalty"],y);const T=l(t,["seed"]);T!=null&&a(o,["seed"],T);const x=l(t,["responseMimeType"]);x!=null&&a(o,["responseMimeType"],x);const v=l(t,["responseSchema"]);v!=null&&a(o,["responseSchema"],iu(v));const S=l(t,["responseJsonSchema"]);if(S!=null&&a(o,["responseJsonSchema"],S),l(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(l(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const E=l(t,["safetySettings"]);if(n!==void 0&&E!=null){let H=E;Array.isArray(H)&&(H=H.map(ee=>pS(ee))),a(n,["safetySettings"],H)}const C=l(t,["tools"]);if(n!==void 0&&C!=null){let H=co(C);Array.isArray(H)&&(H=H.map(ee=>mS(uo(ee)))),a(n,["tools"],H)}const w=l(t,["toolConfig"]);if(n!==void 0&&w!=null&&a(n,["toolConfig"],hS(w)),l(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const N=l(t,["cachedContent"]);n!==void 0&&N!=null&&a(n,["cachedContent"],Gt(e,N));const I=l(t,["responseModalities"]);I!=null&&a(o,["responseModalities"],I);const P=l(t,["mediaResolution"]);P!=null&&a(o,["mediaResolution"],P);const M=l(t,["speechConfig"]);if(M!=null&&a(o,["speechConfig"],su(M)),l(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const k=l(t,["thinkingConfig"]);k!=null&&a(o,["thinkingConfig"],k);const A=l(t,["imageConfig"]);A!=null&&a(o,["imageConfig"],oS(A));const O=l(t,["enableEnhancedCivicAnswers"]);return O!=null&&a(o,["enableEnhancedCivicAnswers"],O),o}function Zx(e){const t={},n=l(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=l(e,["candidates"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(c=>Lx(c))),a(t,["candidates"],d)}const r=l(e,["modelVersion"]);r!=null&&a(t,["modelVersion"],r);const i=l(e,["promptFeedback"]);i!=null&&a(t,["promptFeedback"],i);const s=l(e,["responseId"]);s!=null&&a(t,["responseId"],s);const u=l(e,["usageMetadata"]);return u!=null&&a(t,["usageMetadata"],u),t}function jx(e,t){const n={},o=l(t,["name"]);return o!=null&&a(n,["_url","name"],fo(e,o)),n}function eS(e,t){const n={},o=l(t,["name"]);return o!=null&&a(n,["_url","name"],fo(e,o)),n}function tS(e){const t={};if(l(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=l(e,["enableWidget"]);return n!=null&&a(t,["enableWidget"],n),t}function nS(e){const t={};if(l(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(l(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=l(e,["timeRangeFilter"]);return n!=null&&a(t,["timeRangeFilter"],n),t}function oS(e){const t={},n=l(e,["aspectRatio"]);n!=null&&a(t,["aspectRatio"],n);const o=l(e,["imageSize"]);if(o!=null&&a(t,["imageSize"],o),l(e,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(l(e,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function rS(e,t){const n={},o=l(t,["model"]);o!=null&&a(n,["request","model"],Q(e,o));const r=l(t,["contents"]);if(r!=null){let u=tt(r);Array.isArray(u)&&(u=u.map(d=>cm(d))),a(n,["request","contents"],u)}const i=l(t,["metadata"]);i!=null&&a(n,["metadata"],i);const s=l(t,["config"]);return s!=null&&a(n,["request","generationConfig"],Xx(e,s,l(n,["request"],{}))),n}function iS(e){const t={},n=l(e,["response"]);n!=null&&a(t,["response"],Zx(n));const o=l(e,["error"]);return o!=null&&a(t,["error"],o),t}function sS(e,t){const n={},o=l(e,["pageSize"]);t!==void 0&&o!=null&&a(t,["_query","pageSize"],o);const r=l(e,["pageToken"]);if(t!==void 0&&r!=null&&a(t,["_query","pageToken"],r),l(e,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function lS(e,t){const n={},o=l(e,["pageSize"]);t!==void 0&&o!=null&&a(t,["_query","pageSize"],o);const r=l(e,["pageToken"]);t!==void 0&&r!=null&&a(t,["_query","pageToken"],r);const i=l(e,["filter"]);return t!==void 0&&i!=null&&a(t,["_query","filter"],i),n}function aS(e){const t={},n=l(e,["config"]);return n!=null&&sS(n,t),t}function uS(e){const t={},n=l(e,["config"]);return n!=null&&lS(n,t),t}function cS(e){const t={},n=l(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=l(e,["nextPageToken"]);o!=null&&a(t,["nextPageToken"],o);const r=l(e,["operations"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>Zr(s))),a(t,["batchJobs"],i)}return t}function dS(e){const t={},n=l(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=l(e,["nextPageToken"]);o!=null&&a(t,["nextPageToken"],o);const r=l(e,["batchPredictionJobs"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>$l(s))),a(t,["batchJobs"],i)}return t}function fS(e){const t={},n=l(e,["mediaResolution"]);n!=null&&a(t,["mediaResolution"],n);const o=l(e,["codeExecutionResult"]);o!=null&&a(t,["codeExecutionResult"],o);const r=l(e,["executableCode"]);r!=null&&a(t,["executableCode"],r);const i=l(e,["fileData"]);i!=null&&a(t,["fileData"],Kx(i));const s=l(e,["functionCall"]);s!=null&&a(t,["functionCall"],Yx(s));const u=l(e,["functionResponse"]);u!=null&&a(t,["functionResponse"],u);const d=l(e,["inlineData"]);d!=null&&a(t,["inlineData"],Px(d));const c=l(e,["text"]);c!=null&&a(t,["text"],c);const f=l(e,["thought"]);f!=null&&a(t,["thought"],f);const p=l(e,["thoughtSignature"]);p!=null&&a(t,["thoughtSignature"],p);const h=l(e,["videoMetadata"]);return h!=null&&a(t,["videoMetadata"],h),t}function pS(e){const t={},n=l(e,["category"]);if(n!=null&&a(t,["category"],n),l(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const o=l(e,["threshold"]);return o!=null&&a(t,["threshold"],o),t}function hS(e){const t={},n=l(e,["functionCallingConfig"]);n!=null&&a(t,["functionCallingConfig"],Qx(n));const o=l(e,["retrievalConfig"]);return o!=null&&a(t,["retrievalConfig"],o),t}function mS(e){const t={},n=l(e,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(p=>p)),a(t,["functionDeclarations"],f)}if(l(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=l(e,["googleSearchRetrieval"]);o!=null&&a(t,["googleSearchRetrieval"],o);const r=l(e,["computerUse"]);r!=null&&a(t,["computerUse"],r);const i=l(e,["fileSearch"]);i!=null&&a(t,["fileSearch"],i);const s=l(e,["codeExecution"]);if(s!=null&&a(t,["codeExecution"],s),l(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=l(e,["googleMaps"]);u!=null&&a(t,["googleMaps"],tS(u));const d=l(e,["googleSearch"]);d!=null&&a(t,["googleSearch"],nS(d));const c=l(e,["urlContext"]);return c!=null&&a(t,["urlContext"],c),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Ft;(function(e){e.PAGED_ITEM_BATCH_JOBS="batchJobs",e.PAGED_ITEM_MODELS="models",e.PAGED_ITEM_TUNING_JOBS="tuningJobs",e.PAGED_ITEM_FILES="files",e.PAGED_ITEM_CACHED_CONTENTS="cachedContents",e.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",e.PAGED_ITEM_DOCUMENTS="documents"})(Ft||(Ft={}));class Nn{constructor(t,n,o,r){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(t,o,r)}init(t,n,o){var r,i;this.nameInternal=t,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let s={config:{}};!o||Object.keys(o).length===0?s={config:{}}:typeof o=="object"?s=Object.assign({},o):s=o,s.config&&(s.config.pageToken=n.nextPageToken),this.paramsInternal=s,this.pageInternalSize=(i=(r=s.config)===null||r===void 0?void 0:r.pageSize)!==null&&i!==void 0?i:this.pageInternal.length}initNextPage(t){this.init(this.nameInternal,t,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(t){return this.pageInternal[t]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const t=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:t,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const t=await this.requestInternal(this.params);return this.initNextPage(t),this.page}hasNextPage(){var t;return((t=this.params.config)===null||t===void 0?void 0:t.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class gS extends Vt{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new Nn(Ft.PAGED_ITEM_BATCH_JOBS,o=>this.listInternal(o),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(t){const n=Kd(this.apiClient,t),o=n._url,r=L("{model}:batchGenerateContent",o),u=n.batch.inputConfig.requests,d=u.requests,c=[];for(const f of d){const p=Object.assign({},f);if(p.systemInstruction){const h=p.systemInstruction;delete p.systemInstruction;const g=p.request;g.systemInstruction=h,p.request=g}c.push(p)}return u.requests=c,delete n.config,delete n._url,delete n._query,{path:r,body:n}}getGcsUri(t){if(typeof t=="string")return t.startsWith("gs://")?t:void 0;if(!Array.isArray(t)&&t.gcsUri&&t.gcsUri.length>0)return t.gcsUri[0]}getBigqueryUri(t){if(typeof t=="string")return t.startsWith("bq://")?t:void 0;if(!Array.isArray(t))return t.bigqueryUri}formatDestination(t,n){const o=n?Object.assign({},n):{},r=Date.now().toString();if(o.displayName||(o.displayName=`genaiBatchJob_${r}`),o.dest===void 0){const i=this.getGcsUri(t),s=this.getBigqueryUri(t);if(i)i.endsWith(".jsonl")?o.dest=`${i.slice(0,-6)}/dest`:o.dest=`${i}_dest_${r}`;else if(s)o.dest=`${s}_dest_${r}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return o}async createInternal(t){var n,o,r,i;let s,u="",d={};if(this.apiClient.isVertexAI()){const c=Vx(this.apiClient,t);return u=L("batchPredictionJobs",c._url),d=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),s.then(f=>$l(f))}else{const c=Kd(this.apiClient,t);return u=L("{model}:batchGenerateContent",c._url),d=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s.then(f=>Zr(f))}}async createEmbeddingsInternal(t){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Hx(this.apiClient,t);return i=L("{model}:asyncBatchEmbedContent",u._url),s=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>Zr(d))}}async get(t){var n,o,r,i;let s,u="",d={};if(this.apiClient.isVertexAI()){const c=eS(this.apiClient,t);return u=L("batchPredictionJobs/{name}",c._url),d=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),s.then(f=>$l(f))}else{const c=jx(this.apiClient,t);return u=L("batches/{name}",c._url),d=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s.then(f=>Zr(f))}}async cancel(t){var n,o,r,i;let s="",u={};if(this.apiClient.isVertexAI()){const d=Dx(this.apiClient,t);s=L("batchPredictionJobs/{name}:cancel",d._url),u=d._query,delete d._url,delete d._query,await this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal})}else{const d=Mx(this.apiClient,t);s=L("batches/{name}:cancel",d._url),u=d._query,delete d._url,delete d._query,await this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal})}}async listInternal(t){var n,o,r,i;let s,u="",d={};if(this.apiClient.isVertexAI()){const c=uS(t);return u=L("batchPredictionJobs",c._url),d=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{const p=dS(f),h=new Od;return Object.assign(h,p),h})}else{const c=aS(t);return u=L("batches",c._url),d=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{const p=cS(f),h=new Od;return Object.assign(h,p),h})}}async delete(t){var n,o,r,i;let s,u="",d={};if(this.apiClient.isVertexAI()){const c=zx(this.apiClient,t);return u=L("batchPredictionJobs/{name}",c._url),d=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>Ox(f))}else{const c=Bx(this.apiClient,t);return u=L("batches/{name}",c._url),d=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>qx(f))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function yS(e){const t={},n=l(e,["data"]);if(n!=null&&a(t,["data"],n),l(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=l(e,["mimeType"]);return o!=null&&a(t,["mimeType"],o),t}function Yd(e){const t={},n=l(e,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>HS(i))),a(t,["parts"],r)}const o=l(e,["role"]);return o!=null&&a(t,["role"],o),t}function vS(e,t){const n={},o=l(e,["ttl"]);t!==void 0&&o!=null&&a(t,["ttl"],o);const r=l(e,["expireTime"]);t!==void 0&&r!=null&&a(t,["expireTime"],r);const i=l(e,["displayName"]);t!==void 0&&i!=null&&a(t,["displayName"],i);const s=l(e,["contents"]);if(t!==void 0&&s!=null){let f=tt(s);Array.isArray(f)&&(f=f.map(p=>Yd(p))),a(t,["contents"],f)}const u=l(e,["systemInstruction"]);t!==void 0&&u!=null&&a(t,["systemInstruction"],Yd(we(u)));const d=l(e,["tools"]);if(t!==void 0&&d!=null){let f=d;Array.isArray(f)&&(f=f.map(p=>zS(p))),a(t,["tools"],f)}const c=l(e,["toolConfig"]);if(t!==void 0&&c!=null&&a(t,["toolConfig"],BS(c)),l(e,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function xS(e,t){const n={},o=l(e,["ttl"]);t!==void 0&&o!=null&&a(t,["ttl"],o);const r=l(e,["expireTime"]);t!==void 0&&r!=null&&a(t,["expireTime"],r);const i=l(e,["displayName"]);t!==void 0&&i!=null&&a(t,["displayName"],i);const s=l(e,["contents"]);if(t!==void 0&&s!=null){let p=tt(s);Array.isArray(p)&&(p=p.map(h=>h)),a(t,["contents"],p)}const u=l(e,["systemInstruction"]);t!==void 0&&u!=null&&a(t,["systemInstruction"],we(u));const d=l(e,["tools"]);if(t!==void 0&&d!=null){let p=d;Array.isArray(p)&&(p=p.map(h=>qS(h))),a(t,["tools"],p)}const c=l(e,["toolConfig"]);t!==void 0&&c!=null&&a(t,["toolConfig"],c);const f=l(e,["kmsKeyName"]);return t!==void 0&&f!=null&&a(t,["encryption_spec","kmsKeyName"],f),n}function SS(e,t){const n={},o=l(t,["model"]);o!=null&&a(n,["model"],Zh(e,o));const r=l(t,["config"]);return r!=null&&vS(r,n),n}function ES(e,t){const n={},o=l(t,["model"]);o!=null&&a(n,["model"],Zh(e,o));const r=l(t,["config"]);return r!=null&&xS(r,n),n}function TS(e,t){const n={},o=l(t,["name"]);return o!=null&&a(n,["_url","name"],Gt(e,o)),n}function CS(e,t){const n={},o=l(t,["name"]);return o!=null&&a(n,["_url","name"],Gt(e,o)),n}function _S(e){const t={},n=l(e,["sdkHttpResponse"]);return n!=null&&a(t,["sdkHttpResponse"],n),t}function wS(e){const t={},n=l(e,["sdkHttpResponse"]);return n!=null&&a(t,["sdkHttpResponse"],n),t}function IS(e){const t={};if(l(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=l(e,["fileUri"]);n!=null&&a(t,["fileUri"],n);const o=l(e,["mimeType"]);return o!=null&&a(t,["mimeType"],o),t}function NS(e){const t={},n=l(e,["id"]);n!=null&&a(t,["id"],n);const o=l(e,["args"]);o!=null&&a(t,["args"],o);const r=l(e,["name"]);if(r!=null&&a(t,["name"],r),l(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(l(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function AS(e){const t={},n=l(e,["mode"]);n!=null&&a(t,["mode"],n);const o=l(e,["allowedFunctionNames"]);if(o!=null&&a(t,["allowedFunctionNames"],o),l(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function RS(e){const t={};if(l(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=l(e,["description"]);n!=null&&a(t,["description"],n);const o=l(e,["name"]);o!=null&&a(t,["name"],o);const r=l(e,["parameters"]);r!=null&&a(t,["parameters"],r);const i=l(e,["parametersJsonSchema"]);i!=null&&a(t,["parametersJsonSchema"],i);const s=l(e,["response"]);s!=null&&a(t,["response"],s);const u=l(e,["responseJsonSchema"]);return u!=null&&a(t,["responseJsonSchema"],u),t}function kS(e,t){const n={},o=l(t,["name"]);return o!=null&&a(n,["_url","name"],Gt(e,o)),n}function PS(e,t){const n={},o=l(t,["name"]);return o!=null&&a(n,["_url","name"],Gt(e,o)),n}function MS(e){const t={};if(l(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=l(e,["enableWidget"]);return n!=null&&a(t,["enableWidget"],n),t}function DS(e){const t={};if(l(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(l(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=l(e,["timeRangeFilter"]);return n!=null&&a(t,["timeRangeFilter"],n),t}function LS(e,t){const n={},o=l(e,["pageSize"]);t!==void 0&&o!=null&&a(t,["_query","pageSize"],o);const r=l(e,["pageToken"]);return t!==void 0&&r!=null&&a(t,["_query","pageToken"],r),n}function US(e,t){const n={},o=l(e,["pageSize"]);t!==void 0&&o!=null&&a(t,["_query","pageSize"],o);const r=l(e,["pageToken"]);return t!==void 0&&r!=null&&a(t,["_query","pageToken"],r),n}function FS(e){const t={},n=l(e,["config"]);return n!=null&&LS(n,t),t}function bS(e){const t={},n=l(e,["config"]);return n!=null&&US(n,t),t}function VS(e){const t={},n=l(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=l(e,["nextPageToken"]);o!=null&&a(t,["nextPageToken"],o);const r=l(e,["cachedContents"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>s)),a(t,["cachedContents"],i)}return t}function GS(e){const t={},n=l(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=l(e,["nextPageToken"]);o!=null&&a(t,["nextPageToken"],o);const r=l(e,["cachedContents"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>s)),a(t,["cachedContents"],i)}return t}function HS(e){const t={},n=l(e,["mediaResolution"]);n!=null&&a(t,["mediaResolution"],n);const o=l(e,["codeExecutionResult"]);o!=null&&a(t,["codeExecutionResult"],o);const r=l(e,["executableCode"]);r!=null&&a(t,["executableCode"],r);const i=l(e,["fileData"]);i!=null&&a(t,["fileData"],IS(i));const s=l(e,["functionCall"]);s!=null&&a(t,["functionCall"],NS(s));const u=l(e,["functionResponse"]);u!=null&&a(t,["functionResponse"],u);const d=l(e,["inlineData"]);d!=null&&a(t,["inlineData"],yS(d));const c=l(e,["text"]);c!=null&&a(t,["text"],c);const f=l(e,["thought"]);f!=null&&a(t,["thought"],f);const p=l(e,["thoughtSignature"]);p!=null&&a(t,["thoughtSignature"],p);const h=l(e,["videoMetadata"]);return h!=null&&a(t,["videoMetadata"],h),t}function BS(e){const t={},n=l(e,["functionCallingConfig"]);n!=null&&a(t,["functionCallingConfig"],AS(n));const o=l(e,["retrievalConfig"]);return o!=null&&a(t,["retrievalConfig"],o),t}function zS(e){const t={},n=l(e,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(p=>p)),a(t,["functionDeclarations"],f)}if(l(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=l(e,["googleSearchRetrieval"]);o!=null&&a(t,["googleSearchRetrieval"],o);const r=l(e,["computerUse"]);r!=null&&a(t,["computerUse"],r);const i=l(e,["fileSearch"]);i!=null&&a(t,["fileSearch"],i);const s=l(e,["codeExecution"]);if(s!=null&&a(t,["codeExecution"],s),l(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=l(e,["googleMaps"]);u!=null&&a(t,["googleMaps"],MS(u));const d=l(e,["googleSearch"]);d!=null&&a(t,["googleSearch"],DS(d));const c=l(e,["urlContext"]);return c!=null&&a(t,["urlContext"],c),t}function qS(e){const t={},n=l(e,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(h=>RS(h))),a(t,["functionDeclarations"],p)}const o=l(e,["retrieval"]);o!=null&&a(t,["retrieval"],o);const r=l(e,["googleSearchRetrieval"]);r!=null&&a(t,["googleSearchRetrieval"],r);const i=l(e,["computerUse"]);if(i!=null&&a(t,["computerUse"],i),l(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const s=l(e,["codeExecution"]);s!=null&&a(t,["codeExecution"],s);const u=l(e,["enterpriseWebSearch"]);u!=null&&a(t,["enterpriseWebSearch"],u);const d=l(e,["googleMaps"]);d!=null&&a(t,["googleMaps"],d);const c=l(e,["googleSearch"]);c!=null&&a(t,["googleSearch"],c);const f=l(e,["urlContext"]);return f!=null&&a(t,["urlContext"],f),t}function OS(e,t){const n={},o=l(e,["ttl"]);t!==void 0&&o!=null&&a(t,["ttl"],o);const r=l(e,["expireTime"]);return t!==void 0&&r!=null&&a(t,["expireTime"],r),n}function $S(e,t){const n={},o=l(e,["ttl"]);t!==void 0&&o!=null&&a(t,["ttl"],o);const r=l(e,["expireTime"]);return t!==void 0&&r!=null&&a(t,["expireTime"],r),n}function JS(e,t){const n={},o=l(t,["name"]);o!=null&&a(n,["_url","name"],Gt(e,o));const r=l(t,["config"]);return r!=null&&OS(r,n),n}function WS(e,t){const n={},o=l(t,["name"]);o!=null&&a(n,["_url","name"],Gt(e,o));const r=l(t,["config"]);return r!=null&&$S(r,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class KS extends Vt{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new Nn(Ft.PAGED_ITEM_CACHED_CONTENTS,o=>this.listInternal(o),await this.listInternal(n),n)}async create(t){var n,o,r,i;let s,u="",d={};if(this.apiClient.isVertexAI()){const c=ES(this.apiClient,t);return u=L("cachedContents",c._url),d=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),s.then(f=>f)}else{const c=SS(this.apiClient,t);return u=L("cachedContents",c._url),d=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s.then(f=>f)}}async get(t){var n,o,r,i;let s,u="",d={};if(this.apiClient.isVertexAI()){const c=PS(this.apiClient,t);return u=L("{name}",c._url),d=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),s.then(f=>f)}else{const c=kS(this.apiClient,t);return u=L("{name}",c._url),d=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s.then(f=>f)}}async delete(t){var n,o,r,i;let s,u="",d={};if(this.apiClient.isVertexAI()){const c=CS(this.apiClient,t);return u=L("{name}",c._url),d=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{const p=wS(f),h=new zd;return Object.assign(h,p),h})}else{const c=TS(this.apiClient,t);return u=L("{name}",c._url),d=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{const p=_S(f),h=new zd;return Object.assign(h,p),h})}}async update(t){var n,o,r,i;let s,u="",d={};if(this.apiClient.isVertexAI()){const c=WS(this.apiClient,t);return u=L("{name}",c._url),d=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),s.then(f=>f)}else{const c=JS(this.apiClient,t);return u=L("{name}",c._url),d=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s.then(f=>f)}}async listInternal(t){var n,o,r,i;let s,u="",d={};if(this.apiClient.isVertexAI()){const c=bS(t);return u=L("cachedContents",c._url),d=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{const p=GS(f),h=new qd;return Object.assign(h,p),h})}else{const c=FS(t);return u=L("cachedContents",c._url),d=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{const p=VS(f),h=new qd;return Object.assign(h,p),h})}}}function Ui(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]]);return n}function Qd(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],o=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&o>=e.length&&(e=void 0),{value:e&&e[o++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function z(e){return this instanceof z?(this.v=e,this):new z(e)}function pt(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=n.apply(e,t||[]),r,i=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",s),r[Symbol.asyncIterator]=function(){return this},r;function s(g){return function(y){return Promise.resolve(y).then(g,p)}}function u(g,y){o[g]&&(r[g]=function(T){return new Promise(function(x,v){i.push([g,T,x,v])>1||d(g,T)})},y&&(r[g]=y(r[g])))}function d(g,y){try{c(o[g](y))}catch(T){h(i[0][3],T)}}function c(g){g.value instanceof z?Promise.resolve(g.value.v).then(f,p):h(i[0][2],g)}function f(g){d("next",g)}function p(g){d("throw",g)}function h(g,y){g(y),i.shift(),i.length&&d(i[0][0],i[0][1])}}function ht(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof Qd=="function"?Qd(e):e[Symbol.iterator](),n={},o("next"),o("throw"),o("return"),n[Symbol.asyncIterator]=function(){return this},n);function o(i){n[i]=e[i]&&function(s){return new Promise(function(u,d){s=e[i](s),r(u,d,s.done,s.value)})}}function r(i,s,u,d){Promise.resolve(d).then(function(c){i({value:c,done:u})},s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function YS(e){var t;if(e.candidates==null||e.candidates.length===0)return!1;const n=(t=e.candidates[0])===null||t===void 0?void 0:t.content;return n===void 0?!1:dm(n)}function dm(e){if(e.parts===void 0||e.parts.length===0)return!1;for(const t of e.parts)if(t===void 0||Object.keys(t).length===0)return!1;return!0}function QS(e){if(e.length!==0){for(const t of e)if(t.role!=="user"&&t.role!=="model")throw new Error(`Role must be user or model, but got ${t.role}.`)}}function Xd(e){if(e===void 0||e.length===0)return[];const t=[],n=e.length;let o=0;for(;o<n;)if(e[o].role==="user")t.push(e[o]),o++;else{const r=[];let i=!0;for(;o<n&&e[o].role==="model";)r.push(e[o]),i&&!dm(e[o])&&(i=!1),o++;i?t.push(...r):t.pop()}return t}class XS{constructor(t,n){this.modelsModule=t,this.apiClient=n}create(t){return new ZS(this.apiClient,this.modelsModule,t.model,t.config,structuredClone(t.history))}}class ZS{constructor(t,n,o,r={},i=[]){this.apiClient=t,this.modelsModule=n,this.model=o,this.config=r,this.history=i,this.sendPromise=Promise.resolve(),QS(i)}async sendMessage(t){var n;await this.sendPromise;const o=we(t.message),r=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(o),config:(n=t.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var i,s,u;const d=await r,c=(s=(i=d.candidates)===null||i===void 0?void 0:i[0])===null||s===void 0?void 0:s.content,f=d.automaticFunctionCallingHistory,p=this.getHistory(!0).length;let h=[];f!=null&&(h=(u=f.slice(p))!==null&&u!==void 0?u:[]);const g=c?[c]:[];this.recordHistory(o,g,h)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),r}async sendMessageStream(t){var n;await this.sendPromise;const o=we(t.message),r=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(o),config:(n=t.config)!==null&&n!==void 0?n:this.config});this.sendPromise=r.then(()=>{}).catch(()=>{});const i=await r;return this.processStreamResponse(i,o)}getHistory(t=!1){const n=t?Xd(this.history):this.history;return structuredClone(n)}processStreamResponse(t,n){return pt(this,arguments,function*(){var r,i,s,u,d,c;const f=[];try{for(var p=!0,h=ht(t),g;g=yield z(h.next()),r=g.done,!r;p=!0){u=g.value,p=!1;const y=u;if(YS(y)){const T=(c=(d=y.candidates)===null||d===void 0?void 0:d[0])===null||c===void 0?void 0:c.content;T!==void 0&&f.push(T)}yield yield z(y)}}catch(y){i={error:y}}finally{try{!p&&!r&&(s=h.return)&&(yield z(s.call(h)))}finally{if(i)throw i.error}}this.recordHistory(n,f)})}recordHistory(t,n,o){let r=[];n.length>0&&n.every(i=>i.role!==void 0)?r=n:r.push({role:"model",parts:[]}),o&&o.length>0?this.history.push(...Xd(o)):this.history.push(t),this.history.push(...r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class rs extends Error{constructor(t){super(t.message),this.name="ApiError",this.status=t.status,Object.setPrototypeOf(this,rs.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function jS(e){const t={},n=l(e,["file"]);return n!=null&&a(t,["file"],n),t}function eE(e){const t={},n=l(e,["sdkHttpResponse"]);return n!=null&&a(t,["sdkHttpResponse"],n),t}function tE(e){const t={},n=l(e,["name"]);return n!=null&&a(t,["_url","file"],rm(n)),t}function nE(e){const t={},n=l(e,["sdkHttpResponse"]);return n!=null&&a(t,["sdkHttpResponse"],n),t}function oE(e){const t={},n=l(e,["name"]);return n!=null&&a(t,["_url","file"],rm(n)),t}function rE(e,t){const n={},o=l(e,["pageSize"]);t!==void 0&&o!=null&&a(t,["_query","pageSize"],o);const r=l(e,["pageToken"]);return t!==void 0&&r!=null&&a(t,["_query","pageToken"],r),n}function iE(e){const t={},n=l(e,["config"]);return n!=null&&rE(n,t),t}function sE(e){const t={},n=l(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=l(e,["nextPageToken"]);o!=null&&a(t,["nextPageToken"],o);const r=l(e,["files"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>s)),a(t,["files"],i)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class lE extends Vt{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new Nn(Ft.PAGED_ITEM_FILES,o=>this.listInternal(o),await this.listInternal(n),n)}async upload(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(t.file,t.config).then(n=>n)}async download(t){await this.apiClient.downloadFile(t)}async listInternal(t){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=iE(t);return i=L("files",u._url),s=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(c=>{const f=c;return f.sdkHttpResponse={headers:d.headers},f})),r.then(d=>{const c=sE(d),f=new dx;return Object.assign(f,c),f})}}async createInternal(t){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=jS(t);return i=L("upload/v1beta/files",u._url),s=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>{const c=eE(d),f=new fx;return Object.assign(f,c),f})}}async get(t){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=oE(t);return i=L("files/{file}",u._url),s=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>d)}}async delete(t){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=tE(t);return i=L("files/{file}",u._url),s=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(c=>{const f=c;return f.sdkHttpResponse={headers:d.headers},f})),r.then(d=>{const c=nE(d),f=new px;return Object.assign(f,c),f})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function jr(e){const t={},n=l(e,["data"]);if(n!=null&&a(t,["data"],n),l(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=l(e,["mimeType"]);return o!=null&&a(t,["mimeType"],o),t}function aE(e){const t={},n=l(e,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>_E(i))),a(t,["parts"],r)}const o=l(e,["role"]);return o!=null&&a(t,["role"],o),t}function uE(e){const t={};if(l(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=l(e,["fileUri"]);n!=null&&a(t,["fileUri"],n);const o=l(e,["mimeType"]);return o!=null&&a(t,["mimeType"],o),t}function cE(e){const t={},n=l(e,["id"]);n!=null&&a(t,["id"],n);const o=l(e,["args"]);o!=null&&a(t,["args"],o);const r=l(e,["name"]);if(r!=null&&a(t,["name"],r),l(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(l(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function dE(e){const t={};if(l(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=l(e,["description"]);n!=null&&a(t,["description"],n);const o=l(e,["name"]);o!=null&&a(t,["name"],o);const r=l(e,["parameters"]);r!=null&&a(t,["parameters"],r);const i=l(e,["parametersJsonSchema"]);i!=null&&a(t,["parametersJsonSchema"],i);const s=l(e,["response"]);s!=null&&a(t,["response"],s);const u=l(e,["responseJsonSchema"]);return u!=null&&a(t,["responseJsonSchema"],u),t}function fE(e){const t={},n=l(e,["modelSelectionConfig"]);n!=null&&a(t,["modelConfig"],n);const o=l(e,["responseJsonSchema"]);o!=null&&a(t,["responseJsonSchema"],o);const r=l(e,["audioTimestamp"]);r!=null&&a(t,["audioTimestamp"],r);const i=l(e,["candidateCount"]);i!=null&&a(t,["candidateCount"],i);const s=l(e,["enableAffectiveDialog"]);s!=null&&a(t,["enableAffectiveDialog"],s);const u=l(e,["frequencyPenalty"]);u!=null&&a(t,["frequencyPenalty"],u);const d=l(e,["logprobs"]);d!=null&&a(t,["logprobs"],d);const c=l(e,["maxOutputTokens"]);c!=null&&a(t,["maxOutputTokens"],c);const f=l(e,["mediaResolution"]);f!=null&&a(t,["mediaResolution"],f);const p=l(e,["presencePenalty"]);p!=null&&a(t,["presencePenalty"],p);const h=l(e,["responseLogprobs"]);h!=null&&a(t,["responseLogprobs"],h);const g=l(e,["responseMimeType"]);g!=null&&a(t,["responseMimeType"],g);const y=l(e,["responseModalities"]);y!=null&&a(t,["responseModalities"],y);const T=l(e,["responseSchema"]);T!=null&&a(t,["responseSchema"],T);const x=l(e,["routingConfig"]);x!=null&&a(t,["routingConfig"],x);const v=l(e,["seed"]);v!=null&&a(t,["seed"],v);const S=l(e,["speechConfig"]);S!=null&&a(t,["speechConfig"],S);const E=l(e,["stopSequences"]);E!=null&&a(t,["stopSequences"],E);const C=l(e,["temperature"]);C!=null&&a(t,["temperature"],C);const w=l(e,["thinkingConfig"]);w!=null&&a(t,["thinkingConfig"],w);const N=l(e,["topK"]);N!=null&&a(t,["topK"],N);const I=l(e,["topP"]);if(I!=null&&a(t,["topP"],I),l(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function pE(e){const t={};if(l(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=l(e,["enableWidget"]);return n!=null&&a(t,["enableWidget"],n),t}function hE(e){const t={};if(l(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(l(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=l(e,["timeRangeFilter"]);return n!=null&&a(t,["timeRangeFilter"],n),t}function mE(e,t){const n={},o=l(e,["generationConfig"]);t!==void 0&&o!=null&&a(t,["setup","generationConfig"],o);const r=l(e,["responseModalities"]);t!==void 0&&r!=null&&a(t,["setup","generationConfig","responseModalities"],r);const i=l(e,["temperature"]);t!==void 0&&i!=null&&a(t,["setup","generationConfig","temperature"],i);const s=l(e,["topP"]);t!==void 0&&s!=null&&a(t,["setup","generationConfig","topP"],s);const u=l(e,["topK"]);t!==void 0&&u!=null&&a(t,["setup","generationConfig","topK"],u);const d=l(e,["maxOutputTokens"]);t!==void 0&&d!=null&&a(t,["setup","generationConfig","maxOutputTokens"],d);const c=l(e,["mediaResolution"]);t!==void 0&&c!=null&&a(t,["setup","generationConfig","mediaResolution"],c);const f=l(e,["seed"]);t!==void 0&&f!=null&&a(t,["setup","generationConfig","seed"],f);const p=l(e,["speechConfig"]);t!==void 0&&p!=null&&a(t,["setup","generationConfig","speechConfig"],lu(p));const h=l(e,["thinkingConfig"]);t!==void 0&&h!=null&&a(t,["setup","generationConfig","thinkingConfig"],h);const g=l(e,["enableAffectiveDialog"]);t!==void 0&&g!=null&&a(t,["setup","generationConfig","enableAffectiveDialog"],g);const y=l(e,["systemInstruction"]);t!==void 0&&y!=null&&a(t,["setup","systemInstruction"],aE(we(y)));const T=l(e,["tools"]);if(t!==void 0&&T!=null){let N=co(T);Array.isArray(N)&&(N=N.map(I=>IE(uo(I)))),a(t,["setup","tools"],N)}const x=l(e,["sessionResumption"]);t!==void 0&&x!=null&&a(t,["setup","sessionResumption"],wE(x));const v=l(e,["inputAudioTranscription"]);t!==void 0&&v!=null&&a(t,["setup","inputAudioTranscription"],v);const S=l(e,["outputAudioTranscription"]);t!==void 0&&S!=null&&a(t,["setup","outputAudioTranscription"],S);const E=l(e,["realtimeInputConfig"]);t!==void 0&&E!=null&&a(t,["setup","realtimeInputConfig"],E);const C=l(e,["contextWindowCompression"]);t!==void 0&&C!=null&&a(t,["setup","contextWindowCompression"],C);const w=l(e,["proactivity"]);if(t!==void 0&&w!=null&&a(t,["setup","proactivity"],w),l(e,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function gE(e,t){const n={},o=l(e,["generationConfig"]);t!==void 0&&o!=null&&a(t,["setup","generationConfig"],fE(o));const r=l(e,["responseModalities"]);t!==void 0&&r!=null&&a(t,["setup","generationConfig","responseModalities"],r);const i=l(e,["temperature"]);t!==void 0&&i!=null&&a(t,["setup","generationConfig","temperature"],i);const s=l(e,["topP"]);t!==void 0&&s!=null&&a(t,["setup","generationConfig","topP"],s);const u=l(e,["topK"]);t!==void 0&&u!=null&&a(t,["setup","generationConfig","topK"],u);const d=l(e,["maxOutputTokens"]);t!==void 0&&d!=null&&a(t,["setup","generationConfig","maxOutputTokens"],d);const c=l(e,["mediaResolution"]);t!==void 0&&c!=null&&a(t,["setup","generationConfig","mediaResolution"],c);const f=l(e,["seed"]);t!==void 0&&f!=null&&a(t,["setup","generationConfig","seed"],f);const p=l(e,["speechConfig"]);t!==void 0&&p!=null&&a(t,["setup","generationConfig","speechConfig"],lu(p));const h=l(e,["thinkingConfig"]);t!==void 0&&h!=null&&a(t,["setup","generationConfig","thinkingConfig"],h);const g=l(e,["enableAffectiveDialog"]);t!==void 0&&g!=null&&a(t,["setup","generationConfig","enableAffectiveDialog"],g);const y=l(e,["systemInstruction"]);t!==void 0&&y!=null&&a(t,["setup","systemInstruction"],we(y));const T=l(e,["tools"]);if(t!==void 0&&T!=null){let I=co(T);Array.isArray(I)&&(I=I.map(P=>NE(uo(P)))),a(t,["setup","tools"],I)}const x=l(e,["sessionResumption"]);t!==void 0&&x!=null&&a(t,["setup","sessionResumption"],x);const v=l(e,["inputAudioTranscription"]);t!==void 0&&v!=null&&a(t,["setup","inputAudioTranscription"],v);const S=l(e,["outputAudioTranscription"]);t!==void 0&&S!=null&&a(t,["setup","outputAudioTranscription"],S);const E=l(e,["realtimeInputConfig"]);t!==void 0&&E!=null&&a(t,["setup","realtimeInputConfig"],E);const C=l(e,["contextWindowCompression"]);t!==void 0&&C!=null&&a(t,["setup","contextWindowCompression"],C);const w=l(e,["proactivity"]);t!==void 0&&w!=null&&a(t,["setup","proactivity"],w);const N=l(e,["explicitVadSignal"]);return t!==void 0&&N!=null&&a(t,["setup","explicitVadSignal"],N),n}function yE(e,t){const n={},o=l(t,["model"]);o!=null&&a(n,["setup","model"],Q(e,o));const r=l(t,["config"]);return r!=null&&a(n,["config"],mE(r,n)),n}function vE(e,t){const n={},o=l(t,["model"]);o!=null&&a(n,["setup","model"],Q(e,o));const r=l(t,["config"]);return r!=null&&a(n,["config"],gE(r,n)),n}function xE(e){const t={},n=l(e,["musicGenerationConfig"]);return n!=null&&a(t,["musicGenerationConfig"],n),t}function SE(e){const t={},n=l(e,["weightedPrompts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>r)),a(t,["weightedPrompts"],o)}return t}function EE(e){const t={},n=l(e,["media"]);if(n!=null){let c=jh(n);Array.isArray(c)&&(c=c.map(f=>jr(f))),a(t,["mediaChunks"],c)}const o=l(e,["audio"]);o!=null&&a(t,["audio"],jr(tm(o)));const r=l(e,["audioStreamEnd"]);r!=null&&a(t,["audioStreamEnd"],r);const i=l(e,["video"]);i!=null&&a(t,["video"],jr(em(i)));const s=l(e,["text"]);s!=null&&a(t,["text"],s);const u=l(e,["activityStart"]);u!=null&&a(t,["activityStart"],u);const d=l(e,["activityEnd"]);return d!=null&&a(t,["activityEnd"],d),t}function TE(e){const t={},n=l(e,["media"]);if(n!=null){let c=jh(n);Array.isArray(c)&&(c=c.map(f=>f)),a(t,["mediaChunks"],c)}const o=l(e,["audio"]);o!=null&&a(t,["audio"],tm(o));const r=l(e,["audioStreamEnd"]);r!=null&&a(t,["audioStreamEnd"],r);const i=l(e,["video"]);i!=null&&a(t,["video"],em(i));const s=l(e,["text"]);s!=null&&a(t,["text"],s);const u=l(e,["activityStart"]);u!=null&&a(t,["activityStart"],u);const d=l(e,["activityEnd"]);return d!=null&&a(t,["activityEnd"],d),t}function CE(e){const t={},n=l(e,["setupComplete"]);n!=null&&a(t,["setupComplete"],n);const o=l(e,["serverContent"]);o!=null&&a(t,["serverContent"],o);const r=l(e,["toolCall"]);r!=null&&a(t,["toolCall"],r);const i=l(e,["toolCallCancellation"]);i!=null&&a(t,["toolCallCancellation"],i);const s=l(e,["usageMetadata"]);s!=null&&a(t,["usageMetadata"],AE(s));const u=l(e,["goAway"]);u!=null&&a(t,["goAway"],u);const d=l(e,["sessionResumptionUpdate"]);d!=null&&a(t,["sessionResumptionUpdate"],d);const c=l(e,["voiceActivityDetectionSignal"]);return c!=null&&a(t,["voiceActivityDetectionSignal"],c),t}function _E(e){const t={},n=l(e,["mediaResolution"]);n!=null&&a(t,["mediaResolution"],n);const o=l(e,["codeExecutionResult"]);o!=null&&a(t,["codeExecutionResult"],o);const r=l(e,["executableCode"]);r!=null&&a(t,["executableCode"],r);const i=l(e,["fileData"]);i!=null&&a(t,["fileData"],uE(i));const s=l(e,["functionCall"]);s!=null&&a(t,["functionCall"],cE(s));const u=l(e,["functionResponse"]);u!=null&&a(t,["functionResponse"],u);const d=l(e,["inlineData"]);d!=null&&a(t,["inlineData"],jr(d));const c=l(e,["text"]);c!=null&&a(t,["text"],c);const f=l(e,["thought"]);f!=null&&a(t,["thought"],f);const p=l(e,["thoughtSignature"]);p!=null&&a(t,["thoughtSignature"],p);const h=l(e,["videoMetadata"]);return h!=null&&a(t,["videoMetadata"],h),t}function wE(e){const t={},n=l(e,["handle"]);if(n!=null&&a(t,["handle"],n),l(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function IE(e){const t={},n=l(e,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(p=>p)),a(t,["functionDeclarations"],f)}if(l(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=l(e,["googleSearchRetrieval"]);o!=null&&a(t,["googleSearchRetrieval"],o);const r=l(e,["computerUse"]);r!=null&&a(t,["computerUse"],r);const i=l(e,["fileSearch"]);i!=null&&a(t,["fileSearch"],i);const s=l(e,["codeExecution"]);if(s!=null&&a(t,["codeExecution"],s),l(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=l(e,["googleMaps"]);u!=null&&a(t,["googleMaps"],pE(u));const d=l(e,["googleSearch"]);d!=null&&a(t,["googleSearch"],hE(d));const c=l(e,["urlContext"]);return c!=null&&a(t,["urlContext"],c),t}function NE(e){const t={},n=l(e,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(h=>dE(h))),a(t,["functionDeclarations"],p)}const o=l(e,["retrieval"]);o!=null&&a(t,["retrieval"],o);const r=l(e,["googleSearchRetrieval"]);r!=null&&a(t,["googleSearchRetrieval"],r);const i=l(e,["computerUse"]);if(i!=null&&a(t,["computerUse"],i),l(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const s=l(e,["codeExecution"]);s!=null&&a(t,["codeExecution"],s);const u=l(e,["enterpriseWebSearch"]);u!=null&&a(t,["enterpriseWebSearch"],u);const d=l(e,["googleMaps"]);d!=null&&a(t,["googleMaps"],d);const c=l(e,["googleSearch"]);c!=null&&a(t,["googleSearch"],c);const f=l(e,["urlContext"]);return f!=null&&a(t,["urlContext"],f),t}function AE(e){const t={},n=l(e,["promptTokenCount"]);n!=null&&a(t,["promptTokenCount"],n);const o=l(e,["cachedContentTokenCount"]);o!=null&&a(t,["cachedContentTokenCount"],o);const r=l(e,["candidatesTokenCount"]);r!=null&&a(t,["responseTokenCount"],r);const i=l(e,["toolUsePromptTokenCount"]);i!=null&&a(t,["toolUsePromptTokenCount"],i);const s=l(e,["thoughtsTokenCount"]);s!=null&&a(t,["thoughtsTokenCount"],s);const u=l(e,["totalTokenCount"]);u!=null&&a(t,["totalTokenCount"],u);const d=l(e,["promptTokensDetails"]);if(d!=null){let g=d;Array.isArray(g)&&(g=g.map(y=>y)),a(t,["promptTokensDetails"],g)}const c=l(e,["cacheTokensDetails"]);if(c!=null){let g=c;Array.isArray(g)&&(g=g.map(y=>y)),a(t,["cacheTokensDetails"],g)}const f=l(e,["candidatesTokensDetails"]);if(f!=null){let g=f;Array.isArray(g)&&(g=g.map(y=>y)),a(t,["responseTokensDetails"],g)}const p=l(e,["toolUsePromptTokensDetails"]);if(p!=null){let g=p;Array.isArray(g)&&(g=g.map(y=>y)),a(t,["toolUsePromptTokensDetails"],g)}const h=l(e,["trafficType"]);return h!=null&&a(t,["trafficType"],h),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function RE(e){const t={},n=l(e,["data"]);if(n!=null&&a(t,["data"],n),l(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=l(e,["mimeType"]);return o!=null&&a(t,["mimeType"],o),t}function kE(e){const t={},n=l(e,["content"]);n!=null&&a(t,["content"],n);const o=l(e,["citationMetadata"]);o!=null&&a(t,["citationMetadata"],PE(o));const r=l(e,["tokenCount"]);r!=null&&a(t,["tokenCount"],r);const i=l(e,["finishReason"]);i!=null&&a(t,["finishReason"],i);const s=l(e,["avgLogprobs"]);s!=null&&a(t,["avgLogprobs"],s);const u=l(e,["groundingMetadata"]);u!=null&&a(t,["groundingMetadata"],u);const d=l(e,["index"]);d!=null&&a(t,["index"],d);const c=l(e,["logprobsResult"]);c!=null&&a(t,["logprobsResult"],c);const f=l(e,["safetyRatings"]);if(f!=null){let h=f;Array.isArray(h)&&(h=h.map(g=>g)),a(t,["safetyRatings"],h)}const p=l(e,["urlContextMetadata"]);return p!=null&&a(t,["urlContextMetadata"],p),t}function PE(e){const t={},n=l(e,["citationSources"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>r)),a(t,["citations"],o)}return t}function ME(e,t){const n={},o=l(t,["model"]);o!=null&&a(n,["_url","model"],Q(e,o));const r=l(t,["contents"]);if(r!=null){let i=tt(r);Array.isArray(i)&&(i=i.map(s=>s)),a(n,["contents"],i)}return n}function DE(e){const t={},n=l(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=l(e,["tokensInfo"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(i=>i)),a(t,["tokensInfo"],r)}return t}function LE(e){const t={},n=l(e,["values"]);n!=null&&a(t,["values"],n);const o=l(e,["statistics"]);return o!=null&&a(t,["statistics"],UE(o)),t}function UE(e){const t={},n=l(e,["truncated"]);n!=null&&a(t,["truncated"],n);const o=l(e,["token_count"]);return o!=null&&a(t,["tokenCount"],o),t}function is(e){const t={},n=l(e,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>OT(i))),a(t,["parts"],r)}const o=l(e,["role"]);return o!=null&&a(t,["role"],o),t}function FE(e){const t={},n=l(e,["controlType"]);n!=null&&a(t,["controlType"],n);const o=l(e,["enableControlImageComputation"]);return o!=null&&a(t,["computeControl"],o),t}function bE(e){const t={};if(l(e,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(l(e,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(l(e,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return t}function VE(e,t){const n={},o=l(e,["systemInstruction"]);t!==void 0&&o!=null&&a(t,["systemInstruction"],we(o));const r=l(e,["tools"]);if(t!==void 0&&r!=null){let s=r;Array.isArray(s)&&(s=s.map(u=>mm(u))),a(t,["tools"],s)}const i=l(e,["generationConfig"]);return t!==void 0&&i!=null&&a(t,["generationConfig"],RT(i)),n}function GE(e,t){const n={},o=l(t,["model"]);o!=null&&a(n,["_url","model"],Q(e,o));const r=l(t,["contents"]);if(r!=null){let s=tt(r);Array.isArray(s)&&(s=s.map(u=>is(u))),a(n,["contents"],s)}const i=l(t,["config"]);return i!=null&&bE(i),n}function HE(e,t){const n={},o=l(t,["model"]);o!=null&&a(n,["_url","model"],Q(e,o));const r=l(t,["contents"]);if(r!=null){let s=tt(r);Array.isArray(s)&&(s=s.map(u=>u)),a(n,["contents"],s)}const i=l(t,["config"]);return i!=null&&VE(i,n),n}function BE(e){const t={},n=l(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=l(e,["totalTokens"]);o!=null&&a(t,["totalTokens"],o);const r=l(e,["cachedContentTokenCount"]);return r!=null&&a(t,["cachedContentTokenCount"],r),t}function zE(e){const t={},n=l(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=l(e,["totalTokens"]);return o!=null&&a(t,["totalTokens"],o),t}function qE(e,t){const n={},o=l(t,["model"]);return o!=null&&a(n,["_url","name"],Q(e,o)),n}function OE(e,t){const n={},o=l(t,["model"]);return o!=null&&a(n,["_url","name"],Q(e,o)),n}function $E(e){const t={},n=l(e,["sdkHttpResponse"]);return n!=null&&a(t,["sdkHttpResponse"],n),t}function JE(e){const t={},n=l(e,["sdkHttpResponse"]);return n!=null&&a(t,["sdkHttpResponse"],n),t}function WE(e,t){const n={},o=l(e,["outputGcsUri"]);t!==void 0&&o!=null&&a(t,["parameters","storageUri"],o);const r=l(e,["negativePrompt"]);t!==void 0&&r!=null&&a(t,["parameters","negativePrompt"],r);const i=l(e,["numberOfImages"]);t!==void 0&&i!=null&&a(t,["parameters","sampleCount"],i);const s=l(e,["aspectRatio"]);t!==void 0&&s!=null&&a(t,["parameters","aspectRatio"],s);const u=l(e,["guidanceScale"]);t!==void 0&&u!=null&&a(t,["parameters","guidanceScale"],u);const d=l(e,["seed"]);t!==void 0&&d!=null&&a(t,["parameters","seed"],d);const c=l(e,["safetyFilterLevel"]);t!==void 0&&c!=null&&a(t,["parameters","safetySetting"],c);const f=l(e,["personGeneration"]);t!==void 0&&f!=null&&a(t,["parameters","personGeneration"],f);const p=l(e,["includeSafetyAttributes"]);t!==void 0&&p!=null&&a(t,["parameters","includeSafetyAttributes"],p);const h=l(e,["includeRaiReason"]);t!==void 0&&h!=null&&a(t,["parameters","includeRaiReason"],h);const g=l(e,["language"]);t!==void 0&&g!=null&&a(t,["parameters","language"],g);const y=l(e,["outputMimeType"]);t!==void 0&&y!=null&&a(t,["parameters","outputOptions","mimeType"],y);const T=l(e,["outputCompressionQuality"]);t!==void 0&&T!=null&&a(t,["parameters","outputOptions","compressionQuality"],T);const x=l(e,["addWatermark"]);t!==void 0&&x!=null&&a(t,["parameters","addWatermark"],x);const v=l(e,["labels"]);t!==void 0&&v!=null&&a(t,["labels"],v);const S=l(e,["editMode"]);t!==void 0&&S!=null&&a(t,["parameters","editMode"],S);const E=l(e,["baseSteps"]);return t!==void 0&&E!=null&&a(t,["parameters","editConfig","baseSteps"],E),n}function KE(e,t){const n={},o=l(t,["model"]);o!=null&&a(n,["_url","model"],Q(e,o));const r=l(t,["prompt"]);r!=null&&a(n,["instances[0]","prompt"],r);const i=l(t,["referenceImages"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(d=>QT(d))),a(n,["instances[0]","referenceImages"],u)}const s=l(t,["config"]);return s!=null&&WE(s,n),n}function YE(e){const t={},n=l(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=l(e,["predictions"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(i=>ss(i))),a(t,["generatedImages"],r)}return t}function QE(e,t){const n={},o=l(e,["taskType"]);t!==void 0&&o!=null&&a(t,["requests[]","taskType"],o);const r=l(e,["title"]);t!==void 0&&r!=null&&a(t,["requests[]","title"],r);const i=l(e,["outputDimensionality"]);if(t!==void 0&&i!=null&&a(t,["requests[]","outputDimensionality"],i),l(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(l(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function XE(e,t){const n={},o=l(e,["taskType"]);t!==void 0&&o!=null&&a(t,["instances[]","task_type"],o);const r=l(e,["title"]);t!==void 0&&r!=null&&a(t,["instances[]","title"],r);const i=l(e,["outputDimensionality"]);t!==void 0&&i!=null&&a(t,["parameters","outputDimensionality"],i);const s=l(e,["mimeType"]);t!==void 0&&s!=null&&a(t,["instances[]","mimeType"],s);const u=l(e,["autoTruncate"]);return t!==void 0&&u!=null&&a(t,["parameters","autoTruncate"],u),n}function ZE(e,t){const n={},o=l(t,["model"]);o!=null&&a(n,["_url","model"],Q(e,o));const r=l(t,["contents"]);if(r!=null){let u=ru(e,r);Array.isArray(u)&&(u=u.map(d=>d)),a(n,["requests[]","content"],u)}const i=l(t,["config"]);i!=null&&QE(i,n);const s=l(t,["model"]);return s!==void 0&&a(n,["requests[]","model"],Q(e,s)),n}function jE(e,t){const n={},o=l(t,["model"]);o!=null&&a(n,["_url","model"],Q(e,o));const r=l(t,["contents"]);if(r!=null){let s=ru(e,r);Array.isArray(s)&&(s=s.map(u=>u)),a(n,["instances[]","content"],s)}const i=l(t,["config"]);return i!=null&&XE(i,n),n}function eT(e){const t={},n=l(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=l(e,["embeddings"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(s=>s)),a(t,["embeddings"],i)}const r=l(e,["metadata"]);return r!=null&&a(t,["metadata"],r),t}function tT(e){const t={},n=l(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=l(e,["predictions[]","embeddings"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(s=>LE(s))),a(t,["embeddings"],i)}const r=l(e,["metadata"]);return r!=null&&a(t,["metadata"],r),t}function nT(e){const t={},n=l(e,["endpoint"]);n!=null&&a(t,["name"],n);const o=l(e,["deployedModelId"]);return o!=null&&a(t,["deployedModelId"],o),t}function oT(e){const t={};if(l(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=l(e,["fileUri"]);n!=null&&a(t,["fileUri"],n);const o=l(e,["mimeType"]);return o!=null&&a(t,["mimeType"],o),t}function rT(e){const t={},n=l(e,["id"]);n!=null&&a(t,["id"],n);const o=l(e,["args"]);o!=null&&a(t,["args"],o);const r=l(e,["name"]);if(r!=null&&a(t,["name"],r),l(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(l(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function iT(e){const t={},n=l(e,["mode"]);n!=null&&a(t,["mode"],n);const o=l(e,["allowedFunctionNames"]);if(o!=null&&a(t,["allowedFunctionNames"],o),l(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function sT(e){const t={};if(l(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=l(e,["description"]);n!=null&&a(t,["description"],n);const o=l(e,["name"]);o!=null&&a(t,["name"],o);const r=l(e,["parameters"]);r!=null&&a(t,["parameters"],r);const i=l(e,["parametersJsonSchema"]);i!=null&&a(t,["parametersJsonSchema"],i);const s=l(e,["response"]);s!=null&&a(t,["response"],s);const u=l(e,["responseJsonSchema"]);return u!=null&&a(t,["responseJsonSchema"],u),t}function lT(e,t,n){const o={},r=l(t,["systemInstruction"]);n!==void 0&&r!=null&&a(n,["systemInstruction"],is(we(r)));const i=l(t,["temperature"]);i!=null&&a(o,["temperature"],i);const s=l(t,["topP"]);s!=null&&a(o,["topP"],s);const u=l(t,["topK"]);u!=null&&a(o,["topK"],u);const d=l(t,["candidateCount"]);d!=null&&a(o,["candidateCount"],d);const c=l(t,["maxOutputTokens"]);c!=null&&a(o,["maxOutputTokens"],c);const f=l(t,["stopSequences"]);f!=null&&a(o,["stopSequences"],f);const p=l(t,["responseLogprobs"]);p!=null&&a(o,["responseLogprobs"],p);const h=l(t,["logprobs"]);h!=null&&a(o,["logprobs"],h);const g=l(t,["presencePenalty"]);g!=null&&a(o,["presencePenalty"],g);const y=l(t,["frequencyPenalty"]);y!=null&&a(o,["frequencyPenalty"],y);const T=l(t,["seed"]);T!=null&&a(o,["seed"],T);const x=l(t,["responseMimeType"]);x!=null&&a(o,["responseMimeType"],x);const v=l(t,["responseSchema"]);v!=null&&a(o,["responseSchema"],iu(v));const S=l(t,["responseJsonSchema"]);if(S!=null&&a(o,["responseJsonSchema"],S),l(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(l(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const E=l(t,["safetySettings"]);if(n!==void 0&&E!=null){let H=E;Array.isArray(H)&&(H=H.map(ee=>XT(ee))),a(n,["safetySettings"],H)}const C=l(t,["tools"]);if(n!==void 0&&C!=null){let H=co(C);Array.isArray(H)&&(H=H.map(ee=>rC(uo(ee)))),a(n,["tools"],H)}const w=l(t,["toolConfig"]);if(n!==void 0&&w!=null&&a(n,["toolConfig"],oC(w)),l(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const N=l(t,["cachedContent"]);n!==void 0&&N!=null&&a(n,["cachedContent"],Gt(e,N));const I=l(t,["responseModalities"]);I!=null&&a(o,["responseModalities"],I);const P=l(t,["mediaResolution"]);P!=null&&a(o,["mediaResolution"],P);const M=l(t,["speechConfig"]);if(M!=null&&a(o,["speechConfig"],su(M)),l(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const k=l(t,["thinkingConfig"]);k!=null&&a(o,["thinkingConfig"],k);const A=l(t,["imageConfig"]);A!=null&&a(o,["imageConfig"],LT(A));const O=l(t,["enableEnhancedCivicAnswers"]);return O!=null&&a(o,["enableEnhancedCivicAnswers"],O),o}function aT(e,t,n){const o={},r=l(t,["systemInstruction"]);n!==void 0&&r!=null&&a(n,["systemInstruction"],we(r));const i=l(t,["temperature"]);i!=null&&a(o,["temperature"],i);const s=l(t,["topP"]);s!=null&&a(o,["topP"],s);const u=l(t,["topK"]);u!=null&&a(o,["topK"],u);const d=l(t,["candidateCount"]);d!=null&&a(o,["candidateCount"],d);const c=l(t,["maxOutputTokens"]);c!=null&&a(o,["maxOutputTokens"],c);const f=l(t,["stopSequences"]);f!=null&&a(o,["stopSequences"],f);const p=l(t,["responseLogprobs"]);p!=null&&a(o,["responseLogprobs"],p);const h=l(t,["logprobs"]);h!=null&&a(o,["logprobs"],h);const g=l(t,["presencePenalty"]);g!=null&&a(o,["presencePenalty"],g);const y=l(t,["frequencyPenalty"]);y!=null&&a(o,["frequencyPenalty"],y);const T=l(t,["seed"]);T!=null&&a(o,["seed"],T);const x=l(t,["responseMimeType"]);x!=null&&a(o,["responseMimeType"],x);const v=l(t,["responseSchema"]);v!=null&&a(o,["responseSchema"],iu(v));const S=l(t,["responseJsonSchema"]);S!=null&&a(o,["responseJsonSchema"],S);const E=l(t,["routingConfig"]);E!=null&&a(o,["routingConfig"],E);const C=l(t,["modelSelectionConfig"]);C!=null&&a(o,["modelConfig"],C);const w=l(t,["safetySettings"]);if(n!==void 0&&w!=null){let X=w;Array.isArray(X)&&(X=X.map(ze=>ze)),a(n,["safetySettings"],X)}const N=l(t,["tools"]);if(n!==void 0&&N!=null){let X=co(N);Array.isArray(X)&&(X=X.map(ze=>mm(uo(ze)))),a(n,["tools"],X)}const I=l(t,["toolConfig"]);n!==void 0&&I!=null&&a(n,["toolConfig"],I);const P=l(t,["labels"]);n!==void 0&&P!=null&&a(n,["labels"],P);const M=l(t,["cachedContent"]);n!==void 0&&M!=null&&a(n,["cachedContent"],Gt(e,M));const k=l(t,["responseModalities"]);k!=null&&a(o,["responseModalities"],k);const A=l(t,["mediaResolution"]);A!=null&&a(o,["mediaResolution"],A);const O=l(t,["speechConfig"]);O!=null&&a(o,["speechConfig"],su(O));const H=l(t,["audioTimestamp"]);H!=null&&a(o,["audioTimestamp"],H);const ee=l(t,["thinkingConfig"]);ee!=null&&a(o,["thinkingConfig"],ee);const Ne=l(t,["imageConfig"]);if(Ne!=null&&a(o,["imageConfig"],UT(Ne)),l(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return o}function Zd(e,t){const n={},o=l(t,["model"]);o!=null&&a(n,["_url","model"],Q(e,o));const r=l(t,["contents"]);if(r!=null){let s=tt(r);Array.isArray(s)&&(s=s.map(u=>is(u))),a(n,["contents"],s)}const i=l(t,["config"]);return i!=null&&a(n,["generationConfig"],lT(e,i,n)),n}function jd(e,t){const n={},o=l(t,["model"]);o!=null&&a(n,["_url","model"],Q(e,o));const r=l(t,["contents"]);if(r!=null){let s=tt(r);Array.isArray(s)&&(s=s.map(u=>u)),a(n,["contents"],s)}const i=l(t,["config"]);return i!=null&&a(n,["generationConfig"],aT(e,i,n)),n}function ef(e){const t={},n=l(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=l(e,["candidates"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(c=>kE(c))),a(t,["candidates"],d)}const r=l(e,["modelVersion"]);r!=null&&a(t,["modelVersion"],r);const i=l(e,["promptFeedback"]);i!=null&&a(t,["promptFeedback"],i);const s=l(e,["responseId"]);s!=null&&a(t,["responseId"],s);const u=l(e,["usageMetadata"]);return u!=null&&a(t,["usageMetadata"],u),t}function tf(e){const t={},n=l(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=l(e,["candidates"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(f=>f)),a(t,["candidates"],c)}const r=l(e,["createTime"]);r!=null&&a(t,["createTime"],r);const i=l(e,["modelVersion"]);i!=null&&a(t,["modelVersion"],i);const s=l(e,["promptFeedback"]);s!=null&&a(t,["promptFeedback"],s);const u=l(e,["responseId"]);u!=null&&a(t,["responseId"],u);const d=l(e,["usageMetadata"]);return d!=null&&a(t,["usageMetadata"],d),t}function uT(e,t){const n={};if(l(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(l(e,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const o=l(e,["numberOfImages"]);t!==void 0&&o!=null&&a(t,["parameters","sampleCount"],o);const r=l(e,["aspectRatio"]);t!==void 0&&r!=null&&a(t,["parameters","aspectRatio"],r);const i=l(e,["guidanceScale"]);if(t!==void 0&&i!=null&&a(t,["parameters","guidanceScale"],i),l(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const s=l(e,["safetyFilterLevel"]);t!==void 0&&s!=null&&a(t,["parameters","safetySetting"],s);const u=l(e,["personGeneration"]);t!==void 0&&u!=null&&a(t,["parameters","personGeneration"],u);const d=l(e,["includeSafetyAttributes"]);t!==void 0&&d!=null&&a(t,["parameters","includeSafetyAttributes"],d);const c=l(e,["includeRaiReason"]);t!==void 0&&c!=null&&a(t,["parameters","includeRaiReason"],c);const f=l(e,["language"]);t!==void 0&&f!=null&&a(t,["parameters","language"],f);const p=l(e,["outputMimeType"]);t!==void 0&&p!=null&&a(t,["parameters","outputOptions","mimeType"],p);const h=l(e,["outputCompressionQuality"]);if(t!==void 0&&h!=null&&a(t,["parameters","outputOptions","compressionQuality"],h),l(e,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(l(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const g=l(e,["imageSize"]);if(t!==void 0&&g!=null&&a(t,["parameters","sampleImageSize"],g),l(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function cT(e,t){const n={},o=l(e,["outputGcsUri"]);t!==void 0&&o!=null&&a(t,["parameters","storageUri"],o);const r=l(e,["negativePrompt"]);t!==void 0&&r!=null&&a(t,["parameters","negativePrompt"],r);const i=l(e,["numberOfImages"]);t!==void 0&&i!=null&&a(t,["parameters","sampleCount"],i);const s=l(e,["aspectRatio"]);t!==void 0&&s!=null&&a(t,["parameters","aspectRatio"],s);const u=l(e,["guidanceScale"]);t!==void 0&&u!=null&&a(t,["parameters","guidanceScale"],u);const d=l(e,["seed"]);t!==void 0&&d!=null&&a(t,["parameters","seed"],d);const c=l(e,["safetyFilterLevel"]);t!==void 0&&c!=null&&a(t,["parameters","safetySetting"],c);const f=l(e,["personGeneration"]);t!==void 0&&f!=null&&a(t,["parameters","personGeneration"],f);const p=l(e,["includeSafetyAttributes"]);t!==void 0&&p!=null&&a(t,["parameters","includeSafetyAttributes"],p);const h=l(e,["includeRaiReason"]);t!==void 0&&h!=null&&a(t,["parameters","includeRaiReason"],h);const g=l(e,["language"]);t!==void 0&&g!=null&&a(t,["parameters","language"],g);const y=l(e,["outputMimeType"]);t!==void 0&&y!=null&&a(t,["parameters","outputOptions","mimeType"],y);const T=l(e,["outputCompressionQuality"]);t!==void 0&&T!=null&&a(t,["parameters","outputOptions","compressionQuality"],T);const x=l(e,["addWatermark"]);t!==void 0&&x!=null&&a(t,["parameters","addWatermark"],x);const v=l(e,["labels"]);t!==void 0&&v!=null&&a(t,["labels"],v);const S=l(e,["imageSize"]);t!==void 0&&S!=null&&a(t,["parameters","sampleImageSize"],S);const E=l(e,["enhancePrompt"]);return t!==void 0&&E!=null&&a(t,["parameters","enhancePrompt"],E),n}function dT(e,t){const n={},o=l(t,["model"]);o!=null&&a(n,["_url","model"],Q(e,o));const r=l(t,["prompt"]);r!=null&&a(n,["instances[0]","prompt"],r);const i=l(t,["config"]);return i!=null&&uT(i,n),n}function fT(e,t){const n={},o=l(t,["model"]);o!=null&&a(n,["_url","model"],Q(e,o));const r=l(t,["prompt"]);r!=null&&a(n,["instances[0]","prompt"],r);const i=l(t,["config"]);return i!=null&&cT(i,n),n}function pT(e){const t={},n=l(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=l(e,["predictions"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(s=>wT(s))),a(t,["generatedImages"],i)}const r=l(e,["positivePromptSafetyAttributes"]);return r!=null&&a(t,["positivePromptSafetyAttributes"],pm(r)),t}function hT(e){const t={},n=l(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=l(e,["predictions"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(s=>ss(s))),a(t,["generatedImages"],i)}const r=l(e,["positivePromptSafetyAttributes"]);return r!=null&&a(t,["positivePromptSafetyAttributes"],hm(r)),t}function mT(e,t){const n={},o=l(e,["numberOfVideos"]);if(t!==void 0&&o!=null&&a(t,["parameters","sampleCount"],o),l(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(l(e,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const r=l(e,["durationSeconds"]);if(t!==void 0&&r!=null&&a(t,["parameters","durationSeconds"],r),l(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const i=l(e,["aspectRatio"]);t!==void 0&&i!=null&&a(t,["parameters","aspectRatio"],i);const s=l(e,["resolution"]);t!==void 0&&s!=null&&a(t,["parameters","resolution"],s);const u=l(e,["personGeneration"]);if(t!==void 0&&u!=null&&a(t,["parameters","personGeneration"],u),l(e,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const d=l(e,["negativePrompt"]);t!==void 0&&d!=null&&a(t,["parameters","negativePrompt"],d);const c=l(e,["enhancePrompt"]);if(t!==void 0&&c!=null&&a(t,["parameters","enhancePrompt"],c),l(e,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const f=l(e,["lastFrame"]);t!==void 0&&f!=null&&a(t,["instances[0]","lastFrame"],ls(f));const p=l(e,["referenceImages"]);if(t!==void 0&&p!=null){let h=p;Array.isArray(h)&&(h=h.map(g=>yC(g))),a(t,["instances[0]","referenceImages"],h)}if(l(e,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(l(e,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function gT(e,t){const n={},o=l(e,["numberOfVideos"]);t!==void 0&&o!=null&&a(t,["parameters","sampleCount"],o);const r=l(e,["outputGcsUri"]);t!==void 0&&r!=null&&a(t,["parameters","storageUri"],r);const i=l(e,["fps"]);t!==void 0&&i!=null&&a(t,["parameters","fps"],i);const s=l(e,["durationSeconds"]);t!==void 0&&s!=null&&a(t,["parameters","durationSeconds"],s);const u=l(e,["seed"]);t!==void 0&&u!=null&&a(t,["parameters","seed"],u);const d=l(e,["aspectRatio"]);t!==void 0&&d!=null&&a(t,["parameters","aspectRatio"],d);const c=l(e,["resolution"]);t!==void 0&&c!=null&&a(t,["parameters","resolution"],c);const f=l(e,["personGeneration"]);t!==void 0&&f!=null&&a(t,["parameters","personGeneration"],f);const p=l(e,["pubsubTopic"]);t!==void 0&&p!=null&&a(t,["parameters","pubsubTopic"],p);const h=l(e,["negativePrompt"]);t!==void 0&&h!=null&&a(t,["parameters","negativePrompt"],h);const g=l(e,["enhancePrompt"]);t!==void 0&&g!=null&&a(t,["parameters","enhancePrompt"],g);const y=l(e,["generateAudio"]);t!==void 0&&y!=null&&a(t,["parameters","generateAudio"],y);const T=l(e,["lastFrame"]);t!==void 0&&T!=null&&a(t,["instances[0]","lastFrame"],gt(T));const x=l(e,["referenceImages"]);if(t!==void 0&&x!=null){let E=x;Array.isArray(E)&&(E=E.map(C=>vC(C))),a(t,["instances[0]","referenceImages"],E)}const v=l(e,["mask"]);t!==void 0&&v!=null&&a(t,["instances[0]","mask"],gC(v));const S=l(e,["compressionQuality"]);return t!==void 0&&S!=null&&a(t,["parameters","compressionQuality"],S),n}function yT(e){const t={},n=l(e,["name"]);n!=null&&a(t,["name"],n);const o=l(e,["metadata"]);o!=null&&a(t,["metadata"],o);const r=l(e,["done"]);r!=null&&a(t,["done"],r);const i=l(e,["error"]);i!=null&&a(t,["error"],i);const s=l(e,["response","generateVideoResponse"]);return s!=null&&a(t,["response"],ET(s)),t}function vT(e){const t={},n=l(e,["name"]);n!=null&&a(t,["name"],n);const o=l(e,["metadata"]);o!=null&&a(t,["metadata"],o);const r=l(e,["done"]);r!=null&&a(t,["done"],r);const i=l(e,["error"]);i!=null&&a(t,["error"],i);const s=l(e,["response"]);return s!=null&&a(t,["response"],TT(s)),t}function xT(e,t){const n={},o=l(t,["model"]);o!=null&&a(n,["_url","model"],Q(e,o));const r=l(t,["prompt"]);r!=null&&a(n,["instances[0]","prompt"],r);const i=l(t,["image"]);i!=null&&a(n,["instances[0]","image"],ls(i));const s=l(t,["video"]);s!=null&&a(n,["instances[0]","video"],gm(s));const u=l(t,["source"]);u!=null&&CT(u,n);const d=l(t,["config"]);return d!=null&&mT(d,n),n}function ST(e,t){const n={},o=l(t,["model"]);o!=null&&a(n,["_url","model"],Q(e,o));const r=l(t,["prompt"]);r!=null&&a(n,["instances[0]","prompt"],r);const i=l(t,["image"]);i!=null&&a(n,["instances[0]","image"],gt(i));const s=l(t,["video"]);s!=null&&a(n,["instances[0]","video"],ym(s));const u=l(t,["source"]);u!=null&&_T(u,n);const d=l(t,["config"]);return d!=null&&gT(d,n),n}function ET(e){const t={},n=l(e,["generatedSamples"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>NT(s))),a(t,["generatedVideos"],i)}const o=l(e,["raiMediaFilteredCount"]);o!=null&&a(t,["raiMediaFilteredCount"],o);const r=l(e,["raiMediaFilteredReasons"]);return r!=null&&a(t,["raiMediaFilteredReasons"],r),t}function TT(e){const t={},n=l(e,["videos"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>AT(s))),a(t,["generatedVideos"],i)}const o=l(e,["raiMediaFilteredCount"]);o!=null&&a(t,["raiMediaFilteredCount"],o);const r=l(e,["raiMediaFilteredReasons"]);return r!=null&&a(t,["raiMediaFilteredReasons"],r),t}function CT(e,t){const n={},o=l(e,["prompt"]);t!==void 0&&o!=null&&a(t,["instances[0]","prompt"],o);const r=l(e,["image"]);t!==void 0&&r!=null&&a(t,["instances[0]","image"],ls(r));const i=l(e,["video"]);return t!==void 0&&i!=null&&a(t,["instances[0]","video"],gm(i)),n}function _T(e,t){const n={},o=l(e,["prompt"]);t!==void 0&&o!=null&&a(t,["instances[0]","prompt"],o);const r=l(e,["image"]);t!==void 0&&r!=null&&a(t,["instances[0]","image"],gt(r));const i=l(e,["video"]);return t!==void 0&&i!=null&&a(t,["instances[0]","video"],ym(i)),n}function wT(e){const t={},n=l(e,["_self"]);n!=null&&a(t,["image"],FT(n));const o=l(e,["raiFilteredReason"]);o!=null&&a(t,["raiFilteredReason"],o);const r=l(e,["_self"]);return r!=null&&a(t,["safetyAttributes"],pm(r)),t}function ss(e){const t={},n=l(e,["_self"]);n!=null&&a(t,["image"],fm(n));const o=l(e,["raiFilteredReason"]);o!=null&&a(t,["raiFilteredReason"],o);const r=l(e,["_self"]);r!=null&&a(t,["safetyAttributes"],hm(r));const i=l(e,["prompt"]);return i!=null&&a(t,["enhancedPrompt"],i),t}function IT(e){const t={},n=l(e,["_self"]);n!=null&&a(t,["mask"],fm(n));const o=l(e,["labels"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(i=>i)),a(t,["labels"],r)}return t}function NT(e){const t={},n=l(e,["video"]);return n!=null&&a(t,["video"],hC(n)),t}function AT(e){const t={},n=l(e,["_self"]);return n!=null&&a(t,["video"],mC(n)),t}function RT(e){const t={},n=l(e,["modelSelectionConfig"]);n!=null&&a(t,["modelConfig"],n);const o=l(e,["responseJsonSchema"]);o!=null&&a(t,["responseJsonSchema"],o);const r=l(e,["audioTimestamp"]);r!=null&&a(t,["audioTimestamp"],r);const i=l(e,["candidateCount"]);i!=null&&a(t,["candidateCount"],i);const s=l(e,["enableAffectiveDialog"]);s!=null&&a(t,["enableAffectiveDialog"],s);const u=l(e,["frequencyPenalty"]);u!=null&&a(t,["frequencyPenalty"],u);const d=l(e,["logprobs"]);d!=null&&a(t,["logprobs"],d);const c=l(e,["maxOutputTokens"]);c!=null&&a(t,["maxOutputTokens"],c);const f=l(e,["mediaResolution"]);f!=null&&a(t,["mediaResolution"],f);const p=l(e,["presencePenalty"]);p!=null&&a(t,["presencePenalty"],p);const h=l(e,["responseLogprobs"]);h!=null&&a(t,["responseLogprobs"],h);const g=l(e,["responseMimeType"]);g!=null&&a(t,["responseMimeType"],g);const y=l(e,["responseModalities"]);y!=null&&a(t,["responseModalities"],y);const T=l(e,["responseSchema"]);T!=null&&a(t,["responseSchema"],T);const x=l(e,["routingConfig"]);x!=null&&a(t,["routingConfig"],x);const v=l(e,["seed"]);v!=null&&a(t,["seed"],v);const S=l(e,["speechConfig"]);S!=null&&a(t,["speechConfig"],S);const E=l(e,["stopSequences"]);E!=null&&a(t,["stopSequences"],E);const C=l(e,["temperature"]);C!=null&&a(t,["temperature"],C);const w=l(e,["thinkingConfig"]);w!=null&&a(t,["thinkingConfig"],w);const N=l(e,["topK"]);N!=null&&a(t,["topK"],N);const I=l(e,["topP"]);if(I!=null&&a(t,["topP"],I),l(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function kT(e,t){const n={},o=l(t,["model"]);return o!=null&&a(n,["_url","name"],Q(e,o)),n}function PT(e,t){const n={},o=l(t,["model"]);return o!=null&&a(n,["_url","name"],Q(e,o)),n}function MT(e){const t={};if(l(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=l(e,["enableWidget"]);return n!=null&&a(t,["enableWidget"],n),t}function DT(e){const t={};if(l(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(l(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=l(e,["timeRangeFilter"]);return n!=null&&a(t,["timeRangeFilter"],n),t}function LT(e){const t={},n=l(e,["aspectRatio"]);n!=null&&a(t,["aspectRatio"],n);const o=l(e,["imageSize"]);if(o!=null&&a(t,["imageSize"],o),l(e,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(l(e,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function UT(e){const t={},n=l(e,["aspectRatio"]);n!=null&&a(t,["aspectRatio"],n);const o=l(e,["imageSize"]);o!=null&&a(t,["imageSize"],o);const r=l(e,["outputMimeType"]);r!=null&&a(t,["imageOutputOptions","mimeType"],r);const i=l(e,["outputCompressionQuality"]);return i!=null&&a(t,["imageOutputOptions","compressionQuality"],i),t}function FT(e){const t={},n=l(e,["bytesBase64Encoded"]);n!=null&&a(t,["imageBytes"],ln(n));const o=l(e,["mimeType"]);return o!=null&&a(t,["mimeType"],o),t}function fm(e){const t={},n=l(e,["gcsUri"]);n!=null&&a(t,["gcsUri"],n);const o=l(e,["bytesBase64Encoded"]);o!=null&&a(t,["imageBytes"],ln(o));const r=l(e,["mimeType"]);return r!=null&&a(t,["mimeType"],r),t}function ls(e){const t={};if(l(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=l(e,["imageBytes"]);n!=null&&a(t,["bytesBase64Encoded"],ln(n));const o=l(e,["mimeType"]);return o!=null&&a(t,["mimeType"],o),t}function gt(e){const t={},n=l(e,["gcsUri"]);n!=null&&a(t,["gcsUri"],n);const o=l(e,["imageBytes"]);o!=null&&a(t,["bytesBase64Encoded"],ln(o));const r=l(e,["mimeType"]);return r!=null&&a(t,["mimeType"],r),t}function bT(e,t,n){const o={},r=l(t,["pageSize"]);n!==void 0&&r!=null&&a(n,["_query","pageSize"],r);const i=l(t,["pageToken"]);n!==void 0&&i!=null&&a(n,["_query","pageToken"],i);const s=l(t,["filter"]);n!==void 0&&s!=null&&a(n,["_query","filter"],s);const u=l(t,["queryBase"]);return n!==void 0&&u!=null&&a(n,["_url","models_url"],im(e,u)),o}function VT(e,t,n){const o={},r=l(t,["pageSize"]);n!==void 0&&r!=null&&a(n,["_query","pageSize"],r);const i=l(t,["pageToken"]);n!==void 0&&i!=null&&a(n,["_query","pageToken"],i);const s=l(t,["filter"]);n!==void 0&&s!=null&&a(n,["_query","filter"],s);const u=l(t,["queryBase"]);return n!==void 0&&u!=null&&a(n,["_url","models_url"],im(e,u)),o}function GT(e,t){const n={},o=l(t,["config"]);return o!=null&&bT(e,o,n),n}function HT(e,t){const n={},o=l(t,["config"]);return o!=null&&VT(e,o,n),n}function BT(e){const t={},n=l(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=l(e,["nextPageToken"]);o!=null&&a(t,["nextPageToken"],o);const r=l(e,["_self"]);if(r!=null){let i=sm(r);Array.isArray(i)&&(i=i.map(s=>Jl(s))),a(t,["models"],i)}return t}function zT(e){const t={},n=l(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=l(e,["nextPageToken"]);o!=null&&a(t,["nextPageToken"],o);const r=l(e,["_self"]);if(r!=null){let i=sm(r);Array.isArray(i)&&(i=i.map(s=>Wl(s))),a(t,["models"],i)}return t}function qT(e){const t={},n=l(e,["maskMode"]);n!=null&&a(t,["maskMode"],n);const o=l(e,["segmentationClasses"]);o!=null&&a(t,["maskClasses"],o);const r=l(e,["maskDilation"]);return r!=null&&a(t,["dilation"],r),t}function Jl(e){const t={},n=l(e,["name"]);n!=null&&a(t,["name"],n);const o=l(e,["displayName"]);o!=null&&a(t,["displayName"],o);const r=l(e,["description"]);r!=null&&a(t,["description"],r);const i=l(e,["version"]);i!=null&&a(t,["version"],i);const s=l(e,["_self"]);s!=null&&a(t,["tunedModelInfo"],iC(s));const u=l(e,["inputTokenLimit"]);u!=null&&a(t,["inputTokenLimit"],u);const d=l(e,["outputTokenLimit"]);d!=null&&a(t,["outputTokenLimit"],d);const c=l(e,["supportedGenerationMethods"]);c!=null&&a(t,["supportedActions"],c);const f=l(e,["temperature"]);f!=null&&a(t,["temperature"],f);const p=l(e,["maxTemperature"]);p!=null&&a(t,["maxTemperature"],p);const h=l(e,["topP"]);h!=null&&a(t,["topP"],h);const g=l(e,["topK"]);g!=null&&a(t,["topK"],g);const y=l(e,["thinking"]);return y!=null&&a(t,["thinking"],y),t}function Wl(e){const t={},n=l(e,["name"]);n!=null&&a(t,["name"],n);const o=l(e,["displayName"]);o!=null&&a(t,["displayName"],o);const r=l(e,["description"]);r!=null&&a(t,["description"],r);const i=l(e,["versionId"]);i!=null&&a(t,["version"],i);const s=l(e,["deployedModels"]);if(s!=null){let p=s;Array.isArray(p)&&(p=p.map(h=>nT(h))),a(t,["endpoints"],p)}const u=l(e,["labels"]);u!=null&&a(t,["labels"],u);const d=l(e,["_self"]);d!=null&&a(t,["tunedModelInfo"],sC(d));const c=l(e,["defaultCheckpointId"]);c!=null&&a(t,["defaultCheckpointId"],c);const f=l(e,["checkpoints"]);if(f!=null){let p=f;Array.isArray(p)&&(p=p.map(h=>h)),a(t,["checkpoints"],p)}return t}function OT(e){const t={},n=l(e,["mediaResolution"]);n!=null&&a(t,["mediaResolution"],n);const o=l(e,["codeExecutionResult"]);o!=null&&a(t,["codeExecutionResult"],o);const r=l(e,["executableCode"]);r!=null&&a(t,["executableCode"],r);const i=l(e,["fileData"]);i!=null&&a(t,["fileData"],oT(i));const s=l(e,["functionCall"]);s!=null&&a(t,["functionCall"],rT(s));const u=l(e,["functionResponse"]);u!=null&&a(t,["functionResponse"],u);const d=l(e,["inlineData"]);d!=null&&a(t,["inlineData"],RE(d));const c=l(e,["text"]);c!=null&&a(t,["text"],c);const f=l(e,["thought"]);f!=null&&a(t,["thought"],f);const p=l(e,["thoughtSignature"]);p!=null&&a(t,["thoughtSignature"],p);const h=l(e,["videoMetadata"]);return h!=null&&a(t,["videoMetadata"],h),t}function $T(e){const t={},n=l(e,["productImage"]);return n!=null&&a(t,["image"],gt(n)),t}function JT(e,t){const n={},o=l(e,["numberOfImages"]);t!==void 0&&o!=null&&a(t,["parameters","sampleCount"],o);const r=l(e,["baseSteps"]);t!==void 0&&r!=null&&a(t,["parameters","baseSteps"],r);const i=l(e,["outputGcsUri"]);t!==void 0&&i!=null&&a(t,["parameters","storageUri"],i);const s=l(e,["seed"]);t!==void 0&&s!=null&&a(t,["parameters","seed"],s);const u=l(e,["safetyFilterLevel"]);t!==void 0&&u!=null&&a(t,["parameters","safetySetting"],u);const d=l(e,["personGeneration"]);t!==void 0&&d!=null&&a(t,["parameters","personGeneration"],d);const c=l(e,["addWatermark"]);t!==void 0&&c!=null&&a(t,["parameters","addWatermark"],c);const f=l(e,["outputMimeType"]);t!==void 0&&f!=null&&a(t,["parameters","outputOptions","mimeType"],f);const p=l(e,["outputCompressionQuality"]);t!==void 0&&p!=null&&a(t,["parameters","outputOptions","compressionQuality"],p);const h=l(e,["enhancePrompt"]);t!==void 0&&h!=null&&a(t,["parameters","enhancePrompt"],h);const g=l(e,["labels"]);return t!==void 0&&g!=null&&a(t,["labels"],g),n}function WT(e,t){const n={},o=l(t,["model"]);o!=null&&a(n,["_url","model"],Q(e,o));const r=l(t,["source"]);r!=null&&YT(r,n);const i=l(t,["config"]);return i!=null&&JT(i,n),n}function KT(e){const t={},n=l(e,["predictions"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>ss(r))),a(t,["generatedImages"],o)}return t}function YT(e,t){const n={},o=l(e,["prompt"]);t!==void 0&&o!=null&&a(t,["instances[0]","prompt"],o);const r=l(e,["personImage"]);t!==void 0&&r!=null&&a(t,["instances[0]","personImage","image"],gt(r));const i=l(e,["productImages"]);if(t!==void 0&&i!=null){let s=i;Array.isArray(s)&&(s=s.map(u=>$T(u))),a(t,["instances[0]","productImages"],s)}return n}function QT(e){const t={},n=l(e,["referenceImage"]);n!=null&&a(t,["referenceImage"],gt(n));const o=l(e,["referenceId"]);o!=null&&a(t,["referenceId"],o);const r=l(e,["referenceType"]);r!=null&&a(t,["referenceType"],r);const i=l(e,["maskImageConfig"]);i!=null&&a(t,["maskImageConfig"],qT(i));const s=l(e,["controlImageConfig"]);s!=null&&a(t,["controlImageConfig"],FE(s));const u=l(e,["styleImageConfig"]);u!=null&&a(t,["styleImageConfig"],u);const d=l(e,["subjectImageConfig"]);return d!=null&&a(t,["subjectImageConfig"],d),t}function pm(e){const t={},n=l(e,["safetyAttributes","categories"]);n!=null&&a(t,["categories"],n);const o=l(e,["safetyAttributes","scores"]);o!=null&&a(t,["scores"],o);const r=l(e,["contentType"]);return r!=null&&a(t,["contentType"],r),t}function hm(e){const t={},n=l(e,["safetyAttributes","categories"]);n!=null&&a(t,["categories"],n);const o=l(e,["safetyAttributes","scores"]);o!=null&&a(t,["scores"],o);const r=l(e,["contentType"]);return r!=null&&a(t,["contentType"],r),t}function XT(e){const t={},n=l(e,["category"]);if(n!=null&&a(t,["category"],n),l(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const o=l(e,["threshold"]);return o!=null&&a(t,["threshold"],o),t}function ZT(e){const t={},n=l(e,["image"]);return n!=null&&a(t,["image"],gt(n)),t}function jT(e,t){const n={},o=l(e,["mode"]);t!==void 0&&o!=null&&a(t,["parameters","mode"],o);const r=l(e,["maxPredictions"]);t!==void 0&&r!=null&&a(t,["parameters","maxPredictions"],r);const i=l(e,["confidenceThreshold"]);t!==void 0&&i!=null&&a(t,["parameters","confidenceThreshold"],i);const s=l(e,["maskDilation"]);t!==void 0&&s!=null&&a(t,["parameters","maskDilation"],s);const u=l(e,["binaryColorThreshold"]);t!==void 0&&u!=null&&a(t,["parameters","binaryColorThreshold"],u);const d=l(e,["labels"]);return t!==void 0&&d!=null&&a(t,["labels"],d),n}function eC(e,t){const n={},o=l(t,["model"]);o!=null&&a(n,["_url","model"],Q(e,o));const r=l(t,["source"]);r!=null&&nC(r,n);const i=l(t,["config"]);return i!=null&&jT(i,n),n}function tC(e){const t={},n=l(e,["predictions"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>IT(r))),a(t,["generatedMasks"],o)}return t}function nC(e,t){const n={},o=l(e,["prompt"]);t!==void 0&&o!=null&&a(t,["instances[0]","prompt"],o);const r=l(e,["image"]);t!==void 0&&r!=null&&a(t,["instances[0]","image"],gt(r));const i=l(e,["scribbleImage"]);return t!==void 0&&i!=null&&a(t,["instances[0]","scribble"],ZT(i)),n}function oC(e){const t={},n=l(e,["functionCallingConfig"]);n!=null&&a(t,["functionCallingConfig"],iT(n));const o=l(e,["retrievalConfig"]);return o!=null&&a(t,["retrievalConfig"],o),t}function rC(e){const t={},n=l(e,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(p=>p)),a(t,["functionDeclarations"],f)}if(l(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=l(e,["googleSearchRetrieval"]);o!=null&&a(t,["googleSearchRetrieval"],o);const r=l(e,["computerUse"]);r!=null&&a(t,["computerUse"],r);const i=l(e,["fileSearch"]);i!=null&&a(t,["fileSearch"],i);const s=l(e,["codeExecution"]);if(s!=null&&a(t,["codeExecution"],s),l(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=l(e,["googleMaps"]);u!=null&&a(t,["googleMaps"],MT(u));const d=l(e,["googleSearch"]);d!=null&&a(t,["googleSearch"],DT(d));const c=l(e,["urlContext"]);return c!=null&&a(t,["urlContext"],c),t}function mm(e){const t={},n=l(e,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(h=>sT(h))),a(t,["functionDeclarations"],p)}const o=l(e,["retrieval"]);o!=null&&a(t,["retrieval"],o);const r=l(e,["googleSearchRetrieval"]);r!=null&&a(t,["googleSearchRetrieval"],r);const i=l(e,["computerUse"]);if(i!=null&&a(t,["computerUse"],i),l(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const s=l(e,["codeExecution"]);s!=null&&a(t,["codeExecution"],s);const u=l(e,["enterpriseWebSearch"]);u!=null&&a(t,["enterpriseWebSearch"],u);const d=l(e,["googleMaps"]);d!=null&&a(t,["googleMaps"],d);const c=l(e,["googleSearch"]);c!=null&&a(t,["googleSearch"],c);const f=l(e,["urlContext"]);return f!=null&&a(t,["urlContext"],f),t}function iC(e){const t={},n=l(e,["baseModel"]);n!=null&&a(t,["baseModel"],n);const o=l(e,["createTime"]);o!=null&&a(t,["createTime"],o);const r=l(e,["updateTime"]);return r!=null&&a(t,["updateTime"],r),t}function sC(e){const t={},n=l(e,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&a(t,["baseModel"],n);const o=l(e,["createTime"]);o!=null&&a(t,["createTime"],o);const r=l(e,["updateTime"]);return r!=null&&a(t,["updateTime"],r),t}function lC(e,t){const n={},o=l(e,["displayName"]);t!==void 0&&o!=null&&a(t,["displayName"],o);const r=l(e,["description"]);t!==void 0&&r!=null&&a(t,["description"],r);const i=l(e,["defaultCheckpointId"]);return t!==void 0&&i!=null&&a(t,["defaultCheckpointId"],i),n}function aC(e,t){const n={},o=l(e,["displayName"]);t!==void 0&&o!=null&&a(t,["displayName"],o);const r=l(e,["description"]);t!==void 0&&r!=null&&a(t,["description"],r);const i=l(e,["defaultCheckpointId"]);return t!==void 0&&i!=null&&a(t,["defaultCheckpointId"],i),n}function uC(e,t){const n={},o=l(t,["model"]);o!=null&&a(n,["_url","name"],Q(e,o));const r=l(t,["config"]);return r!=null&&lC(r,n),n}function cC(e,t){const n={},o=l(t,["model"]);o!=null&&a(n,["_url","model"],Q(e,o));const r=l(t,["config"]);return r!=null&&aC(r,n),n}function dC(e,t){const n={},o=l(e,["outputGcsUri"]);t!==void 0&&o!=null&&a(t,["parameters","storageUri"],o);const r=l(e,["safetyFilterLevel"]);t!==void 0&&r!=null&&a(t,["parameters","safetySetting"],r);const i=l(e,["personGeneration"]);t!==void 0&&i!=null&&a(t,["parameters","personGeneration"],i);const s=l(e,["includeRaiReason"]);t!==void 0&&s!=null&&a(t,["parameters","includeRaiReason"],s);const u=l(e,["outputMimeType"]);t!==void 0&&u!=null&&a(t,["parameters","outputOptions","mimeType"],u);const d=l(e,["outputCompressionQuality"]);t!==void 0&&d!=null&&a(t,["parameters","outputOptions","compressionQuality"],d);const c=l(e,["enhanceInputImage"]);t!==void 0&&c!=null&&a(t,["parameters","upscaleConfig","enhanceInputImage"],c);const f=l(e,["imagePreservationFactor"]);t!==void 0&&f!=null&&a(t,["parameters","upscaleConfig","imagePreservationFactor"],f);const p=l(e,["labels"]);t!==void 0&&p!=null&&a(t,["labels"],p);const h=l(e,["numberOfImages"]);t!==void 0&&h!=null&&a(t,["parameters","sampleCount"],h);const g=l(e,["mode"]);return t!==void 0&&g!=null&&a(t,["parameters","mode"],g),n}function fC(e,t){const n={},o=l(t,["model"]);o!=null&&a(n,["_url","model"],Q(e,o));const r=l(t,["image"]);r!=null&&a(n,["instances[0]","image"],gt(r));const i=l(t,["upscaleFactor"]);i!=null&&a(n,["parameters","upscaleConfig","upscaleFactor"],i);const s=l(t,["config"]);return s!=null&&dC(s,n),n}function pC(e){const t={},n=l(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=l(e,["predictions"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(i=>ss(i))),a(t,["generatedImages"],r)}return t}function hC(e){const t={},n=l(e,["uri"]);n!=null&&a(t,["uri"],n);const o=l(e,["encodedVideo"]);o!=null&&a(t,["videoBytes"],ln(o));const r=l(e,["encoding"]);return r!=null&&a(t,["mimeType"],r),t}function mC(e){const t={},n=l(e,["gcsUri"]);n!=null&&a(t,["uri"],n);const o=l(e,["bytesBase64Encoded"]);o!=null&&a(t,["videoBytes"],ln(o));const r=l(e,["mimeType"]);return r!=null&&a(t,["mimeType"],r),t}function gC(e){const t={},n=l(e,["image"]);n!=null&&a(t,["_self"],gt(n));const o=l(e,["maskMode"]);return o!=null&&a(t,["maskMode"],o),t}function yC(e){const t={},n=l(e,["image"]);n!=null&&a(t,["image"],ls(n));const o=l(e,["referenceType"]);return o!=null&&a(t,["referenceType"],o),t}function vC(e){const t={},n=l(e,["image"]);n!=null&&a(t,["image"],gt(n));const o=l(e,["referenceType"]);return o!=null&&a(t,["referenceType"],o),t}function gm(e){const t={},n=l(e,["uri"]);n!=null&&a(t,["uri"],n);const o=l(e,["videoBytes"]);o!=null&&a(t,["encodedVideo"],ln(o));const r=l(e,["mimeType"]);return r!=null&&a(t,["encoding"],r),t}function ym(e){const t={},n=l(e,["uri"]);n!=null&&a(t,["gcsUri"],n);const o=l(e,["videoBytes"]);o!=null&&a(t,["bytesBase64Encoded"],ln(o));const r=l(e,["mimeType"]);return r!=null&&a(t,["mimeType"],r),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function xC(e,t){const n={},o=l(e,["displayName"]);return t!==void 0&&o!=null&&a(t,["displayName"],o),n}function SC(e){const t={},n=l(e,["config"]);return n!=null&&xC(n,t),t}function EC(e,t){const n={},o=l(e,["force"]);return t!==void 0&&o!=null&&a(t,["_query","force"],o),n}function TC(e){const t={},n=l(e,["name"]);n!=null&&a(t,["_url","name"],n);const o=l(e,["config"]);return o!=null&&EC(o,t),t}function CC(e){const t={},n=l(e,["name"]);return n!=null&&a(t,["_url","name"],n),t}function _C(e,t){const n={},o=l(e,["customMetadata"]);if(t!==void 0&&o!=null){let i=o;Array.isArray(i)&&(i=i.map(s=>s)),a(t,["customMetadata"],i)}const r=l(e,["chunkingConfig"]);return t!==void 0&&r!=null&&a(t,["chunkingConfig"],r),n}function wC(e){const t={},n=l(e,["name"]);n!=null&&a(t,["name"],n);const o=l(e,["metadata"]);o!=null&&a(t,["metadata"],o);const r=l(e,["done"]);r!=null&&a(t,["done"],r);const i=l(e,["error"]);i!=null&&a(t,["error"],i);const s=l(e,["response"]);return s!=null&&a(t,["response"],NC(s)),t}function IC(e){const t={},n=l(e,["fileSearchStoreName"]);n!=null&&a(t,["_url","file_search_store_name"],n);const o=l(e,["fileName"]);o!=null&&a(t,["fileName"],o);const r=l(e,["config"]);return r!=null&&_C(r,t),t}function NC(e){const t={},n=l(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=l(e,["parent"]);o!=null&&a(t,["parent"],o);const r=l(e,["documentName"]);return r!=null&&a(t,["documentName"],r),t}function AC(e,t){const n={},o=l(e,["pageSize"]);t!==void 0&&o!=null&&a(t,["_query","pageSize"],o);const r=l(e,["pageToken"]);return t!==void 0&&r!=null&&a(t,["_query","pageToken"],r),n}function RC(e){const t={},n=l(e,["config"]);return n!=null&&AC(n,t),t}function kC(e){const t={},n=l(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=l(e,["nextPageToken"]);o!=null&&a(t,["nextPageToken"],o);const r=l(e,["fileSearchStores"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>s)),a(t,["fileSearchStores"],i)}return t}function vm(e,t){const n={},o=l(e,["mimeType"]);t!==void 0&&o!=null&&a(t,["mimeType"],o);const r=l(e,["displayName"]);t!==void 0&&r!=null&&a(t,["displayName"],r);const i=l(e,["customMetadata"]);if(t!==void 0&&i!=null){let u=i;Array.isArray(u)&&(u=u.map(d=>d)),a(t,["customMetadata"],u)}const s=l(e,["chunkingConfig"]);return t!==void 0&&s!=null&&a(t,["chunkingConfig"],s),n}function PC(e){const t={},n=l(e,["fileSearchStoreName"]);n!=null&&a(t,["_url","file_search_store_name"],n);const o=l(e,["config"]);return o!=null&&vm(o,t),t}function MC(e){const t={},n=l(e,["sdkHttpResponse"]);return n!=null&&a(t,["sdkHttpResponse"],n),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const DC="Content-Type",LC="X-Server-Timeout",UC="User-Agent",Kl="x-goog-api-client",FC="1.34.0",bC=`google-genai-sdk/${FC}`,VC="v1beta1",GC="v1beta";class HC{constructor(t){var n,o;this.clientOptions=Object.assign(Object.assign({},t),{project:t.project,location:t.location,apiKey:t.apiKey,vertexai:t.vertexai});const r={};this.clientOptions.vertexai?(r.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:VC,r.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(r.apiVersion=(o=this.clientOptions.apiVersion)!==null&&o!==void 0?o:GC,r.baseUrl="https://generativelanguage.googleapis.com/"),r.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=r,t.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(r,t.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var t;return(t=this.clientOptions.vertexai)!==null&&t!==void 0?t:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}async getAuthHeaders(){const t=new Headers;return await this.clientOptions.auth.addAuthHeaders(t),t}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(t){if(!t||t.baseUrl===void 0||t.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const o=[t.baseUrl.endsWith("/")?t.baseUrl.slice(0,-1):t.baseUrl];return t.apiVersion&&t.apiVersion!==""&&o.push(t.apiVersion),o.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const t=this.getBaseUrl(),n=new URL(t);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(t){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=t;else throw new Error("HTTP options are not correctly set.")}constructUrl(t,n,o){const r=[this.getRequestUrlInternal(n)];return o&&r.push(this.getBaseResourcePath()),t!==""&&r.push(t),new URL(`${r.join("/")}`)}shouldPrependVertexProjectPath(t){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||t.path.startsWith("projects/")||t.httpMethod==="GET"&&t.path.startsWith("publishers/google/models"))}async request(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const o=this.shouldPrependVertexProjectPath(t),r=this.constructUrl(t.path,n,o);if(t.queryParams)for(const[s,u]of Object.entries(t.queryParams))r.searchParams.append(s,String(u));let i={};if(t.httpMethod==="GET"){if(t.body&&t.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else i.body=t.body;return i=await this.includeExtraHttpOptionsToRequestInit(i,n,r.toString(),t.abortSignal),this.unaryApiCall(r,i,t.httpMethod)}patchHttpOptions(t,n){const o=JSON.parse(JSON.stringify(t));for(const[r,i]of Object.entries(n))typeof i=="object"?o[r]=Object.assign(Object.assign({},o[r]),i):i!==void 0&&(o[r]=i);return o}async requestStream(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const o=this.shouldPrependVertexProjectPath(t),r=this.constructUrl(t.path,n,o);(!r.searchParams.has("alt")||r.searchParams.get("alt")!=="sse")&&r.searchParams.set("alt","sse");let i={};return i.body=t.body,i=await this.includeExtraHttpOptionsToRequestInit(i,n,r.toString(),t.abortSignal),this.streamApiCall(r,i,t.httpMethod)}async includeExtraHttpOptionsToRequestInit(t,n,o,r){if(n&&n.timeout||r){const i=new AbortController,s=i.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const u=setTimeout(()=>i.abort(),n.timeout);u&&typeof u.unref=="function"&&u.unref()}r&&r.addEventListener("abort",()=>{i.abort()}),t.signal=s}return n&&n.extraBody!==null&&BC(t,n.extraBody),t.headers=await this.getHeadersInternal(n,o),t}async unaryApiCall(t,n,o){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:o})).then(async r=>(await nf(r),new ql(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}async streamApiCall(t,n,o){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:o})).then(async r=>(await nf(r),this.processStreamResponse(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}processStreamResponse(t){return pt(this,arguments,function*(){var o;const r=(o=t==null?void 0:t.body)===null||o===void 0?void 0:o.getReader(),i=new TextDecoder("utf-8");if(!r)throw new Error("Response body is empty");try{let s="";const u="data:",d=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:c,value:f}=yield z(r.read());if(c){if(s.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const p=i.decode(f,{stream:!0});try{const y=JSON.parse(p);if("error"in y){const T=JSON.parse(JSON.stringify(y.error)),x=T.status,v=T.code,S=`got status: ${x}. ${JSON.stringify(y)}`;if(v>=400&&v<600)throw new rs({message:S,status:v})}}catch(y){if(y.name==="ApiError")throw y}s+=p;let h=-1,g=0;for(;;){h=-1,g=0;for(const x of d){const v=s.indexOf(x);v!==-1&&(h===-1||v<h)&&(h=v,g=x.length)}if(h===-1)break;const y=s.substring(0,h);s=s.substring(h+g);const T=y.trim();if(T.startsWith(u)){const x=T.substring(u.length).trim();try{const v=new Response(x,{headers:t==null?void 0:t.headers,status:t==null?void 0:t.status,statusText:t==null?void 0:t.statusText});yield yield z(new ql(v))}catch(v){throw new Error(`exception parsing stream chunk ${x}. ${v}`)}}}}}finally{r.releaseLock()}})}async apiCall(t,n){return fetch(t,n).catch(o=>{throw new Error(`exception ${o} sending request`)})}getDefaultHeaders(){const t={},n=bC+" "+this.clientOptions.userAgentExtra;return t[UC]=n,t[Kl]=n,t[DC]="application/json",t}async getHeadersInternal(t,n){const o=new Headers;if(t&&t.headers){for(const[r,i]of Object.entries(t.headers))o.append(r,i);t.timeout&&t.timeout>0&&o.append(LC,String(Math.ceil(t.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(o,n),o}getFileName(t){var n;let o="";return typeof t=="string"&&(o=t.replace(/[/\\]+$/,""),o=(n=o.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),o}async uploadFile(t,n){var o;const r={};n!=null&&(r.mimeType=n.mimeType,r.name=n.name,r.displayName=n.displayName),r.name&&!r.name.startsWith("files/")&&(r.name=`files/${r.name}`);const i=this.clientOptions.uploader,s=await i.stat(t);r.sizeBytes=String(s.size);const u=(o=n==null?void 0:n.mimeType)!==null&&o!==void 0?o:s.type;if(u===void 0||u==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");r.mimeType=u;const d={file:r},c=this.getFileName(t),f=L("upload/v1beta/files",d._url),p=await this.fetchUploadUrl(f,r.sizeBytes,r.mimeType,c,d,n==null?void 0:n.httpOptions);return i.upload(t,p,this)}async uploadFileToFileSearchStore(t,n,o){var r;const i=this.clientOptions.uploader,s=await i.stat(n),u=String(s.size),d=(r=o==null?void 0:o.mimeType)!==null&&r!==void 0?r:s.type;if(d===void 0||d==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const c=`upload/v1beta/${t}:uploadToFileSearchStore`,f=this.getFileName(n),p={};o!=null&&vm(o,p);const h=await this.fetchUploadUrl(c,u,d,f,p,o==null?void 0:o.httpOptions);return i.uploadToFileSearchStore(n,h,this)}async downloadFile(t){await this.clientOptions.downloader.download(t,this)}async fetchUploadUrl(t,n,o,r,i,s){var u;let d={};s?d=s:d={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${o}`},r?{"X-Goog-Upload-File-Name":r}:{})};const c=await this.request({path:t,body:JSON.stringify(i),httpMethod:"POST",httpOptions:d});if(!c||!(c!=null&&c.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const f=(u=c==null?void 0:c.headers)===null||u===void 0?void 0:u["x-goog-upload-url"];if(f===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return f}}async function nf(e){var t;if(e===void 0)throw new Error("response is undefined");if(!e.ok){const n=e.status;let o;!((t=e.headers.get("content-type"))===null||t===void 0)&&t.includes("application/json")?o=await e.json():o={error:{message:await e.text(),code:e.status,status:e.statusText}};const r=JSON.stringify(o);throw n>=400&&n<600?new rs({message:r,status:n}):new Error(r)}}function BC(e,t){if(!t||Object.keys(t).length===0)return;if(e.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof e.body=="string"&&e.body.length>0)try{const i=JSON.parse(e.body);if(typeof i=="object"&&i!==null&&!Array.isArray(i))n=i;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function o(i,s){const u=Object.assign({},i);for(const d in s)if(Object.prototype.hasOwnProperty.call(s,d)){const c=s[d],f=u[d];c&&typeof c=="object"&&!Array.isArray(c)&&f&&typeof f=="object"&&!Array.isArray(f)?u[d]=o(f,c):(f&&c&&typeof f!=typeof c&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${d}". Original type: ${typeof f}, New type: ${typeof c}. Overwriting.`),u[d]=c)}return u}const r=o(n,t);e.body=JSON.stringify(r)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const zC="mcp_used/unknown";let qC=!1;function xm(e){for(const t of e)if(OC(t)||typeof t=="object"&&"inputSchema"in t)return!0;return qC}function Sm(e){var t;const n=(t=e[Kl])!==null&&t!==void 0?t:"";e[Kl]=(n+` ${zC}`).trimStart()}function OC(e){return e!==null&&typeof e=="object"&&e instanceof au}function $C(e){return pt(this,arguments,function*(n,o=100){let r,i=0;for(;i<o;){const s=yield z(n.listTools({cursor:r}));for(const u of s.tools)yield yield z(u),i++;if(!s.nextCursor)break;r=s.nextCursor}})}class au{constructor(t=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=t,this.config=n}static create(t,n){return new au(t,n)}async initialize(){var t,n,o,r;if(this.mcpTools.length>0)return;const i={},s=[];for(const f of this.mcpClients)try{for(var u=!0,d=(n=void 0,ht($C(f))),c;c=await d.next(),t=c.done,!t;u=!0){r=c.value,u=!1;const p=r;s.push(p);const h=p.name;if(i[h])throw new Error(`Duplicate function name ${h} found in MCP tools. Please ensure function names are unique.`);i[h]=f}}catch(p){n={error:p}}finally{try{!u&&!t&&(o=d.return)&&await o.call(d)}finally{if(n)throw n.error}}this.mcpTools=s,this.functionNameToMcpClient=i}async tool(){return await this.initialize(),Cx(this.mcpTools,this.config)}async callTool(t){await this.initialize();const n=[];for(const o of t)if(o.name in this.functionNameToMcpClient){const r=this.functionNameToMcpClient[o.name];let i;this.config.timeout&&(i={timeout:this.config.timeout});const s=await r.callTool({name:o.name,arguments:o.args},void 0,i);n.push({functionResponse:{name:o.name,response:s.isError?{error:s}:s}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function JC(e,t,n){const o=new mx;let r;n.data instanceof Blob?r=JSON.parse(await n.data.text()):r=JSON.parse(n.data),Object.assign(o,r),t(o)}class WC{constructor(t,n,o){this.apiClient=t,this.auth=n,this.webSocketFactory=o}async connect(t){var n,o;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const r=this.apiClient.getWebsocketBaseUrl(),i=this.apiClient.getApiVersion(),s=QC(this.apiClient.getDefaultHeaders()),u=this.apiClient.getApiKey(),d=`${r}/ws/google.ai.generativelanguage.${i}.GenerativeService.BidiGenerateMusic?key=${u}`;let c=()=>{};const f=new Promise(E=>{c=E}),p=t.callbacks,h=function(){c({})},g=this.apiClient,y={onopen:h,onmessage:E=>{JC(g,p.onmessage,E)},onerror:(n=p==null?void 0:p.onerror)!==null&&n!==void 0?n:function(E){},onclose:(o=p==null?void 0:p.onclose)!==null&&o!==void 0?o:function(E){}},T=this.webSocketFactory.create(d,YC(s),y);T.connect(),await f;const S={setup:{model:Q(this.apiClient,t.model)}};return T.send(JSON.stringify(S)),new KC(T,this.apiClient)}}class KC{constructor(t,n){this.conn=t,this.apiClient=n}async setWeightedPrompts(t){if(!t.weightedPrompts||Object.keys(t.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=SE(t);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(t){t.musicGenerationConfig||(t.musicGenerationConfig={});const n=xE(t);this.conn.send(JSON.stringify(n))}sendPlaybackControl(t){const n={playbackControl:t};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(zn.PLAY)}pause(){this.sendPlaybackControl(zn.PAUSE)}stop(){this.sendPlaybackControl(zn.STOP)}resetContext(){this.sendPlaybackControl(zn.RESET_CONTEXT)}close(){this.conn.close()}}function YC(e){const t={};return e.forEach((n,o)=>{t[o]=n}),t}function QC(e){const t=new Headers;for(const[n,o]of Object.entries(e))t.append(n,o);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const XC="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function ZC(e,t,n){const o=new hx;let r;n.data instanceof Blob?r=await n.data.text():n.data instanceof ArrayBuffer?r=new TextDecoder().decode(n.data):r=n.data;const i=JSON.parse(r);if(e.isVertexAI()){const s=CE(i);Object.assign(o,s)}else Object.assign(o,i);t(o)}class jC{constructor(t,n,o){this.apiClient=t,this.auth=n,this.webSocketFactory=o,this.music=new WC(this.apiClient,this.auth,this.webSocketFactory)}async connect(t){var n,o,r,i,s,u;if(t.config&&t.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const d=this.apiClient.getWebsocketBaseUrl(),c=this.apiClient.getApiVersion();let f;const p=this.apiClient.getHeaders();t.config&&t.config.tools&&xm(t.config.tools)&&Sm(p);const h=o_(p);if(this.apiClient.isVertexAI())f=`${d}/ws/google.cloud.aiplatform.${c}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(h,f);else{const M=this.apiClient.getApiKey();let k="BidiGenerateContent",A="key";M!=null&&M.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),c!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),k="BidiGenerateContentConstrained",A="access_token"),f=`${d}/ws/google.ai.generativelanguage.${c}.GenerativeService.${k}?${A}=${M}`}let g=()=>{};const y=new Promise(M=>{g=M}),T=t.callbacks,x=function(){var M;(M=T==null?void 0:T.onopen)===null||M===void 0||M.call(T),g({})},v=this.apiClient,S={onopen:x,onmessage:M=>{ZC(v,T.onmessage,M)},onerror:(n=T==null?void 0:T.onerror)!==null&&n!==void 0?n:function(M){},onclose:(o=T==null?void 0:T.onclose)!==null&&o!==void 0?o:function(M){}},E=this.webSocketFactory.create(f,n_(h),S);E.connect(),await y;let C=Q(this.apiClient,t.model);if(this.apiClient.isVertexAI()&&C.startsWith("publishers/")){const M=this.apiClient.getProject(),k=this.apiClient.getLocation();C=`projects/${M}/locations/${k}/`+C}let w={};this.apiClient.isVertexAI()&&((r=t.config)===null||r===void 0?void 0:r.responseModalities)===void 0&&(t.config===void 0?t.config={responseModalities:[Mi.AUDIO]}:t.config.responseModalities=[Mi.AUDIO]),!((i=t.config)===null||i===void 0)&&i.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const N=(u=(s=t.config)===null||s===void 0?void 0:s.tools)!==null&&u!==void 0?u:[],I=[];for(const M of N)if(this.isCallableTool(M)){const k=M;I.push(await k.tool())}else I.push(M);I.length>0&&(t.config.tools=I);const P={model:C,config:t.config,callbacks:t.callbacks};return this.apiClient.isVertexAI()?w=vE(this.apiClient,P):w=yE(this.apiClient,P),delete w.config,E.send(JSON.stringify(w)),new t_(E,this.apiClient)}isCallableTool(t){return"callTool"in t&&typeof t.callTool=="function"}}const e_={turnComplete:!0};class t_{constructor(t,n){this.conn=t,this.apiClient=n}tLiveClientContent(t,n){if(n.turns!==null&&n.turns!==void 0){let o=[];try{o=tt(n.turns),t.isVertexAI()||(o=o.map(r=>is(r)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:o,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(t,n){let o=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?o=n.functionResponses:o=[n.functionResponses],o.length===0)throw new Error("functionResponses is required.");for(const i of o){if(typeof i!="object"||i===null||!("name"in i)||!("response"in i))throw new Error(`Could not parse function response, type '${typeof i}'.`);if(!t.isVertexAI()&&!("id"in i))throw new Error(XC)}return{toolResponse:{functionResponses:o}}}sendClientContent(t){t=Object.assign(Object.assign({},e_),t);const n=this.tLiveClientContent(this.apiClient,t);this.conn.send(JSON.stringify(n))}sendRealtimeInput(t){let n={};this.apiClient.isVertexAI()?n={realtimeInput:TE(t)}:n={realtimeInput:EE(t)},this.conn.send(JSON.stringify(n))}sendToolResponse(t){if(t.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,t);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function n_(e){const t={};return e.forEach((n,o)=>{t[o]=n}),t}function o_(e){const t=new Headers;for(const[n,o]of Object.entries(e))t.append(n,o);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const of=10;function rf(e){var t,n,o;if(!((t=e==null?void 0:e.automaticFunctionCalling)===null||t===void 0)&&t.disable)return!0;let r=!1;for(const s of(n=e==null?void 0:e.tools)!==null&&n!==void 0?n:[])if(Xn(s)){r=!0;break}if(!r)return!0;const i=(o=e==null?void 0:e.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls;return i&&(i<0||!Number.isInteger(i))||i==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",i),!0):!1}function Xn(e){return"callTool"in e&&typeof e.callTool=="function"}function r_(e){var t,n,o;return(o=(n=(t=e.config)===null||t===void 0?void 0:t.tools)===null||n===void 0?void 0:n.some(r=>Xn(r)))!==null&&o!==void 0?o:!1}function sf(e){var t;const n=[];return!((t=e==null?void 0:e.config)===null||t===void 0)&&t.tools&&e.config.tools.forEach((o,r)=>{if(Xn(o))return;const i=o;i.functionDeclarations&&i.functionDeclarations.length>0&&n.push(r)}),n}function lf(e){var t;return!(!((t=e==null?void 0:e.automaticFunctionCalling)===null||t===void 0)&&t.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class i_ extends Vt{constructor(t){super(),this.apiClient=t,this.generateContent=async n=>{var o,r,i,s,u;const d=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!r_(n)||rf(n.config))return await this.generateContentInternal(d);const c=sf(n);if(c.length>0){const T=c.map(x=>`tools[${x}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${T}.`)}let f,p;const h=tt(d.contents),g=(i=(r=(o=d.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:of;let y=0;for(;y<g&&(f=await this.generateContentInternal(d),!(!f.functionCalls||f.functionCalls.length===0));){const T=f.candidates[0].content,x=[];for(const v of(u=(s=n.config)===null||s===void 0?void 0:s.tools)!==null&&u!==void 0?u:[])if(Xn(v)){const E=await v.callTool(f.functionCalls);x.push(...E)}y++,p={role:"user",parts:x},d.contents=tt(d.contents),d.contents.push(T),d.contents.push(p),lf(d.config)&&(h.push(T),h.push(p))}return lf(d.config)&&(f.automaticFunctionCallingHistory=h),f},this.generateContentStream=async n=>{var o,r,i,s,u;if(this.maybeMoveToResponseJsonSchem(n),rf(n.config)){const p=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(p)}const d=sf(n);if(d.length>0){const p=d.map(h=>`tools[${h}]`).join(", ");throw new Error(`Incompatible tools found at ${p}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const c=(i=(r=(o=n==null?void 0:n.config)===null||o===void 0?void 0:o.toolConfig)===null||r===void 0?void 0:r.functionCallingConfig)===null||i===void 0?void 0:i.streamFunctionCallArguments,f=(u=(s=n==null?void 0:n.config)===null||s===void 0?void 0:s.automaticFunctionCalling)===null||u===void 0?void 0:u.disable;if(c&&!f)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(o=>{var r;let i;const s=[];if(o!=null&&o.generatedImages)for(const d of o.generatedImages)d&&(d!=null&&d.safetyAttributes)&&((r=d==null?void 0:d.safetyAttributes)===null||r===void 0?void 0:r.contentType)==="Positive Prompt"?i=d==null?void 0:d.safetyAttributes:s.push(d);let u;return i?u={generatedImages:s,positivePromptSafetyAttributes:i,sdkHttpResponse:o.sdkHttpResponse}:u={generatedImages:s,sdkHttpResponse:o.sdkHttpResponse},u}),this.list=async n=>{var o;const s={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!s.config.queryBase){if(!((o=s.config)===null||o===void 0)&&o.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");s.config.filter="labels.tune-type:*"}return new Nn(Ft.PAGED_ITEM_MODELS,u=>this.listInternal(u),await this.listInternal(s),s)},this.editImage=async n=>{const o={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(o.referenceImages=n.referenceImages.map(r=>r.toReferenceImageAPI())),await this.editImageInternal(o)},this.upscaleImage=async n=>{let o={numberOfImages:1,mode:"upscale"};n.config&&(o=Object.assign(Object.assign({},o),n.config));const r={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:o};return await this.upscaleImageInternal(r)},this.generateVideos=async n=>{var o,r,i,s,u,d;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((o=n.video)===null||o===void 0)&&o.uri&&(!((r=n.video)===null||r===void 0)&&r.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((s=(i=n.source)===null||i===void 0?void 0:i.video)===null||s===void 0)&&s.uri&&(!((d=(u=n.source)===null||u===void 0?void 0:u.video)===null||d===void 0)&&d.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(t){t.config&&t.config.responseSchema&&(t.config.responseJsonSchema||Object.keys(t.config.responseSchema).includes("$schema")&&(t.config.responseJsonSchema=t.config.responseSchema,delete t.config.responseSchema))}async processParamsMaybeAddMcpUsage(t){var n,o,r;const i=(n=t.config)===null||n===void 0?void 0:n.tools;if(!i)return t;const s=await Promise.all(i.map(async d=>Xn(d)?await d.tool():d)),u={model:t.model,contents:t.contents,config:Object.assign(Object.assign({},t.config),{tools:s})};if(u.config.tools=s,t.config&&t.config.tools&&xm(t.config.tools)){const d=(r=(o=t.config.httpOptions)===null||o===void 0?void 0:o.headers)!==null&&r!==void 0?r:{};let c=Object.assign({},d);Object.keys(c).length===0&&(c=this.apiClient.getDefaultHeaders()),Sm(c),u.config.httpOptions=Object.assign(Object.assign({},t.config.httpOptions),{headers:c})}return u}async initAfcToolsMap(t){var n,o,r;const i=new Map;for(const s of(o=(n=t.config)===null||n===void 0?void 0:n.tools)!==null&&o!==void 0?o:[])if(Xn(s)){const u=s,d=await u.tool();for(const c of(r=d.functionDeclarations)!==null&&r!==void 0?r:[]){if(!c.name)throw new Error("Function declaration name is required.");if(i.has(c.name))throw new Error(`Duplicate tool declaration name: ${c.name}`);i.set(c.name,u)}}return i}async processAfcStream(t){var n,o,r;const i=(r=(o=(n=t.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls)!==null&&r!==void 0?r:of;let s=!1,u=0;const d=await this.initAfcToolsMap(t);return function(c,f,p){return pt(this,arguments,function*(){for(var h,g,y,T,x,v;u<i;){s&&(u++,s=!1);const w=yield z(c.processParamsMaybeAddMcpUsage(p)),N=yield z(c.generateContentStreamInternal(w)),I=[],P=[];try{for(var S=!0,E=(g=void 0,ht(N)),C;C=yield z(E.next()),h=C.done,!h;S=!0){T=C.value,S=!1;const M=T;if(yield yield z(M),M.candidates&&(!((x=M.candidates[0])===null||x===void 0)&&x.content)){P.push(M.candidates[0].content);for(const k of(v=M.candidates[0].content.parts)!==null&&v!==void 0?v:[])if(u<i&&k.functionCall){if(!k.functionCall.name)throw new Error("Function call name was not returned by the model.");if(f.has(k.functionCall.name)){const A=yield z(f.get(k.functionCall.name).callTool([k.functionCall]));I.push(...A)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${f.keys()}, mising tool: ${k.functionCall.name}`)}}}}catch(M){g={error:M}}finally{try{!S&&!h&&(y=E.return)&&(yield z(y.call(E)))}finally{if(g)throw g.error}}if(I.length>0){s=!0;const M=new Co;M.candidates=[{content:{role:"user",parts:I}}],yield yield z(M);const k=[];k.push(...P),k.push({role:"user",parts:I});const A=tt(p.contents).concat(k);p.contents=A}else break}})}(this,d,t)}async generateContentInternal(t){var n,o,r,i;let s,u="",d={};if(this.apiClient.isVertexAI()){const c=jd(this.apiClient,t);return u=L("{model}:generateContent",c._url),d=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{const p=tf(f),h=new Co;return Object.assign(h,p),h})}else{const c=Zd(this.apiClient,t);return u=L("{model}:generateContent",c._url),d=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{const p=ef(f),h=new Co;return Object.assign(h,p),h})}}async generateContentStreamInternal(t){var n,o,r,i;let s,u="",d={};if(this.apiClient.isVertexAI()){const c=jd(this.apiClient,t);return u=L("{model}:streamGenerateContent?alt=sse",c._url),d=c._query,delete c._url,delete c._query,s=this.apiClient.requestStream({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}),s.then(function(p){return pt(this,arguments,function*(){var h,g,y,T;try{for(var x=!0,v=ht(p),S;S=yield z(v.next()),h=S.done,!h;x=!0){T=S.value,x=!1;const E=T,C=tf(yield z(E.json()));C.sdkHttpResponse={headers:E.headers};const w=new Co;Object.assign(w,C),yield yield z(w)}}catch(E){g={error:E}}finally{try{!x&&!h&&(y=v.return)&&(yield z(y.call(v)))}finally{if(g)throw g.error}}})})}else{const c=Zd(this.apiClient,t);return u=L("{model}:streamGenerateContent?alt=sse",c._url),d=c._query,delete c._url,delete c._query,s=this.apiClient.requestStream({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}),s.then(function(p){return pt(this,arguments,function*(){var h,g,y,T;try{for(var x=!0,v=ht(p),S;S=yield z(v.next()),h=S.done,!h;x=!0){T=S.value,x=!1;const E=T,C=ef(yield z(E.json()));C.sdkHttpResponse={headers:E.headers};const w=new Co;Object.assign(w,C),yield yield z(w)}}catch(E){g={error:E}}finally{try{!x&&!h&&(y=v.return)&&(yield z(y.call(v)))}finally{if(g)throw g.error}}})})}}async embedContent(t){var n,o,r,i;let s,u="",d={};if(this.apiClient.isVertexAI()){const c=jE(this.apiClient,t);return u=L("{model}:predict",c._url),d=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{const p=tT(f),h=new Ud;return Object.assign(h,p),h})}else{const c=ZE(this.apiClient,t);return u=L("{model}:batchEmbedContents",c._url),d=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{const p=eT(f),h=new Ud;return Object.assign(h,p),h})}}async generateImagesInternal(t){var n,o,r,i;let s,u="",d={};if(this.apiClient.isVertexAI()){const c=fT(this.apiClient,t);return u=L("{model}:predict",c._url),d=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{const p=hT(f),h=new Fd;return Object.assign(h,p),h})}else{const c=dT(this.apiClient,t);return u=L("{model}:predict",c._url),d=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{const p=pT(f),h=new Fd;return Object.assign(h,p),h})}}async editImageInternal(t){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI()){const u=KE(this.apiClient,t);return i=L("{model}:predict",u._url),s=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(c=>{const f=c;return f.sdkHttpResponse={headers:d.headers},f})),r.then(d=>{const c=YE(d),f=new ox;return Object.assign(f,c),f})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(t){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI()){const u=fC(this.apiClient,t);return i=L("{model}:predict",u._url),s=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(c=>{const f=c;return f.sdkHttpResponse={headers:d.headers},f})),r.then(d=>{const c=pC(d),f=new rx;return Object.assign(f,c),f})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(t){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI()){const u=WT(this.apiClient,t);return i=L("{model}:predict",u._url),s=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>{const c=KT(d),f=new ix;return Object.assign(f,c),f})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(t){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI()){const u=eC(this.apiClient,t);return i=L("{model}:predict",u._url),s=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>{const c=tC(d),f=new sx;return Object.assign(f,c),f})}else throw new Error("This method is only supported by the Vertex AI.")}async get(t){var n,o,r,i;let s,u="",d={};if(this.apiClient.isVertexAI()){const c=PT(this.apiClient,t);return u=L("{name}",c._url),d=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),s.then(f=>Wl(f))}else{const c=kT(this.apiClient,t);return u=L("{name}",c._url),d=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s.then(f=>Jl(f))}}async listInternal(t){var n,o,r,i;let s,u="",d={};if(this.apiClient.isVertexAI()){const c=HT(this.apiClient,t);return u=L("{models_url}",c._url),d=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{const p=zT(f),h=new bd;return Object.assign(h,p),h})}else{const c=GT(this.apiClient,t);return u=L("{models_url}",c._url),d=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{const p=BT(f),h=new bd;return Object.assign(h,p),h})}}async update(t){var n,o,r,i;let s,u="",d={};if(this.apiClient.isVertexAI()){const c=cC(this.apiClient,t);return u=L("{model}",c._url),d=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),s.then(f=>Wl(f))}else{const c=uC(this.apiClient,t);return u=L("{name}",c._url),d=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s.then(f=>Jl(f))}}async delete(t){var n,o,r,i;let s,u="",d={};if(this.apiClient.isVertexAI()){const c=OE(this.apiClient,t);return u=L("{name}",c._url),d=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{const p=JE(f),h=new Vd;return Object.assign(h,p),h})}else{const c=qE(this.apiClient,t);return u=L("{name}",c._url),d=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{const p=$E(f),h=new Vd;return Object.assign(h,p),h})}}async countTokens(t){var n,o,r,i;let s,u="",d={};if(this.apiClient.isVertexAI()){const c=HE(this.apiClient,t);return u=L("{model}:countTokens",c._url),d=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{const p=zE(f),h=new Gd;return Object.assign(h,p),h})}else{const c=GE(this.apiClient,t);return u=L("{model}:countTokens",c._url),d=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{const p=BE(f),h=new Gd;return Object.assign(h,p),h})}}async computeTokens(t){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI()){const u=ME(this.apiClient,t);return i=L("{model}:computeTokens",u._url),s=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(c=>{const f=c;return f.sdkHttpResponse={headers:d.headers},f})),r.then(d=>{const c=DE(d),f=new lx;return Object.assign(f,c),f})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(t){var n,o,r,i;let s,u="",d={};if(this.apiClient.isVertexAI()){const c=ST(this.apiClient,t);return u=L("{model}:predictLongRunning",c._url),d=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),s.then(f=>{const p=vT(f),h=new Di;return Object.assign(h,p),h})}else{const c=xT(this.apiClient,t);return u=L("{model}:predictLongRunning",c._url),d=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s.then(f=>{const p=yT(f),h=new Di;return Object.assign(h,p),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class s_ extends Vt{constructor(t){super(),this.apiClient=t}async getVideosOperation(t){const n=t.operation,o=t.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=n.name.split("/operations/")[0];let i;o&&"httpOptions"in o&&(i=o.httpOptions);const s=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:r,config:{httpOptions:i}});return n._fromAPIResponse({apiResponse:s,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:n.name,config:o});return n._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async get(t){const n=t.operation,o=t.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=n.name.split("/operations/")[0];let i;o&&"httpOptions"in o&&(i=o.httpOptions);const s=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:r,config:{httpOptions:i}});return n._fromAPIResponse({apiResponse:s,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:n.name,config:o});return n._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async getVideosOperationInternal(t){var n,o,r,i;let s,u="",d={};if(this.apiClient.isVertexAI()){const c=Xv(t);return u=L("{operationName}",c._url),d=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),s}else{const c=Qv(t);return u=L("{operationName}",c._url),d=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s}}async fetchPredictVideosOperationInternal(t){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI()){const u=qv(t);return i=L("{resourceName}:fetchPredictOperation",u._url),s=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function l_(e){const t={},n=l(e,["data"]);if(n!=null&&a(t,["data"],n),l(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=l(e,["mimeType"]);return o!=null&&a(t,["mimeType"],o),t}function a_(e){const t={},n=l(e,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>y_(i))),a(t,["parts"],r)}const o=l(e,["role"]);return o!=null&&a(t,["role"],o),t}function u_(e,t,n){const o={},r=l(t,["expireTime"]);n!==void 0&&r!=null&&a(n,["expireTime"],r);const i=l(t,["newSessionExpireTime"]);n!==void 0&&i!=null&&a(n,["newSessionExpireTime"],i);const s=l(t,["uses"]);n!==void 0&&s!=null&&a(n,["uses"],s);const u=l(t,["liveConnectConstraints"]);n!==void 0&&u!=null&&a(n,["bidiGenerateContentSetup"],g_(e,u));const d=l(t,["lockAdditionalFields"]);return n!==void 0&&d!=null&&a(n,["fieldMask"],d),o}function c_(e,t){const n={},o=l(t,["config"]);return o!=null&&a(n,["config"],u_(e,o,n)),n}function d_(e){const t={};if(l(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=l(e,["fileUri"]);n!=null&&a(t,["fileUri"],n);const o=l(e,["mimeType"]);return o!=null&&a(t,["mimeType"],o),t}function f_(e){const t={},n=l(e,["id"]);n!=null&&a(t,["id"],n);const o=l(e,["args"]);o!=null&&a(t,["args"],o);const r=l(e,["name"]);if(r!=null&&a(t,["name"],r),l(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(l(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function p_(e){const t={};if(l(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=l(e,["enableWidget"]);return n!=null&&a(t,["enableWidget"],n),t}function h_(e){const t={};if(l(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(l(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=l(e,["timeRangeFilter"]);return n!=null&&a(t,["timeRangeFilter"],n),t}function m_(e,t){const n={},o=l(e,["generationConfig"]);t!==void 0&&o!=null&&a(t,["setup","generationConfig"],o);const r=l(e,["responseModalities"]);t!==void 0&&r!=null&&a(t,["setup","generationConfig","responseModalities"],r);const i=l(e,["temperature"]);t!==void 0&&i!=null&&a(t,["setup","generationConfig","temperature"],i);const s=l(e,["topP"]);t!==void 0&&s!=null&&a(t,["setup","generationConfig","topP"],s);const u=l(e,["topK"]);t!==void 0&&u!=null&&a(t,["setup","generationConfig","topK"],u);const d=l(e,["maxOutputTokens"]);t!==void 0&&d!=null&&a(t,["setup","generationConfig","maxOutputTokens"],d);const c=l(e,["mediaResolution"]);t!==void 0&&c!=null&&a(t,["setup","generationConfig","mediaResolution"],c);const f=l(e,["seed"]);t!==void 0&&f!=null&&a(t,["setup","generationConfig","seed"],f);const p=l(e,["speechConfig"]);t!==void 0&&p!=null&&a(t,["setup","generationConfig","speechConfig"],lu(p));const h=l(e,["thinkingConfig"]);t!==void 0&&h!=null&&a(t,["setup","generationConfig","thinkingConfig"],h);const g=l(e,["enableAffectiveDialog"]);t!==void 0&&g!=null&&a(t,["setup","generationConfig","enableAffectiveDialog"],g);const y=l(e,["systemInstruction"]);t!==void 0&&y!=null&&a(t,["setup","systemInstruction"],a_(we(y)));const T=l(e,["tools"]);if(t!==void 0&&T!=null){let N=co(T);Array.isArray(N)&&(N=N.map(I=>x_(uo(I)))),a(t,["setup","tools"],N)}const x=l(e,["sessionResumption"]);t!==void 0&&x!=null&&a(t,["setup","sessionResumption"],v_(x));const v=l(e,["inputAudioTranscription"]);t!==void 0&&v!=null&&a(t,["setup","inputAudioTranscription"],v);const S=l(e,["outputAudioTranscription"]);t!==void 0&&S!=null&&a(t,["setup","outputAudioTranscription"],S);const E=l(e,["realtimeInputConfig"]);t!==void 0&&E!=null&&a(t,["setup","realtimeInputConfig"],E);const C=l(e,["contextWindowCompression"]);t!==void 0&&C!=null&&a(t,["setup","contextWindowCompression"],C);const w=l(e,["proactivity"]);if(t!==void 0&&w!=null&&a(t,["setup","proactivity"],w),l(e,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function g_(e,t){const n={},o=l(t,["model"]);o!=null&&a(n,["setup","model"],Q(e,o));const r=l(t,["config"]);return r!=null&&a(n,["config"],m_(r,n)),n}function y_(e){const t={},n=l(e,["mediaResolution"]);n!=null&&a(t,["mediaResolution"],n);const o=l(e,["codeExecutionResult"]);o!=null&&a(t,["codeExecutionResult"],o);const r=l(e,["executableCode"]);r!=null&&a(t,["executableCode"],r);const i=l(e,["fileData"]);i!=null&&a(t,["fileData"],d_(i));const s=l(e,["functionCall"]);s!=null&&a(t,["functionCall"],f_(s));const u=l(e,["functionResponse"]);u!=null&&a(t,["functionResponse"],u);const d=l(e,["inlineData"]);d!=null&&a(t,["inlineData"],l_(d));const c=l(e,["text"]);c!=null&&a(t,["text"],c);const f=l(e,["thought"]);f!=null&&a(t,["thought"],f);const p=l(e,["thoughtSignature"]);p!=null&&a(t,["thoughtSignature"],p);const h=l(e,["videoMetadata"]);return h!=null&&a(t,["videoMetadata"],h),t}function v_(e){const t={},n=l(e,["handle"]);if(n!=null&&a(t,["handle"],n),l(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function x_(e){const t={},n=l(e,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(p=>p)),a(t,["functionDeclarations"],f)}if(l(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=l(e,["googleSearchRetrieval"]);o!=null&&a(t,["googleSearchRetrieval"],o);const r=l(e,["computerUse"]);r!=null&&a(t,["computerUse"],r);const i=l(e,["fileSearch"]);i!=null&&a(t,["fileSearch"],i);const s=l(e,["codeExecution"]);if(s!=null&&a(t,["codeExecution"],s),l(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=l(e,["googleMaps"]);u!=null&&a(t,["googleMaps"],p_(u));const d=l(e,["googleSearch"]);d!=null&&a(t,["googleSearch"],h_(d));const c=l(e,["urlContext"]);return c!=null&&a(t,["urlContext"],c),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function S_(e){const t=[];for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)){const o=e[n];if(typeof o=="object"&&o!=null&&Object.keys(o).length>0){const r=Object.keys(o).map(i=>`${n}.${i}`);t.push(...r)}else t.push(n)}return t.join(",")}function E_(e,t){let n=null;const o=e.bidiGenerateContentSetup;if(typeof o=="object"&&o!==null&&"setup"in o){const i=o.setup;typeof i=="object"&&i!==null?(e.bidiGenerateContentSetup=i,n=i):delete e.bidiGenerateContentSetup}else o!==void 0&&delete e.bidiGenerateContentSetup;const r=e.fieldMask;if(n){const i=S_(n);if(Array.isArray(t==null?void 0:t.lockAdditionalFields)&&(t==null?void 0:t.lockAdditionalFields.length)===0)i?e.fieldMask=i:delete e.fieldMask;else if(t!=null&&t.lockAdditionalFields&&t.lockAdditionalFields.length>0&&r!==null&&Array.isArray(r)&&r.length>0){const s=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let u=[];r.length>0&&(u=r.map(c=>s.includes(c)?`generationConfig.${c}`:c));const d=[];i&&d.push(i),u.length>0&&d.push(...u),d.length>0?e.fieldMask=d.join(","):delete e.fieldMask}else delete e.fieldMask}else r!==null&&Array.isArray(r)&&r.length>0?e.fieldMask=r.join(","):delete e.fieldMask;return e}class T_ extends Vt{constructor(t){super(),this.apiClient=t}async create(t){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const u=c_(this.apiClient,t);i=L("auth_tokens",u._url),s=u._query,delete u.config,delete u._url,delete u._query;const d=E_(u,t.config);return r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>c)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function C_(e,t){const n={},o=l(e,["force"]);return t!==void 0&&o!=null&&a(t,["_query","force"],o),n}function __(e){const t={},n=l(e,["name"]);n!=null&&a(t,["_url","name"],n);const o=l(e,["config"]);return o!=null&&C_(o,t),t}function w_(e){const t={},n=l(e,["name"]);return n!=null&&a(t,["_url","name"],n),t}function I_(e,t){const n={},o=l(e,["pageSize"]);t!==void 0&&o!=null&&a(t,["_query","pageSize"],o);const r=l(e,["pageToken"]);return t!==void 0&&r!=null&&a(t,["_query","pageToken"],r),n}function N_(e){const t={},n=l(e,["parent"]);n!=null&&a(t,["_url","parent"],n);const o=l(e,["config"]);return o!=null&&I_(o,t),t}function A_(e){const t={},n=l(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=l(e,["nextPageToken"]);o!=null&&a(t,["nextPageToken"],o);const r=l(e,["documents"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>s)),a(t,["documents"],i)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class R_ extends Vt{constructor(t){super(),this.apiClient=t,this.list=async n=>new Nn(Ft.PAGED_ITEM_DOCUMENTS,o=>this.listInternal({parent:n.parent,config:o.config}),await this.listInternal(n),n)}async get(t){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=w_(t);return i=L("{name}",u._url),s=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>d)}}async delete(t){var n,o;let r="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=__(t);r=L("{name}",s._url),i=s._query,delete s._url,delete s._query,await this.apiClient.request({path:r,queryParams:i,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(t){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=N_(t);return i=L("{parent}/documents",u._url),s=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>{const c=A_(d),f=new ax;return Object.assign(f,c),f})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class k_ extends Vt{constructor(t,n=new R_(t)){super(),this.apiClient=t,this.documents=n,this.list=async(o={})=>new Nn(Ft.PAGED_ITEM_FILE_SEARCH_STORES,r=>this.listInternal(r),await this.listInternal(o),o)}async uploadToFileSearchStore(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(t.fileSearchStoreName,t.file,t.config)}async create(t){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=SC(t);return i=L("fileSearchStores",u._url),s=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>d)}}async get(t){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=CC(t);return i=L("{name}",u._url),s=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>d)}}async delete(t){var n,o;let r="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=TC(t);r=L("{name}",s._url),i=s._query,delete s._url,delete s._query,await this.apiClient.request({path:r,queryParams:i,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(t){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=RC(t);return i=L("fileSearchStores",u._url),s=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>{const c=kC(d),f=new ux;return Object.assign(f,c),f})}}async uploadToFileSearchStoreInternal(t){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=PC(t);return i=L("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",u._url),s=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>{const c=MC(d),f=new cx;return Object.assign(f,c),f})}}async importFile(t){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=IC(t);return i=L("{file_search_store_name}:importFile",u._url),s=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>{const c=wC(d),f=new nu;return Object.assign(f,c),f})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Em=function(){const{crypto:e}=globalThis;if(e!=null&&e.randomUUID)return Em=e.randomUUID.bind(e),e.randomUUID();const t=new Uint8Array(1),n=e?()=>e.getRandomValues(t)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,o=>(+o^n()&15>>+o/4).toString(16))};const P_=()=>Em();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Yl(e){return typeof e=="object"&&e!==null&&("name"in e&&e.name==="AbortError"||"message"in e&&String(e.message).includes("FetchRequestCanceledException"))}const Ql=e=>{if(e instanceof Error)return e;if(typeof e=="object"&&e!==null){try{if(Object.prototype.toString.call(e)==="[object Error]"){const t=new Error(e.message,e.cause?{cause:e.cause}:{});return e.stack&&(t.stack=e.stack),e.cause&&!t.cause&&(t.cause=e.cause),e.name&&(t.name=e.name),t}}catch{}try{return new Error(JSON.stringify(e))}catch{}}return new Error(e)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class rt extends Error{}class Me extends rt{constructor(t,n,o,r){super(`${Me.makeMessage(t,n,o)}`),this.status=t,this.headers=r,this.error=n}static makeMessage(t,n,o){const r=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):o;return t&&r?`${t} ${r}`:t?`${t} status code (no body)`:r||"(no status code or body)"}static generate(t,n,o,r){if(!t||!r)return new as({message:o,cause:Ql(n)});const i=n;return t===400?new Cm(t,i,o,r):t===401?new _m(t,i,o,r):t===403?new wm(t,i,o,r):t===404?new Im(t,i,o,r):t===409?new Nm(t,i,o,r):t===422?new Am(t,i,o,r):t===429?new Rm(t,i,o,r):t>=500?new km(t,i,o,r):new Me(t,i,o,r)}}class Xl extends Me{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0)}}class as extends Me{constructor({message:t,cause:n}){super(void 0,void 0,t||"Connection error.",void 0),n&&(this.cause=n)}}class Tm extends as{constructor({message:t}={}){super({message:t??"Request timed out."})}}class Cm extends Me{}class _m extends Me{}class wm extends Me{}class Im extends Me{}class Nm extends Me{}class Am extends Me{}class Rm extends Me{}class km extends Me{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const M_=/^[a-z][a-z0-9+.-]*:/i,D_=e=>M_.test(e);let Zl=e=>(Zl=Array.isArray,Zl(e));const L_=Zl;let U_=L_;const af=U_;function F_(e){if(!e)return!0;for(const t in e)return!1;return!0}function b_(e,t){return Object.prototype.hasOwnProperty.call(e,t)}const V_=(e,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new rt(`${e} must be an integer`);if(t<0)throw new rt(`${e} must be a positive integer`);return t},G_=e=>{try{return JSON.parse(e)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const H_=e=>new Promise(t=>setTimeout(t,e));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Rn="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function B_(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const z_=()=>{var e,t,n,o,r;const i=B_();if(i==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Rn,"X-Stainless-OS":cf(Deno.build.os),"X-Stainless-Arch":uf(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(t=(e=Deno.version)===null||e===void 0?void 0:e.deno)!==null&&t!==void 0?t:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Rn,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(i==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Rn,"X-Stainless-OS":cf((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":uf((o=globalThis.process.arch)!==null&&o!==void 0?o:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(r=globalThis.process.version)!==null&&r!==void 0?r:"unknown"};const s=q_();return s?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Rn,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${s.browser}`,"X-Stainless-Runtime-Version":s.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Rn,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function q_(){if(typeof navigator>"u"||!navigator)return null;const e=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:n}of e){const o=n.exec(navigator.userAgent);if(o){const r=o[1]||0,i=o[2]||0,s=o[3]||0;return{browser:t,version:`${r}.${i}.${s}`}}}return null}const uf=e=>e==="x32"?"x32":e==="x86_64"||e==="x64"?"x64":e==="arm"?"arm":e==="aarch64"||e==="arm64"?"arm64":e?`other:${e}`:"unknown",cf=e=>(e=e.toLowerCase(),e.includes("ios")?"iOS":e==="android"?"Android":e==="darwin"?"MacOS":e==="win32"?"Windows":e==="freebsd"?"FreeBSD":e==="openbsd"?"OpenBSD":e==="linux"?"Linux":e?`Other:${e}`:"Unknown");let Dr;const O_=()=>Dr??(Dr=z_());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function $_(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function Pm(...e){const t=globalThis.ReadableStream;if(typeof t>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new t(...e)}function J_(e){let t=Symbol.asyncIterator in e?e[Symbol.asyncIterator]():e[Symbol.iterator]();return Pm({start(){},async pull(n){const{done:o,value:r}=await t.next();o?n.close():n.enqueue(r)},async cancel(){var n;await((n=t.return)===null||n===void 0?void 0:n.call(t))}})}function Mm(e){if(e[Symbol.asyncIterator])return e;const t=e.getReader();return{async next(){try{const n=await t.read();return n!=null&&n.done&&t.releaseLock(),n}catch(n){throw t.releaseLock(),n}},async return(){const n=t.cancel();return t.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function W_(e){var t,n;if(e===null||typeof e!="object")return;if(e[Symbol.asyncIterator]){await((n=(t=e[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(t));return}const o=e.getReader(),r=o.cancel();o.releaseLock(),await r}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const K_=({headers:e,body:t})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(t)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Dm=()=>{var e;if(typeof File>"u"){const{process:t}=globalThis,n=typeof((e=t==null?void 0:t.versions)===null||e===void 0?void 0:e.node)=="string"&&parseInt(t.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function qs(e,t,n){return Dm(),new File(e,t??"unknown_file",n)}function Y_(e){return(typeof e=="object"&&e!==null&&("name"in e&&e.name&&String(e.name)||"url"in e&&e.url&&String(e.url)||"filename"in e&&e.filename&&String(e.filename)||"path"in e&&e.path&&String(e.path))||"").split(/[\\/]/).pop()||void 0}const Q_=e=>e!=null&&typeof e=="object"&&typeof e[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Lm=e=>e!=null&&typeof e=="object"&&typeof e.size=="number"&&typeof e.type=="string"&&typeof e.text=="function"&&typeof e.slice=="function"&&typeof e.arrayBuffer=="function",X_=e=>e!=null&&typeof e=="object"&&typeof e.name=="string"&&typeof e.lastModified=="number"&&Lm(e),Z_=e=>e!=null&&typeof e=="object"&&typeof e.url=="string"&&typeof e.blob=="function";async function j_(e,t,n){if(Dm(),e=await e,X_(e))return e instanceof File?e:qs([await e.arrayBuffer()],e.name);if(Z_(e)){const r=await e.blob();return t||(t=new URL(e.url).pathname.split(/[\\/]/).pop()),qs(await jl(r),t,n)}const o=await jl(e);if(t||(t=Y_(e)),!(n!=null&&n.type)){const r=o.find(i=>typeof i=="object"&&"type"in i&&i.type);typeof r=="string"&&(n=Object.assign(Object.assign({},n),{type:r}))}return qs(o,t,n)}async function jl(e){var t,n,o,r,i;let s=[];if(typeof e=="string"||ArrayBuffer.isView(e)||e instanceof ArrayBuffer)s.push(e);else if(Lm(e))s.push(e instanceof Blob?e:await e.arrayBuffer());else if(Q_(e))try{for(var u=!0,d=ht(e),c;c=await d.next(),t=c.done,!t;u=!0){r=c.value,u=!1;const f=r;s.push(...await jl(f))}}catch(f){n={error:f}}finally{try{!u&&!t&&(o=d.return)&&await o.call(d)}finally{if(n)throw n.error}}else{const f=(i=e==null?void 0:e.constructor)===null||i===void 0?void 0:i.name;throw new Error(`Unexpected data type: ${typeof e}${f?`; constructor: ${f}`:""}${ew(e)}`)}return s}function ew(e){return typeof e!="object"||e===null?"":`; props: [${Object.getOwnPropertyNames(e).map(n=>`"${n}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Um{constructor(t){this._client=t}}Um._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Fm(e){return e.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const df=Object.freeze(Object.create(null)),tw=(e=Fm)=>function(n,...o){if(n.length===1)return n[0];let r=!1;const i=[],s=n.reduce((f,p,h)=>{var g,y,T;/[?#]/.test(p)&&(r=!0);const x=o[h];let v=(r?encodeURIComponent:e)(""+x);return h!==o.length&&(x==null||typeof x=="object"&&x.toString===((T=Object.getPrototypeOf((y=Object.getPrototypeOf((g=x.hasOwnProperty)!==null&&g!==void 0?g:df))!==null&&y!==void 0?y:df))===null||T===void 0?void 0:T.toString))&&(v=x+"",i.push({start:f.length+p.length,length:v.length,error:`Value of type ${Object.prototype.toString.call(x).slice(8,-1)} is not a valid path parameter`})),f+p+(h===o.length?"":v)},""),u=s.split(/[?#]/,1)[0],d=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let c;for(;(c=d.exec(u))!==null;)i.push({start:c.index,length:c[0].length,error:`Value "${c[0]}" can't be safely passed as a path parameter`});if(i.sort((f,p)=>f.start-p.start),i.length>0){let f=0;const p=i.reduce((h,g)=>{const y=" ".repeat(g.start-f),T="^".repeat(g.length);return f=g.start+g.length,h+y+T},"");throw new rt(`Path parameters result in path with invalid segments:
${i.map(h=>h.error).join(`
`)}
${s}
${p}`)}return s},Lr=tw(Fm);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class bm extends Um{create(t,n){var o;const{api_version:r=this._client.apiVersion}=t,i=Ui(t,["api_version"]);if("model"in i&&"agent_config"in i)throw new rt("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in i&&"generation_config"in i)throw new rt("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(Lr`/${r}/interactions`,Object.assign(Object.assign({body:i},n),{stream:(o=t.stream)!==null&&o!==void 0?o:!1}))}delete(t,n={},o){const{api_version:r=this._client.apiVersion}=n??{};return this._client.delete(Lr`/${r}/interactions/${t}`,o)}cancel(t,n={},o){const{api_version:r=this._client.apiVersion}=n??{};return this._client.post(Lr`/${r}/interactions/${t}/cancel`,o)}get(t,n={},o){var r;const i=n??{},{api_version:s=this._client.apiVersion}=i,u=Ui(i,["api_version"]);return this._client.get(Lr`/${s}/interactions/${t}`,Object.assign(Object.assign({query:u},o),{stream:(r=n==null?void 0:n.stream)!==null&&r!==void 0?r:!1}))}}bm._key=Object.freeze(["interactions"]);class Vm extends bm{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function nw(e){let t=0;for(const r of e)t+=r.length;const n=new Uint8Array(t);let o=0;for(const r of e)n.set(r,o),o+=r.length;return n}let Ur;function uu(e){let t;return(Ur??(t=new globalThis.TextEncoder,Ur=t.encode.bind(t)))(e)}let Fr;function ff(e){let t;return(Fr??(t=new globalThis.TextDecoder,Fr=t.decode.bind(t)))(e)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class us{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(t){if(t==null)return[];const n=t instanceof ArrayBuffer?new Uint8Array(t):typeof t=="string"?uu(t):t;this.buffer=nw([this.buffer,n]);const o=[];let r;for(;(r=ow(this.buffer,this.carriageReturnIndex))!=null;){if(r.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=r.index;continue}if(this.carriageReturnIndex!=null&&(r.index!==this.carriageReturnIndex+1||r.carriage)){o.push(ff(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const i=this.carriageReturnIndex!==null?r.preceding-1:r.preceding,s=ff(this.buffer.subarray(0,i));o.push(s),this.buffer=this.buffer.subarray(r.index),this.carriageReturnIndex=null}return o}flush(){return this.buffer.length?this.decode(`
`):[]}}us.NEWLINE_CHARS=new Set([`
`,"\r"]);us.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function ow(e,t){for(let r=t??0;r<e.length;r++){if(e[r]===10)return{preceding:r,index:r+1,carriage:!1};if(e[r]===13)return{preceding:r,index:r+1,carriage:!0}}return null}function rw(e){for(let o=0;o<e.length-1;o++){if(e[o]===10&&e[o+1]===10||e[o]===13&&e[o+1]===13)return o+2;if(e[o]===13&&e[o+1]===10&&o+3<e.length&&e[o+2]===13&&e[o+3]===10)return o+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Fi={off:0,error:200,warn:300,info:400,debug:500},pf=(e,t,n)=>{if(e){if(b_(Fi,e))return e;Re(n).warn(`${t} was set to ${JSON.stringify(e)}, expected one of ${JSON.stringify(Object.keys(Fi))}`)}};function ko(){}function br(e,t,n){return!t||Fi[e]>Fi[n]?ko:t[e].bind(t)}const iw={error:ko,warn:ko,info:ko,debug:ko};let hf=new WeakMap;function Re(e){var t;const n=e.logger,o=(t=e.logLevel)!==null&&t!==void 0?t:"off";if(!n)return iw;const r=hf.get(n);if(r&&r[0]===o)return r[1];const i={error:br("error",n,o),warn:br("warn",n,o),info:br("info",n,o),debug:br("debug",n,o)};return hf.set(n,[o,i]),i}const dn=e=>(e.options&&(e.options=Object.assign({},e.options),delete e.options.headers),e.headers&&(e.headers=Object.fromEntries((e.headers instanceof Headers?[...e.headers]:Object.entries(e.headers)).map(([t,n])=>[t,t.toLowerCase()==="x-goog-api-key"||t.toLowerCase()==="authorization"||t.toLowerCase()==="cookie"||t.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in e&&(e.retryOfRequestLogID&&(e.retryOf=e.retryOfRequestLogID),delete e.retryOfRequestLogID),e);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class qn{constructor(t,n,o){this.iterator=t,this.controller=n,this.client=o}static fromSSEResponse(t,n,o){let r=!1;const i=o?Re(o):console;function s(){return pt(this,arguments,function*(){var d,c,f,p;if(r)throw new rt("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let h=!1;try{try{for(var g=!0,y=ht(sw(t,n)),T;T=yield z(y.next()),d=T.done,!d;g=!0){p=T.value,g=!1;const x=p;if(!h)if(x.data.startsWith("[DONE]")){h=!0;continue}else try{yield yield z(JSON.parse(x.data))}catch(v){throw i.error("Could not parse message into JSON:",x.data),i.error("From chunk:",x.raw),v}}}catch(x){c={error:x}}finally{try{!g&&!d&&(f=y.return)&&(yield z(f.call(y)))}finally{if(c)throw c.error}}h=!0}catch(x){if(Yl(x))return yield z(void 0);throw x}finally{h||n.abort()}})}return new qn(s,n,o)}static fromReadableStream(t,n,o){let r=!1;function i(){return pt(this,arguments,function*(){var d,c,f,p;const h=new us,g=Mm(t);try{for(var y=!0,T=ht(g),x;x=yield z(T.next()),d=x.done,!d;y=!0){p=x.value,y=!1;const v=p;for(const S of h.decode(v))yield yield z(S)}}catch(v){c={error:v}}finally{try{!y&&!d&&(f=T.return)&&(yield z(f.call(T)))}finally{if(c)throw c.error}}for(const v of h.flush())yield yield z(v)})}function s(){return pt(this,arguments,function*(){var d,c,f,p;if(r)throw new rt("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let h=!1;try{try{for(var g=!0,y=ht(i()),T;T=yield z(y.next()),d=T.done,!d;g=!0){p=T.value,g=!1;const x=p;h||x&&(yield yield z(JSON.parse(x)))}}catch(x){c={error:x}}finally{try{!g&&!d&&(f=y.return)&&(yield z(f.call(y)))}finally{if(c)throw c.error}}h=!0}catch(x){if(Yl(x))return yield z(void 0);throw x}finally{h||n.abort()}})}return new qn(s,n,o)}[Symbol.asyncIterator](){return this.iterator()}tee(){const t=[],n=[],o=this.iterator(),r=i=>({next:()=>{if(i.length===0){const s=o.next();t.push(s),n.push(s)}return i.shift()}});return[new qn(()=>r(t),this.controller,this.client),new qn(()=>r(n),this.controller,this.client)]}toReadableStream(){const t=this;let n;return Pm({async start(){n=t[Symbol.asyncIterator]()},async pull(o){try{const{value:r,done:i}=await n.next();if(i)return o.close();const s=uu(JSON.stringify(r)+`
`);o.enqueue(s)}catch(r){o.error(r)}},async cancel(){var o;await((o=n.return)===null||o===void 0?void 0:o.call(n))}})}}function sw(e,t){return pt(this,arguments,function*(){var o,r,i,s;if(!e.body)throw t.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new rt("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new rt("Attempted to iterate over a response with no body");const u=new aw,d=new us,c=Mm(e.body);try{for(var f=!0,p=ht(lw(c)),h;h=yield z(p.next()),o=h.done,!o;f=!0){s=h.value,f=!1;const g=s;for(const y of d.decode(g)){const T=u.decode(y);T&&(yield yield z(T))}}}catch(g){r={error:g}}finally{try{!f&&!o&&(i=p.return)&&(yield z(i.call(p)))}finally{if(r)throw r.error}}for(const g of d.flush()){const y=u.decode(g);y&&(yield yield z(y))}})}function lw(e){return pt(this,arguments,function*(){var n,o,r,i;let s=new Uint8Array;try{for(var u=!0,d=ht(e),c;c=yield z(d.next()),n=c.done,!n;u=!0){i=c.value,u=!1;const f=i;if(f==null)continue;const p=f instanceof ArrayBuffer?new Uint8Array(f):typeof f=="string"?uu(f):f;let h=new Uint8Array(s.length+p.length);h.set(s),h.set(p,s.length),s=h;let g;for(;(g=rw(s))!==-1;)yield yield z(s.slice(0,g)),s=s.slice(g)}}catch(f){o={error:f}}finally{try{!u&&!n&&(r=d.return)&&(yield z(r.call(d)))}finally{if(o)throw o.error}}s.length>0&&(yield yield z(s))})}class aw{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;const i={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],i}if(this.chunks.push(t),t.startsWith(":"))return null;let[n,o,r]=uw(t,":");return r.startsWith(" ")&&(r=r.substring(1)),n==="event"?this.event=r:n==="data"&&this.data.push(r),null}}function uw(e,t){const n=e.indexOf(t);return n!==-1?[e.substring(0,n),t,e.substring(n+t.length)]:[e,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function cw(e,t){const{response:n,requestLogID:o,retryOfRequestLogID:r,startTime:i}=t,s=await(async()=>{var u;if(t.options.stream)return Re(e).debug("response",n.status,n.url,n.headers,n.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(n,t.controller,e):qn.fromSSEResponse(n,t.controller,e);if(n.status===204)return null;if(t.options.__binaryResponse)return n;const d=n.headers.get("content-type"),c=(u=d==null?void 0:d.split(";")[0])===null||u===void 0?void 0:u.trim();return(c==null?void 0:c.includes("application/json"))||(c==null?void 0:c.endsWith("+json"))?await n.json():await n.text()})();return Re(e).debug(`[${o}] response parsed`,dn({retryOfRequestLogID:r,url:n.url,status:n.status,body:s,durationMs:Date.now()-i})),s}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class cu extends Promise{constructor(t,n,o=cw){super(r=>{r(null)}),this.responsePromise=n,this.parseResponse=o,this.client=t}_thenUnwrap(t){return new cu(this.client,this.responsePromise,async(n,o)=>t(await this.parseResponse(n,o),o))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){const[t,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(t=>this.parseResponse(this.client,t))),this.parsedPromise}then(t,n){return this.parse().then(t,n)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Gm=Symbol("brand.privateNullableHeaders");function*dw(e){if(!e)return;if(Gm in e){const{values:o,nulls:r}=e;yield*o.entries();for(const i of r)yield[i,null];return}let t=!1,n;e instanceof Headers?n=e.entries():af(e)?n=e:(t=!0,n=Object.entries(e??{}));for(let o of n){const r=o[0];if(typeof r!="string")throw new TypeError("expected header name to be a string");const i=af(o[1])?o[1]:[o[1]];let s=!1;for(const u of i)u!==void 0&&(t&&!s&&(s=!0,yield[r,null]),yield[r,u])}}const _o=e=>{const t=new Headers,n=new Set;for(const o of e){const r=new Set;for(const[i,s]of dw(o)){const u=i.toLowerCase();r.has(u)||(t.delete(i),r.add(u)),s===null?(t.delete(i),n.add(u)):(t.append(i,s),n.delete(u))}}return{[Gm]:!0,values:t,nulls:n}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Os=e=>{var t,n,o,r,i,s;if(typeof globalThis.process<"u")return(o=(n=(t=bv)===null||t===void 0?void 0:t[e])===null||n===void 0?void 0:n.trim())!==null&&o!==void 0?o:void 0;if(typeof globalThis.Deno<"u")return(s=(i=(r=globalThis.Deno.env)===null||r===void 0?void 0:r.get)===null||i===void 0?void 0:i.call(r,e))===null||s===void 0?void 0:s.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Hm;class cs{constructor(t){var n,o,r,i,s,u,d,{baseURL:c=Os("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:f=(n=Os("GEMINI_API_KEY"))!==null&&n!==void 0?n:null,apiVersion:p="v1beta"}=t,h=Ui(t,["baseURL","apiKey","apiVersion"]);const g=Object.assign(Object.assign({apiKey:f,apiVersion:p},h),{baseURL:c||"https://generativelanguage.googleapis.com"});this.baseURL=g.baseURL,this.timeout=(o=g.timeout)!==null&&o!==void 0?o:cs.DEFAULT_TIMEOUT,this.logger=(r=g.logger)!==null&&r!==void 0?r:console;const y="warn";this.logLevel=y,this.logLevel=(s=(i=pf(g.logLevel,"ClientOptions.logLevel",this))!==null&&i!==void 0?i:pf(Os("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&s!==void 0?s:y,this.fetchOptions=g.fetchOptions,this.maxRetries=(u=g.maxRetries)!==null&&u!==void 0?u:2,this.fetch=(d=g.fetch)!==null&&d!==void 0?d:$_(),this.encoder=K_,this._options=g,this.apiKey=f,this.apiVersion=p,this.clientAdapter=g.clientAdapter}withOptions(t){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),t))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:t,nulls:n}){if(!(t.has("authorization")||t.has("x-goog-api-key"))&&!(this.apiKey&&t.get("x-goog-api-key"))&&!n.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(t){const n=_o([t.headers]);if(!(n.values.has("authorization")||n.values.has("x-goog-api-key"))){if(this.apiKey)return _o([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return _o([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(t){return Object.entries(t).filter(([n,o])=>typeof o<"u").map(([n,o])=>{if(typeof o=="string"||typeof o=="number"||typeof o=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(o)}`;if(o===null)return`${encodeURIComponent(n)}=`;throw new rt(`Cannot stringify type ${typeof o}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${Rn}`}defaultIdempotencyKey(){return`stainless-node-retry-${P_()}`}makeStatusError(t,n,o,r){return Me.generate(t,n,o,r)}buildURL(t,n,o){const r=!this.baseURLOverridden()&&o||this.baseURL,i=D_(t)?new URL(t):new URL(r+(r.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),s=this.defaultQuery();return F_(s)||(n=Object.assign(Object.assign({},s),n)),typeof n=="object"&&n&&!Array.isArray(n)&&(i.search=this.stringifyQuery(n)),i.toString()}async prepareOptions(t){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!t.path.startsWith(`/${this.apiVersion}/projects/`)){const n=t.path.slice(this.apiVersion.length+1);t.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${n}`}}async prepareRequest(t,{url:n,options:o}){}get(t,n){return this.methodRequest("get",t,n)}post(t,n){return this.methodRequest("post",t,n)}patch(t,n){return this.methodRequest("patch",t,n)}put(t,n){return this.methodRequest("put",t,n)}delete(t,n){return this.methodRequest("delete",t,n)}methodRequest(t,n,o){return this.request(Promise.resolve(o).then(r=>Object.assign({method:t,path:n},r)))}request(t,n=null){return new cu(this,this.makeRequest(t,n,void 0))}async makeRequest(t,n,o){var r,i,s;const u=await t,d=(r=u.maxRetries)!==null&&r!==void 0?r:this.maxRetries;n==null&&(n=d),await this.prepareOptions(u);const{req:c,url:f,timeout:p}=await this.buildRequest(u,{retryCount:d-n});await this.prepareRequest(c,{url:f,options:u});const h="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),g=o===void 0?"":`, retryOf: ${o}`,y=Date.now();if(Re(this).debug(`[${h}] sending request`,dn({retryOfRequestLogID:o,method:u.method,url:f,options:u,headers:c.headers})),!((i=u.signal)===null||i===void 0)&&i.aborted)throw new Xl;const T=new AbortController,x=await this.fetchWithTimeout(f,c,p,T).catch(Ql),v=Date.now();if(x instanceof globalThis.Error){const E=`retrying, ${n} attempts remaining`;if(!((s=u.signal)===null||s===void 0)&&s.aborted)throw new Xl;const C=Yl(x)||/timed? ?out/i.test(String(x)+("cause"in x?String(x.cause):""));if(n)return Re(this).info(`[${h}] connection ${C?"timed out":"failed"} - ${E}`),Re(this).debug(`[${h}] connection ${C?"timed out":"failed"} (${E})`,dn({retryOfRequestLogID:o,url:f,durationMs:v-y,message:x.message})),this.retryRequest(u,n,o??h);throw Re(this).info(`[${h}] connection ${C?"timed out":"failed"} - error; no more retries left`),Re(this).debug(`[${h}] connection ${C?"timed out":"failed"} (error; no more retries left)`,dn({retryOfRequestLogID:o,url:f,durationMs:v-y,message:x.message})),C?new Tm:new as({cause:x})}const S=`[${h}${g}] ${c.method} ${f} ${x.ok?"succeeded":"failed"} with status ${x.status} in ${v-y}ms`;if(!x.ok){const E=await this.shouldRetry(x);if(n&&E){const M=`retrying, ${n} attempts remaining`;return await W_(x.body),Re(this).info(`${S} - ${M}`),Re(this).debug(`[${h}] response error (${M})`,dn({retryOfRequestLogID:o,url:x.url,status:x.status,headers:x.headers,durationMs:v-y})),this.retryRequest(u,n,o??h,x.headers)}const C=E?"error; no more retries left":"error; not retryable";Re(this).info(`${S} - ${C}`);const w=await x.text().catch(M=>Ql(M).message),N=G_(w),I=N?void 0:w;throw Re(this).debug(`[${h}] response error (${C})`,dn({retryOfRequestLogID:o,url:x.url,status:x.status,headers:x.headers,message:I,durationMs:Date.now()-y})),this.makeStatusError(x.status,N,I,x.headers)}return Re(this).info(S),Re(this).debug(`[${h}] response start`,dn({retryOfRequestLogID:o,url:x.url,status:x.status,headers:x.headers,durationMs:v-y})),{response:x,options:u,controller:T,requestLogID:h,retryOfRequestLogID:o,startTime:y}}async fetchWithTimeout(t,n,o,r){const i=n||{},{signal:s,method:u}=i,d=Ui(i,["signal","method"]);s&&s.addEventListener("abort",()=>r.abort());const c=setTimeout(()=>r.abort(),o),f=globalThis.ReadableStream&&d.body instanceof globalThis.ReadableStream||typeof d.body=="object"&&d.body!==null&&Symbol.asyncIterator in d.body,p=Object.assign(Object.assign(Object.assign({signal:r.signal},f?{duplex:"half"}:{}),{method:"GET"}),d);u&&(p.method=u.toUpperCase());try{return await this.fetch.call(void 0,t,p)}finally{clearTimeout(c)}}async shouldRetry(t){const n=t.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,n,o,r){var i;let s;const u=r==null?void 0:r.get("retry-after-ms");if(u){const c=parseFloat(u);Number.isNaN(c)||(s=c)}const d=r==null?void 0:r.get("retry-after");if(d&&!s){const c=parseFloat(d);Number.isNaN(c)?s=Date.parse(d)-Date.now():s=c*1e3}if(!(s&&0<=s&&s<60*1e3)){const c=(i=t.maxRetries)!==null&&i!==void 0?i:this.maxRetries;s=this.calculateDefaultRetryTimeoutMillis(n,c)}return await H_(s),this.makeRequest(t,n-1,o)}calculateDefaultRetryTimeoutMillis(t,n){const i=n-t,s=Math.min(.5*Math.pow(2,i),8),u=1-Math.random()*.25;return s*u*1e3}async buildRequest(t,{retryCount:n=0}={}){var o,r,i;const s=Object.assign({},t),{method:u,path:d,query:c,defaultBaseURL:f}=s,p=this.buildURL(d,c,f);"timeout"in s&&V_("timeout",s.timeout),s.timeout=(o=s.timeout)!==null&&o!==void 0?o:this.timeout;const{bodyHeaders:h,body:g}=this.buildBody({options:s}),y=await this.buildHeaders({options:t,method:u,bodyHeaders:h,retryCount:n});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:u,headers:y},s.signal&&{signal:s.signal}),globalThis.ReadableStream&&g instanceof globalThis.ReadableStream&&{duplex:"half"}),g&&{body:g}),(r=this.fetchOptions)!==null&&r!==void 0?r:{}),(i=s.fetchOptions)!==null&&i!==void 0?i:{}),url:p,timeout:s.timeout}}async buildHeaders({options:t,method:n,bodyHeaders:o,retryCount:r}){let i={};this.idempotencyHeader&&n!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),i[this.idempotencyHeader]=t.idempotencyKey);const s=await this.authHeaders(t);let u=_o([i,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(r)},t.timeout?{"X-Stainless-Timeout":String(Math.trunc(t.timeout/1e3))}:{}),O_()),this._options.defaultHeaders,o,t.headers,s]);return this.validateHeaders(u),u.values}buildBody({options:{body:t,headers:n}}){if(!t)return{bodyHeaders:void 0,body:void 0};const o=_o([n]);return ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof DataView||typeof t=="string"&&o.values.has("content-type")||globalThis.Blob&&t instanceof globalThis.Blob||t instanceof FormData||t instanceof URLSearchParams||globalThis.ReadableStream&&t instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:t}:typeof t=="object"&&(Symbol.asyncIterator in t||Symbol.iterator in t&&"next"in t&&typeof t.next=="function")?{bodyHeaders:void 0,body:J_(t)}:this.encoder({body:t,headers:o})}}cs.DEFAULT_TIMEOUT=6e4;class ye extends cs{constructor(){super(...arguments),this.interactions=new Vm(this)}}Hm=ye;ye.GeminiNextGenAPIClient=Hm;ye.GeminiNextGenAPIClientError=rt;ye.APIError=Me;ye.APIConnectionError=as;ye.APIConnectionTimeoutError=Tm;ye.APIUserAbortError=Xl;ye.NotFoundError=Im;ye.ConflictError=Nm;ye.RateLimitError=Rm;ye.BadRequestError=Cm;ye.AuthenticationError=_m;ye.InternalServerError=km;ye.PermissionDeniedError=wm;ye.UnprocessableEntityError=Am;ye.toFile=j_;ye.Interactions=Vm;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function fw(e,t){const n={},o=l(e,["name"]);return o!=null&&a(n,["_url","name"],o),n}function pw(e,t){const n={},o=l(e,["name"]);return o!=null&&a(n,["_url","name"],o),n}function hw(e,t){const n={},o=l(e,["sdkHttpResponse"]);return o!=null&&a(n,["sdkHttpResponse"],o),n}function mw(e,t){const n={},o=l(e,["sdkHttpResponse"]);return o!=null&&a(n,["sdkHttpResponse"],o),n}function gw(e,t,n){const o={};if(l(e,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const r=l(e,["tunedModelDisplayName"]);if(t!==void 0&&r!=null&&a(t,["displayName"],r),l(e,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const i=l(e,["epochCount"]);t!==void 0&&i!=null&&a(t,["tuningTask","hyperparameters","epochCount"],i);const s=l(e,["learningRateMultiplier"]);if(s!=null&&a(o,["tuningTask","hyperparameters","learningRateMultiplier"],s),l(e,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(l(e,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(l(e,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const u=l(e,["batchSize"]);t!==void 0&&u!=null&&a(t,["tuningTask","hyperparameters","batchSize"],u);const d=l(e,["learningRate"]);if(t!==void 0&&d!=null&&a(t,["tuningTask","hyperparameters","learningRate"],d),l(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(l(e,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return o}function yw(e,t,n){const o={};let r=l(n,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const g=l(e,["validationDataset"]);t!==void 0&&g!=null&&a(t,["supervisedTuningSpec"],mf(g))}else if(r==="PREFERENCE_TUNING"){const g=l(e,["validationDataset"]);t!==void 0&&g!=null&&a(t,["preferenceOptimizationSpec"],mf(g))}const i=l(e,["tunedModelDisplayName"]);t!==void 0&&i!=null&&a(t,["tunedModelDisplayName"],i);const s=l(e,["description"]);t!==void 0&&s!=null&&a(t,["description"],s);let u=l(n,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const g=l(e,["epochCount"]);t!==void 0&&g!=null&&a(t,["supervisedTuningSpec","hyperParameters","epochCount"],g)}else if(u==="PREFERENCE_TUNING"){const g=l(e,["epochCount"]);t!==void 0&&g!=null&&a(t,["preferenceOptimizationSpec","hyperParameters","epochCount"],g)}let d=l(n,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const g=l(e,["learningRateMultiplier"]);t!==void 0&&g!=null&&a(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],g)}else if(d==="PREFERENCE_TUNING"){const g=l(e,["learningRateMultiplier"]);t!==void 0&&g!=null&&a(t,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],g)}let c=l(n,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const g=l(e,["exportLastCheckpointOnly"]);t!==void 0&&g!=null&&a(t,["supervisedTuningSpec","exportLastCheckpointOnly"],g)}else if(c==="PREFERENCE_TUNING"){const g=l(e,["exportLastCheckpointOnly"]);t!==void 0&&g!=null&&a(t,["preferenceOptimizationSpec","exportLastCheckpointOnly"],g)}let f=l(n,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const g=l(e,["adapterSize"]);t!==void 0&&g!=null&&a(t,["supervisedTuningSpec","hyperParameters","adapterSize"],g)}else if(f==="PREFERENCE_TUNING"){const g=l(e,["adapterSize"]);t!==void 0&&g!=null&&a(t,["preferenceOptimizationSpec","hyperParameters","adapterSize"],g)}if(l(e,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(l(e,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const p=l(e,["labels"]);t!==void 0&&p!=null&&a(t,["labels"],p);const h=l(e,["beta"]);return t!==void 0&&h!=null&&a(t,["preferenceOptimizationSpec","hyperParameters","beta"],h),o}function vw(e,t){const n={},o=l(e,["baseModel"]);o!=null&&a(n,["baseModel"],o);const r=l(e,["preTunedModel"]);r!=null&&a(n,["preTunedModel"],r);const i=l(e,["trainingDataset"]);i!=null&&Rw(i);const s=l(e,["config"]);return s!=null&&gw(s,n),n}function xw(e,t){const n={},o=l(e,["baseModel"]);o!=null&&a(n,["baseModel"],o);const r=l(e,["preTunedModel"]);r!=null&&a(n,["preTunedModel"],r);const i=l(e,["trainingDataset"]);i!=null&&kw(i,n,t);const s=l(e,["config"]);return s!=null&&yw(s,n,t),n}function Sw(e,t){const n={},o=l(e,["name"]);return o!=null&&a(n,["_url","name"],o),n}function Ew(e,t){const n={},o=l(e,["name"]);return o!=null&&a(n,["_url","name"],o),n}function Tw(e,t,n){const o={},r=l(e,["pageSize"]);t!==void 0&&r!=null&&a(t,["_query","pageSize"],r);const i=l(e,["pageToken"]);t!==void 0&&i!=null&&a(t,["_query","pageToken"],i);const s=l(e,["filter"]);return t!==void 0&&s!=null&&a(t,["_query","filter"],s),o}function Cw(e,t,n){const o={},r=l(e,["pageSize"]);t!==void 0&&r!=null&&a(t,["_query","pageSize"],r);const i=l(e,["pageToken"]);t!==void 0&&i!=null&&a(t,["_query","pageToken"],i);const s=l(e,["filter"]);return t!==void 0&&s!=null&&a(t,["_query","filter"],s),o}function _w(e,t){const n={},o=l(e,["config"]);return o!=null&&Tw(o,n),n}function ww(e,t){const n={},o=l(e,["config"]);return o!=null&&Cw(o,n),n}function Iw(e,t){const n={},o=l(e,["sdkHttpResponse"]);o!=null&&a(n,["sdkHttpResponse"],o);const r=l(e,["nextPageToken"]);r!=null&&a(n,["nextPageToken"],r);const i=l(e,["tunedModels"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(u=>Bm(u))),a(n,["tuningJobs"],s)}return n}function Nw(e,t){const n={},o=l(e,["sdkHttpResponse"]);o!=null&&a(n,["sdkHttpResponse"],o);const r=l(e,["nextPageToken"]);r!=null&&a(n,["nextPageToken"],r);const i=l(e,["tuningJobs"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(u=>ea(u))),a(n,["tuningJobs"],s)}return n}function Aw(e,t){const n={},o=l(e,["name"]);o!=null&&a(n,["model"],o);const r=l(e,["name"]);return r!=null&&a(n,["endpoint"],r),n}function Rw(e,t){const n={};if(l(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(l(e,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const o=l(e,["examples"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(i=>i)),a(n,["examples","examples"],r)}return n}function kw(e,t,n){const o={};let r=l(n,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const s=l(e,["gcsUri"]);t!==void 0&&s!=null&&a(t,["supervisedTuningSpec","trainingDatasetUri"],s)}else if(r==="PREFERENCE_TUNING"){const s=l(e,["gcsUri"]);t!==void 0&&s!=null&&a(t,["preferenceOptimizationSpec","trainingDatasetUri"],s)}let i=l(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const s=l(e,["vertexDatasetResource"]);t!==void 0&&s!=null&&a(t,["supervisedTuningSpec","trainingDatasetUri"],s)}else if(i==="PREFERENCE_TUNING"){const s=l(e,["vertexDatasetResource"]);t!==void 0&&s!=null&&a(t,["preferenceOptimizationSpec","trainingDatasetUri"],s)}if(l(e,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return o}function Bm(e,t){const n={},o=l(e,["sdkHttpResponse"]);o!=null&&a(n,["sdkHttpResponse"],o);const r=l(e,["name"]);r!=null&&a(n,["name"],r);const i=l(e,["state"]);i!=null&&a(n,["state"],om(i));const s=l(e,["createTime"]);s!=null&&a(n,["createTime"],s);const u=l(e,["tuningTask","startTime"]);u!=null&&a(n,["startTime"],u);const d=l(e,["tuningTask","completeTime"]);d!=null&&a(n,["endTime"],d);const c=l(e,["updateTime"]);c!=null&&a(n,["updateTime"],c);const f=l(e,["description"]);f!=null&&a(n,["description"],f);const p=l(e,["baseModel"]);p!=null&&a(n,["baseModel"],p);const h=l(e,["_self"]);return h!=null&&a(n,["tunedModel"],Aw(h)),n}function ea(e,t){const n={},o=l(e,["sdkHttpResponse"]);o!=null&&a(n,["sdkHttpResponse"],o);const r=l(e,["name"]);r!=null&&a(n,["name"],r);const i=l(e,["state"]);i!=null&&a(n,["state"],om(i));const s=l(e,["createTime"]);s!=null&&a(n,["createTime"],s);const u=l(e,["startTime"]);u!=null&&a(n,["startTime"],u);const d=l(e,["endTime"]);d!=null&&a(n,["endTime"],d);const c=l(e,["updateTime"]);c!=null&&a(n,["updateTime"],c);const f=l(e,["error"]);f!=null&&a(n,["error"],f);const p=l(e,["description"]);p!=null&&a(n,["description"],p);const h=l(e,["baseModel"]);h!=null&&a(n,["baseModel"],h);const g=l(e,["tunedModel"]);g!=null&&a(n,["tunedModel"],g);const y=l(e,["preTunedModel"]);y!=null&&a(n,["preTunedModel"],y);const T=l(e,["supervisedTuningSpec"]);T!=null&&a(n,["supervisedTuningSpec"],T);const x=l(e,["preferenceOptimizationSpec"]);x!=null&&a(n,["preferenceOptimizationSpec"],x);const v=l(e,["tuningDataStats"]);v!=null&&a(n,["tuningDataStats"],v);const S=l(e,["encryptionSpec"]);S!=null&&a(n,["encryptionSpec"],S);const E=l(e,["partnerModelTuningSpec"]);E!=null&&a(n,["partnerModelTuningSpec"],E);const C=l(e,["customBaseModel"]);C!=null&&a(n,["customBaseModel"],C);const w=l(e,["experiment"]);w!=null&&a(n,["experiment"],w);const N=l(e,["labels"]);N!=null&&a(n,["labels"],N);const I=l(e,["outputUri"]);I!=null&&a(n,["outputUri"],I);const P=l(e,["pipelineJob"]);P!=null&&a(n,["pipelineJob"],P);const M=l(e,["serviceAccount"]);M!=null&&a(n,["serviceAccount"],M);const k=l(e,["tunedModelDisplayName"]);k!=null&&a(n,["tunedModelDisplayName"],k);const A=l(e,["veoTuningSpec"]);return A!=null&&a(n,["veoTuningSpec"],A),n}function Pw(e,t){const n={},o=l(e,["sdkHttpResponse"]);o!=null&&a(n,["sdkHttpResponse"],o);const r=l(e,["name"]);r!=null&&a(n,["name"],r);const i=l(e,["metadata"]);i!=null&&a(n,["metadata"],i);const s=l(e,["done"]);s!=null&&a(n,["done"],s);const u=l(e,["error"]);return u!=null&&a(n,["error"],u),n}function mf(e,t){const n={},o=l(e,["gcsUri"]);o!=null&&a(n,["validationDatasetUri"],o);const r=l(e,["vertexDatasetResource"]);return r!=null&&a(n,["validationDatasetUri"],r),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Mw extends Vt{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new Nn(Ft.PAGED_ITEM_TUNING_JOBS,o=>this.listInternal(o),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var o;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const r={tunedModelName:n.baseModel};!((o=n.config)===null||o===void 0)&&o.preTunedModelCheckpointId&&(r.checkpointId=n.config.preTunedModelCheckpointId);const i=Object.assign(Object.assign({},n),{preTunedModel:r});return i.baseModel=void 0,await this.tuneInternal(i)}else{const r=Object.assign({},n);return await this.tuneInternal(r)}else{const r=Object.assign({},n),i=await this.tuneMldevInternal(r);let s="";return i.metadata!==void 0&&i.metadata.tunedModel!==void 0?s=i.metadata.tunedModel:i.name!==void 0&&i.name.includes("/operations/")&&(s=i.name.split("/operations/")[0]),{name:s,state:zl.JOB_STATE_QUEUED}}}}async getInternal(t){var n,o,r,i;let s,u="",d={};if(this.apiClient.isVertexAI()){const c=Ew(t);return u=L("{name}",c._url),d=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>ea(f))}else{const c=Sw(t);return u=L("{name}",c._url),d=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>Bm(f))}}async listInternal(t){var n,o,r,i;let s,u="",d={};if(this.apiClient.isVertexAI()){const c=ww(t);return u=L("tuningJobs",c._url),d=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{const p=Nw(f),h=new Hd;return Object.assign(h,p),h})}else{const c=_w(t);return u=L("tunedModels",c._url),d=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{const p=Iw(f),h=new Hd;return Object.assign(h,p),h})}}async cancel(t){var n,o,r,i;let s,u="",d={};if(this.apiClient.isVertexAI()){const c=pw(t);return u=L("{name}:cancel",c._url),d=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{const p=mw(f),h=new Bd;return Object.assign(h,p),h})}else{const c=fw(t);return u=L("{name}:cancel",c._url),d=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{const p=hw(f),h=new Bd;return Object.assign(h,p),h})}}async tuneInternal(t){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI()){const u=xw(t,t);return i=L("tuningJobs",u._url),s=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(c=>{const f=c;return f.sdkHttpResponse={headers:d.headers},f})),r.then(d=>ea(d))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(t){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=vw(t);return i=L("tunedModels",u._url),s=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(c=>{const f=c;return f.sdkHttpResponse={headers:d.headers},f})),r.then(d=>Pw(d))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Dw{async download(t,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const Lw=1024*1024*8,Uw=3,Fw=1e3,bw=2,bi="x-goog-upload-status";async function Vw(e,t,n){var o;const r=await zm(e,t,n),i=await(r==null?void 0:r.json());if(((o=r==null?void 0:r.headers)===null||o===void 0?void 0:o[bi])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return i.file}async function Gw(e,t,n){var o;const r=await zm(e,t,n),i=await(r==null?void 0:r.json());if(((o=r==null?void 0:r.headers)===null||o===void 0?void 0:o[bi])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const s=Xh(i),u=new ou;return Object.assign(u,s),u}async function zm(e,t,n){var o,r;let i=0,s=0,u=new ql(new Response),d="upload";for(i=e.size;s<i;){const c=Math.min(Lw,i-s),f=e.slice(s,s+c);s+c>=i&&(d+=", finalize");let p=0,h=Fw;for(;p<Uw&&(u=await n.request({path:"",body:f,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":d,"X-Goog-Upload-Offset":String(s),"Content-Length":String(c)}}}),!(!((o=u==null?void 0:u.headers)===null||o===void 0)&&o[bi]));)p++,await Bw(h),h=h*bw;if(s+=c,((r=u==null?void 0:u.headers)===null||r===void 0?void 0:r[bi])!=="active")break;if(i<=s)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return u}async function Hw(e){return{size:e.size,type:e.type}}function Bw(e){return new Promise(t=>setTimeout(t,e))}class zw{async upload(t,n,o){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await Vw(t,n,o)}async uploadToFileSearchStore(t,n,o){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await Gw(t,n,o)}async stat(t){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await Hw(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class qw{create(t,n,o){return new Ow(t,n,o)}}class Ow{constructor(t,n,o){this.url=t,this.headers=n,this.callbacks=o}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(t){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(t)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const gf="x-goog-api-key";class $w{constructor(t){this.apiKey=t}async addAuthHeaders(t,n){if(t.get(gf)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");t.append(gf,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Jw="gl-node/";class Ww{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const t=this.httpOptions;t!=null&&t.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const n=new ye({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:t==null?void 0:t.timeout});return this._interactions=n.interactions,this._interactions}constructor(t){var n;if(t.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(t.project||t.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=t.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=t.apiKey;const o=Bv(t.httpOptions,t.vertexai,void 0,void 0);o&&(t.httpOptions?t.httpOptions.baseUrl=o:t.httpOptions={baseUrl:o}),this.apiVersion=t.apiVersion,this.httpOptions=t.httpOptions;const r=new $w(this.apiKey);this.apiClient=new HC({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:Jw+"web",uploader:new zw,downloader:new Dw}),this.models=new i_(this.apiClient),this.live=new jC(this.apiClient,r,new qw),this.batches=new gS(this.apiClient),this.chats=new XS(this.models,this.apiClient),this.caches=new KS(this.apiClient),this.files=new lE(this.apiClient),this.operations=new s_(this.apiClient),this.authTokens=new T_(this.apiClient),this.tunings=new Mw(this.apiClient),this.fileSearchStores=new k_(this.apiClient)}}const du="gemini-2.5-flash-preview-09-2025",fu=()=>{const n=(typeof window<"u"?localStorage.getItem("GEMINI_API_KEY"):null)||void 0;if(!n)throw new Error("MISSING_API_KEY");return new Ww({apiKey:n})},Kw=async e=>{const t=["","","","","","","","","","","","","","","",""],n=`${e}
1. (address) - 
2. (addressKR, Naver Map) - 
3. (category)
4. (budget, , : 15,000)`,o={type:$e.OBJECT,properties:{address:{type:$e.STRING},addressKR:{type:$e.STRING},category:{type:$e.STRING,enum:t},budget:{type:$e.STRING}},required:["address","addressKR","category","budget"]};try{const i=await fu().models.generateContent({model:du,contents:n,config:{responseMimeType:"application/json",responseSchema:o,thinkingConfig:{thinkingBudget:0}}});return JSON.parse(i.text||"{}")}catch(r){return console.error("Gemini Place Details Error:",r),r.message==="MISSING_API_KEY"&&alert(" Gemini API Key  AI "),{}}},Yw=async e=>{const t=`${e}1.  2.  80 `;try{return(await fu().models.generateContent({model:du,contents:t,config:{thinkingConfig:{thinkingBudget:0}}})).text||"AI "}catch(n){return console.error("Gemini Insight Error:",n),n.message==="MISSING_API_KEY"?" API Key ":"AI "}},Qw=async(e,t)=>{const n=e.join(" -> ");let o=n.length===0?" 3 ":` Day ${t}${n}50`;try{return(await fu().models.generateContent({model:du,contents:o,config:{thinkingConfig:{thinkingBudget:0}}})).text||""}catch(r){return console.error("Gemini Suggestion Error:",r),r.message==="MISSING_API_KEY"?" API Key":"AI "}};function qm(e,t){return function(){return e.apply(t,arguments)}}const{toString:Xw}=Object.prototype,{getPrototypeOf:pu}=Object,{iterator:ds,toStringTag:Om}=Symbol,fs=(e=>t=>{const n=Xw.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),yt=e=>(e=e.toLowerCase(),t=>fs(t)===e),ps=e=>t=>typeof t===e,{isArray:po}=Array,io=ps("undefined");function ur(e){return e!==null&&!io(e)&&e.constructor!==null&&!io(e.constructor)&&He(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const $m=yt("ArrayBuffer");function Zw(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&$m(e.buffer),t}const jw=ps("string"),He=ps("function"),Jm=ps("number"),cr=e=>e!==null&&typeof e=="object",e1=e=>e===!0||e===!1,ei=e=>{if(fs(e)!=="object")return!1;const t=pu(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Om in e)&&!(ds in e)},t1=e=>{if(!cr(e)||ur(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},n1=yt("Date"),o1=yt("File"),r1=yt("Blob"),i1=yt("FileList"),s1=e=>cr(e)&&He(e.pipe),l1=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||He(e.append)&&((t=fs(e))==="formdata"||t==="object"&&He(e.toString)&&e.toString()==="[object FormData]"))},a1=yt("URLSearchParams"),[u1,c1,d1,f1]=["ReadableStream","Request","Response","Headers"].map(yt),p1=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function dr(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let o,r;if(typeof e!="object"&&(e=[e]),po(e))for(o=0,r=e.length;o<r;o++)t.call(null,e[o],o,e);else{if(ur(e))return;const i=n?Object.getOwnPropertyNames(e):Object.keys(e),s=i.length;let u;for(o=0;o<s;o++)u=i[o],t.call(null,e[u],u,e)}}function Wm(e,t){if(ur(e))return null;t=t.toLowerCase();const n=Object.keys(e);let o=n.length,r;for(;o-- >0;)if(r=n[o],t===r.toLowerCase())return r;return null}const mn=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Km=e=>!io(e)&&e!==mn;function ta(){const{caseless:e,skipUndefined:t}=Km(this)&&this||{},n={},o=(r,i)=>{const s=e&&Wm(n,i)||i;ei(n[s])&&ei(r)?n[s]=ta(n[s],r):ei(r)?n[s]=ta({},r):po(r)?n[s]=r.slice():(!t||!io(r))&&(n[s]=r)};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&dr(arguments[r],o);return n}const h1=(e,t,n,{allOwnKeys:o}={})=>(dr(t,(r,i)=>{n&&He(r)?e[i]=qm(r,n):e[i]=r},{allOwnKeys:o}),e),m1=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),g1=(e,t,n,o)=>{e.prototype=Object.create(t.prototype,o),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},y1=(e,t,n,o)=>{let r,i,s;const u={};if(t=t||{},e==null)return t;do{for(r=Object.getOwnPropertyNames(e),i=r.length;i-- >0;)s=r[i],(!o||o(s,e,t))&&!u[s]&&(t[s]=e[s],u[s]=!0);e=n!==!1&&pu(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},v1=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const o=e.indexOf(t,n);return o!==-1&&o===n},x1=e=>{if(!e)return null;if(po(e))return e;let t=e.length;if(!Jm(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},S1=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&pu(Uint8Array)),E1=(e,t)=>{const o=(e&&e[ds]).call(e);let r;for(;(r=o.next())&&!r.done;){const i=r.value;t.call(e,i[0],i[1])}},T1=(e,t)=>{let n;const o=[];for(;(n=e.exec(t))!==null;)o.push(n);return o},C1=yt("HTMLFormElement"),_1=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,o,r){return o.toUpperCase()+r}),yf=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),w1=yt("RegExp"),Ym=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),o={};dr(n,(r,i)=>{let s;(s=t(r,i,e))!==!1&&(o[i]=s||r)}),Object.defineProperties(e,o)},I1=e=>{Ym(e,(t,n)=>{if(He(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const o=e[n];if(He(o)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},N1=(e,t)=>{const n={},o=r=>{r.forEach(i=>{n[i]=!0})};return po(e)?o(e):o(String(e).split(t)),n},A1=()=>{},R1=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function k1(e){return!!(e&&He(e.append)&&e[Om]==="FormData"&&e[ds])}const P1=e=>{const t=new Array(10),n=(o,r)=>{if(cr(o)){if(t.indexOf(o)>=0)return;if(ur(o))return o;if(!("toJSON"in o)){t[r]=o;const i=po(o)?[]:{};return dr(o,(s,u)=>{const d=n(s,r+1);!io(d)&&(i[u]=d)}),t[r]=void 0,i}}return o};return n(e,0)},M1=yt("AsyncFunction"),D1=e=>e&&(cr(e)||He(e))&&He(e.then)&&He(e.catch),Qm=((e,t)=>e?setImmediate:t?((n,o)=>(mn.addEventListener("message",({source:r,data:i})=>{r===mn&&i===n&&o.length&&o.shift()()},!1),r=>{o.push(r),mn.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",He(mn.postMessage)),L1=typeof queueMicrotask<"u"?queueMicrotask.bind(mn):typeof process<"u"&&process.nextTick||Qm,U1=e=>e!=null&&He(e[ds]),_={isArray:po,isArrayBuffer:$m,isBuffer:ur,isFormData:l1,isArrayBufferView:Zw,isString:jw,isNumber:Jm,isBoolean:e1,isObject:cr,isPlainObject:ei,isEmptyObject:t1,isReadableStream:u1,isRequest:c1,isResponse:d1,isHeaders:f1,isUndefined:io,isDate:n1,isFile:o1,isBlob:r1,isRegExp:w1,isFunction:He,isStream:s1,isURLSearchParams:a1,isTypedArray:S1,isFileList:i1,forEach:dr,merge:ta,extend:h1,trim:p1,stripBOM:m1,inherits:g1,toFlatObject:y1,kindOf:fs,kindOfTest:yt,endsWith:v1,toArray:x1,forEachEntry:E1,matchAll:T1,isHTMLForm:C1,hasOwnProperty:yf,hasOwnProp:yf,reduceDescriptors:Ym,freezeMethods:I1,toObjectSet:N1,toCamelCase:_1,noop:A1,toFiniteNumber:R1,findKey:Wm,global:mn,isContextDefined:Km,isSpecCompliantForm:k1,toJSONObject:P1,isAsyncFn:M1,isThenable:D1,setImmediate:Qm,asap:L1,isIterable:U1};function $(e,t,n,o,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),o&&(this.request=o),r&&(this.response=r,this.status=r.status?r.status:null)}_.inherits($,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:_.toJSONObject(this.config),code:this.code,status:this.status}}});const Xm=$.prototype,Zm={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Zm[e]={value:e}});Object.defineProperties($,Zm);Object.defineProperty(Xm,"isAxiosError",{value:!0});$.from=(e,t,n,o,r,i)=>{const s=Object.create(Xm);_.toFlatObject(e,s,function(f){return f!==Error.prototype},c=>c!=="isAxiosError");const u=e&&e.message?e.message:"Error",d=t==null&&e?e.code:t;return $.call(s,u,d,n,o,r),e&&s.cause==null&&Object.defineProperty(s,"cause",{value:e,configurable:!0}),s.name=e&&e.name||"Error",i&&Object.assign(s,i),s};const F1=null;function na(e){return _.isPlainObject(e)||_.isArray(e)}function jm(e){return _.endsWith(e,"[]")?e.slice(0,-2):e}function vf(e,t,n){return e?e.concat(t).map(function(r,i){return r=jm(r),!n&&i?"["+r+"]":r}).join(n?".":""):t}function b1(e){return _.isArray(e)&&!e.some(na)}const V1=_.toFlatObject(_,{},null,function(t){return/^is[A-Z]/.test(t)});function hs(e,t,n){if(!_.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=_.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(T,x){return!_.isUndefined(x[T])});const o=n.metaTokens,r=n.visitor||f,i=n.dots,s=n.indexes,d=(n.Blob||typeof Blob<"u"&&Blob)&&_.isSpecCompliantForm(t);if(!_.isFunction(r))throw new TypeError("visitor must be a function");function c(y){if(y===null)return"";if(_.isDate(y))return y.toISOString();if(_.isBoolean(y))return y.toString();if(!d&&_.isBlob(y))throw new $("Blob is not supported. Use a Buffer instead.");return _.isArrayBuffer(y)||_.isTypedArray(y)?d&&typeof Blob=="function"?new Blob([y]):Buffer.from(y):y}function f(y,T,x){let v=y;if(y&&!x&&typeof y=="object"){if(_.endsWith(T,"{}"))T=o?T:T.slice(0,-2),y=JSON.stringify(y);else if(_.isArray(y)&&b1(y)||(_.isFileList(y)||_.endsWith(T,"[]"))&&(v=_.toArray(y)))return T=jm(T),v.forEach(function(E,C){!(_.isUndefined(E)||E===null)&&t.append(s===!0?vf([T],C,i):s===null?T:T+"[]",c(E))}),!1}return na(y)?!0:(t.append(vf(x,T,i),c(y)),!1)}const p=[],h=Object.assign(V1,{defaultVisitor:f,convertValue:c,isVisitable:na});function g(y,T){if(!_.isUndefined(y)){if(p.indexOf(y)!==-1)throw Error("Circular reference detected in "+T.join("."));p.push(y),_.forEach(y,function(v,S){(!(_.isUndefined(v)||v===null)&&r.call(t,v,_.isString(S)?S.trim():S,T,h))===!0&&g(v,T?T.concat(S):[S])}),p.pop()}}if(!_.isObject(e))throw new TypeError("data must be an object");return g(e),t}function xf(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(o){return t[o]})}function hu(e,t){this._pairs=[],e&&hs(e,this,t)}const eg=hu.prototype;eg.append=function(t,n){this._pairs.push([t,n])};eg.toString=function(t){const n=t?function(o){return t.call(this,o,xf)}:xf;return this._pairs.map(function(r){return n(r[0])+"="+n(r[1])},"").join("&")};function G1(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function tg(e,t,n){if(!t)return e;const o=n&&n.encode||G1;_.isFunction(n)&&(n={serialize:n});const r=n&&n.serialize;let i;if(r?i=r(t,n):i=_.isURLSearchParams(t)?t.toString():new hu(t,n).toString(o),i){const s=e.indexOf("#");s!==-1&&(e=e.slice(0,s)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class Sf{constructor(){this.handlers=[]}use(t,n,o){return this.handlers.push({fulfilled:t,rejected:n,synchronous:o?o.synchronous:!1,runWhen:o?o.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){_.forEach(this.handlers,function(o){o!==null&&t(o)})}}const ng={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},H1=typeof URLSearchParams<"u"?URLSearchParams:hu,B1=typeof FormData<"u"?FormData:null,z1=typeof Blob<"u"?Blob:null,q1={isBrowser:!0,classes:{URLSearchParams:H1,FormData:B1,Blob:z1},protocols:["http","https","file","blob","url","data"]},mu=typeof window<"u"&&typeof document<"u",oa=typeof navigator=="object"&&navigator||void 0,O1=mu&&(!oa||["ReactNative","NativeScript","NS"].indexOf(oa.product)<0),$1=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",J1=mu&&window.location.href||"http://localhost",W1=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:mu,hasStandardBrowserEnv:O1,hasStandardBrowserWebWorkerEnv:$1,navigator:oa,origin:J1},Symbol.toStringTag,{value:"Module"})),_e={...W1,...q1};function K1(e,t){return hs(e,new _e.classes.URLSearchParams,{visitor:function(n,o,r,i){return _e.isNode&&_.isBuffer(n)?(this.append(o,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...t})}function Y1(e){return _.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Q1(e){const t={},n=Object.keys(e);let o;const r=n.length;let i;for(o=0;o<r;o++)i=n[o],t[i]=e[i];return t}function og(e){function t(n,o,r,i){let s=n[i++];if(s==="__proto__")return!0;const u=Number.isFinite(+s),d=i>=n.length;return s=!s&&_.isArray(r)?r.length:s,d?(_.hasOwnProp(r,s)?r[s]=[r[s],o]:r[s]=o,!u):((!r[s]||!_.isObject(r[s]))&&(r[s]=[]),t(n,o,r[s],i)&&_.isArray(r[s])&&(r[s]=Q1(r[s])),!u)}if(_.isFormData(e)&&_.isFunction(e.entries)){const n={};return _.forEachEntry(e,(o,r)=>{t(Y1(o),r,n,0)}),n}return null}function X1(e,t,n){if(_.isString(e))try{return(t||JSON.parse)(e),_.trim(e)}catch(o){if(o.name!=="SyntaxError")throw o}return(n||JSON.stringify)(e)}const fr={transitional:ng,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const o=n.getContentType()||"",r=o.indexOf("application/json")>-1,i=_.isObject(t);if(i&&_.isHTMLForm(t)&&(t=new FormData(t)),_.isFormData(t))return r?JSON.stringify(og(t)):t;if(_.isArrayBuffer(t)||_.isBuffer(t)||_.isStream(t)||_.isFile(t)||_.isBlob(t)||_.isReadableStream(t))return t;if(_.isArrayBufferView(t))return t.buffer;if(_.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let u;if(i){if(o.indexOf("application/x-www-form-urlencoded")>-1)return K1(t,this.formSerializer).toString();if((u=_.isFileList(t))||o.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return hs(u?{"files[]":t}:t,d&&new d,this.formSerializer)}}return i||r?(n.setContentType("application/json",!1),X1(t)):t}],transformResponse:[function(t){const n=this.transitional||fr.transitional,o=n&&n.forcedJSONParsing,r=this.responseType==="json";if(_.isResponse(t)||_.isReadableStream(t))return t;if(t&&_.isString(t)&&(o&&!this.responseType||r)){const s=!(n&&n.silentJSONParsing)&&r;try{return JSON.parse(t,this.parseReviver)}catch(u){if(s)throw u.name==="SyntaxError"?$.from(u,$.ERR_BAD_RESPONSE,this,null,this.response):u}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:_e.classes.FormData,Blob:_e.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};_.forEach(["delete","get","head","post","put","patch"],e=>{fr.headers[e]={}});const Z1=_.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),j1=e=>{const t={};let n,o,r;return e&&e.split(`
`).forEach(function(s){r=s.indexOf(":"),n=s.substring(0,r).trim().toLowerCase(),o=s.substring(r+1).trim(),!(!n||t[n]&&Z1[n])&&(n==="set-cookie"?t[n]?t[n].push(o):t[n]=[o]:t[n]=t[n]?t[n]+", "+o:o)}),t},Ef=Symbol("internals");function wo(e){return e&&String(e).trim().toLowerCase()}function ti(e){return e===!1||e==null?e:_.isArray(e)?e.map(ti):String(e)}function eI(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let o;for(;o=n.exec(e);)t[o[1]]=o[2];return t}const tI=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function $s(e,t,n,o,r){if(_.isFunction(o))return o.call(this,t,n);if(r&&(t=n),!!_.isString(t)){if(_.isString(o))return t.indexOf(o)!==-1;if(_.isRegExp(o))return o.test(t)}}function nI(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,o)=>n.toUpperCase()+o)}function oI(e,t){const n=_.toCamelCase(" "+t);["get","set","has"].forEach(o=>{Object.defineProperty(e,o+n,{value:function(r,i,s){return this[o].call(this,t,r,i,s)},configurable:!0})})}let Be=class{constructor(t){t&&this.set(t)}set(t,n,o){const r=this;function i(u,d,c){const f=wo(d);if(!f)throw new Error("header name must be a non-empty string");const p=_.findKey(r,f);(!p||r[p]===void 0||c===!0||c===void 0&&r[p]!==!1)&&(r[p||d]=ti(u))}const s=(u,d)=>_.forEach(u,(c,f)=>i(c,f,d));if(_.isPlainObject(t)||t instanceof this.constructor)s(t,n);else if(_.isString(t)&&(t=t.trim())&&!tI(t))s(j1(t),n);else if(_.isObject(t)&&_.isIterable(t)){let u={},d,c;for(const f of t){if(!_.isArray(f))throw TypeError("Object iterator must return a key-value pair");u[c=f[0]]=(d=u[c])?_.isArray(d)?[...d,f[1]]:[d,f[1]]:f[1]}s(u,n)}else t!=null&&i(n,t,o);return this}get(t,n){if(t=wo(t),t){const o=_.findKey(this,t);if(o){const r=this[o];if(!n)return r;if(n===!0)return eI(r);if(_.isFunction(n))return n.call(this,r,o);if(_.isRegExp(n))return n.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=wo(t),t){const o=_.findKey(this,t);return!!(o&&this[o]!==void 0&&(!n||$s(this,this[o],o,n)))}return!1}delete(t,n){const o=this;let r=!1;function i(s){if(s=wo(s),s){const u=_.findKey(o,s);u&&(!n||$s(o,o[u],u,n))&&(delete o[u],r=!0)}}return _.isArray(t)?t.forEach(i):i(t),r}clear(t){const n=Object.keys(this);let o=n.length,r=!1;for(;o--;){const i=n[o];(!t||$s(this,this[i],i,t,!0))&&(delete this[i],r=!0)}return r}normalize(t){const n=this,o={};return _.forEach(this,(r,i)=>{const s=_.findKey(o,i);if(s){n[s]=ti(r),delete n[i];return}const u=t?nI(i):String(i).trim();u!==i&&delete n[i],n[u]=ti(r),o[u]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return _.forEach(this,(o,r)=>{o!=null&&o!==!1&&(n[r]=t&&_.isArray(o)?o.join(", "):o)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const o=new this(t);return n.forEach(r=>o.set(r)),o}static accessor(t){const o=(this[Ef]=this[Ef]={accessors:{}}).accessors,r=this.prototype;function i(s){const u=wo(s);o[u]||(oI(r,s),o[u]=!0)}return _.isArray(t)?t.forEach(i):i(t),this}};Be.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);_.reduceDescriptors(Be.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(o){this[n]=o}}});_.freezeMethods(Be);function Js(e,t){const n=this||fr,o=t||n,r=Be.from(o.headers);let i=o.data;return _.forEach(e,function(u){i=u.call(n,i,r.normalize(),t?t.status:void 0)}),r.normalize(),i}function rg(e){return!!(e&&e.__CANCEL__)}function ho(e,t,n){$.call(this,e??"canceled",$.ERR_CANCELED,t,n),this.name="CanceledError"}_.inherits(ho,$,{__CANCEL__:!0});function ig(e,t,n){const o=n.config.validateStatus;!n.status||!o||o(n.status)?e(n):t(new $("Request failed with status code "+n.status,[$.ERR_BAD_REQUEST,$.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function rI(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function iI(e,t){e=e||10;const n=new Array(e),o=new Array(e);let r=0,i=0,s;return t=t!==void 0?t:1e3,function(d){const c=Date.now(),f=o[i];s||(s=c),n[r]=d,o[r]=c;let p=i,h=0;for(;p!==r;)h+=n[p++],p=p%e;if(r=(r+1)%e,r===i&&(i=(i+1)%e),c-s<t)return;const g=f&&c-f;return g?Math.round(h*1e3/g):void 0}}function sI(e,t){let n=0,o=1e3/t,r,i;const s=(c,f=Date.now())=>{n=f,r=null,i&&(clearTimeout(i),i=null),e(...c)};return[(...c)=>{const f=Date.now(),p=f-n;p>=o?s(c,f):(r=c,i||(i=setTimeout(()=>{i=null,s(r)},o-p)))},()=>r&&s(r)]}const Vi=(e,t,n=3)=>{let o=0;const r=iI(50,250);return sI(i=>{const s=i.loaded,u=i.lengthComputable?i.total:void 0,d=s-o,c=r(d),f=s<=u;o=s;const p={loaded:s,total:u,progress:u?s/u:void 0,bytes:d,rate:c||void 0,estimated:c&&u&&f?(u-s)/c:void 0,event:i,lengthComputable:u!=null,[t?"download":"upload"]:!0};e(p)},n)},Tf=(e,t)=>{const n=e!=null;return[o=>t[0]({lengthComputable:n,total:e,loaded:o}),t[1]]},Cf=e=>(...t)=>_.asap(()=>e(...t)),lI=_e.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,_e.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(_e.origin),_e.navigator&&/(msie|trident)/i.test(_e.navigator.userAgent)):()=>!0,aI=_e.hasStandardBrowserEnv?{write(e,t,n,o,r,i,s){if(typeof document>"u")return;const u=[`${e}=${encodeURIComponent(t)}`];_.isNumber(n)&&u.push(`expires=${new Date(n).toUTCString()}`),_.isString(o)&&u.push(`path=${o}`),_.isString(r)&&u.push(`domain=${r}`),i===!0&&u.push("secure"),_.isString(s)&&u.push(`SameSite=${s}`),document.cookie=u.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function uI(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function cI(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function sg(e,t,n){let o=!uI(t);return e&&(o||n==!1)?cI(e,t):t}const _f=e=>e instanceof Be?{...e}:e;function _n(e,t){t=t||{};const n={};function o(c,f,p,h){return _.isPlainObject(c)&&_.isPlainObject(f)?_.merge.call({caseless:h},c,f):_.isPlainObject(f)?_.merge({},f):_.isArray(f)?f.slice():f}function r(c,f,p,h){if(_.isUndefined(f)){if(!_.isUndefined(c))return o(void 0,c,p,h)}else return o(c,f,p,h)}function i(c,f){if(!_.isUndefined(f))return o(void 0,f)}function s(c,f){if(_.isUndefined(f)){if(!_.isUndefined(c))return o(void 0,c)}else return o(void 0,f)}function u(c,f,p){if(p in t)return o(c,f);if(p in e)return o(void 0,c)}const d={url:i,method:i,data:i,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:u,headers:(c,f,p)=>r(_f(c),_f(f),p,!0)};return _.forEach(Object.keys({...e,...t}),function(f){const p=d[f]||r,h=p(e[f],t[f],f);_.isUndefined(h)&&p!==u||(n[f]=h)}),n}const lg=e=>{const t=_n({},e);let{data:n,withXSRFToken:o,xsrfHeaderName:r,xsrfCookieName:i,headers:s,auth:u}=t;if(t.headers=s=Be.from(s),t.url=tg(sg(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),u&&s.set("Authorization","Basic "+btoa((u.username||"")+":"+(u.password?unescape(encodeURIComponent(u.password)):""))),_.isFormData(n)){if(_e.hasStandardBrowserEnv||_e.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if(_.isFunction(n.getHeaders)){const d=n.getHeaders(),c=["content-type","content-length"];Object.entries(d).forEach(([f,p])=>{c.includes(f.toLowerCase())&&s.set(f,p)})}}if(_e.hasStandardBrowserEnv&&(o&&_.isFunction(o)&&(o=o(t)),o||o!==!1&&lI(t.url))){const d=r&&i&&aI.read(i);d&&s.set(r,d)}return t},dI=typeof XMLHttpRequest<"u",fI=dI&&function(e){return new Promise(function(n,o){const r=lg(e);let i=r.data;const s=Be.from(r.headers).normalize();let{responseType:u,onUploadProgress:d,onDownloadProgress:c}=r,f,p,h,g,y;function T(){g&&g(),y&&y(),r.cancelToken&&r.cancelToken.unsubscribe(f),r.signal&&r.signal.removeEventListener("abort",f)}let x=new XMLHttpRequest;x.open(r.method.toUpperCase(),r.url,!0),x.timeout=r.timeout;function v(){if(!x)return;const E=Be.from("getAllResponseHeaders"in x&&x.getAllResponseHeaders()),w={data:!u||u==="text"||u==="json"?x.responseText:x.response,status:x.status,statusText:x.statusText,headers:E,config:e,request:x};ig(function(I){n(I),T()},function(I){o(I),T()},w),x=null}"onloadend"in x?x.onloadend=v:x.onreadystatechange=function(){!x||x.readyState!==4||x.status===0&&!(x.responseURL&&x.responseURL.indexOf("file:")===0)||setTimeout(v)},x.onabort=function(){x&&(o(new $("Request aborted",$.ECONNABORTED,e,x)),x=null)},x.onerror=function(C){const w=C&&C.message?C.message:"Network Error",N=new $(w,$.ERR_NETWORK,e,x);N.event=C||null,o(N),x=null},x.ontimeout=function(){let C=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const w=r.transitional||ng;r.timeoutErrorMessage&&(C=r.timeoutErrorMessage),o(new $(C,w.clarifyTimeoutError?$.ETIMEDOUT:$.ECONNABORTED,e,x)),x=null},i===void 0&&s.setContentType(null),"setRequestHeader"in x&&_.forEach(s.toJSON(),function(C,w){x.setRequestHeader(w,C)}),_.isUndefined(r.withCredentials)||(x.withCredentials=!!r.withCredentials),u&&u!=="json"&&(x.responseType=r.responseType),c&&([h,y]=Vi(c,!0),x.addEventListener("progress",h)),d&&x.upload&&([p,g]=Vi(d),x.upload.addEventListener("progress",p),x.upload.addEventListener("loadend",g)),(r.cancelToken||r.signal)&&(f=E=>{x&&(o(!E||E.type?new ho(null,e,x):E),x.abort(),x=null)},r.cancelToken&&r.cancelToken.subscribe(f),r.signal&&(r.signal.aborted?f():r.signal.addEventListener("abort",f)));const S=rI(r.url);if(S&&_e.protocols.indexOf(S)===-1){o(new $("Unsupported protocol "+S+":",$.ERR_BAD_REQUEST,e));return}x.send(i||null)})},pI=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let o=new AbortController,r;const i=function(c){if(!r){r=!0,u();const f=c instanceof Error?c:this.reason;o.abort(f instanceof $?f:new ho(f instanceof Error?f.message:f))}};let s=t&&setTimeout(()=>{s=null,i(new $(`timeout ${t} of ms exceeded`,$.ETIMEDOUT))},t);const u=()=>{e&&(s&&clearTimeout(s),s=null,e.forEach(c=>{c.unsubscribe?c.unsubscribe(i):c.removeEventListener("abort",i)}),e=null)};e.forEach(c=>c.addEventListener("abort",i));const{signal:d}=o;return d.unsubscribe=()=>_.asap(u),d}},hI=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let o=0,r;for(;o<n;)r=o+t,yield e.slice(o,r),o=r},mI=async function*(e,t){for await(const n of gI(e))yield*hI(n,t)},gI=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:o}=await t.read();if(n)break;yield o}}finally{await t.cancel()}},wf=(e,t,n,o)=>{const r=mI(e,t);let i=0,s,u=d=>{s||(s=!0,o&&o(d))};return new ReadableStream({async pull(d){try{const{done:c,value:f}=await r.next();if(c){u(),d.close();return}let p=f.byteLength;if(n){let h=i+=p;n(h)}d.enqueue(new Uint8Array(f))}catch(c){throw u(c),c}},cancel(d){return u(d),r.return()}},{highWaterMark:2})},If=64*1024,{isFunction:Vr}=_,yI=(({Request:e,Response:t})=>({Request:e,Response:t}))(_.global),{ReadableStream:Nf,TextEncoder:Af}=_.global,Rf=(e,...t)=>{try{return!!e(...t)}catch{return!1}},vI=e=>{e=_.merge.call({skipUndefined:!0},yI,e);const{fetch:t,Request:n,Response:o}=e,r=t?Vr(t):typeof fetch=="function",i=Vr(n),s=Vr(o);if(!r)return!1;const u=r&&Vr(Nf),d=r&&(typeof Af=="function"?(y=>T=>y.encode(T))(new Af):async y=>new Uint8Array(await new n(y).arrayBuffer())),c=i&&u&&Rf(()=>{let y=!1;const T=new n(_e.origin,{body:new Nf,method:"POST",get duplex(){return y=!0,"half"}}).headers.has("Content-Type");return y&&!T}),f=s&&u&&Rf(()=>_.isReadableStream(new o("").body)),p={stream:f&&(y=>y.body)};r&&["text","arrayBuffer","blob","formData","stream"].forEach(y=>{!p[y]&&(p[y]=(T,x)=>{let v=T&&T[y];if(v)return v.call(T);throw new $(`Response type '${y}' is not supported`,$.ERR_NOT_SUPPORT,x)})});const h=async y=>{if(y==null)return 0;if(_.isBlob(y))return y.size;if(_.isSpecCompliantForm(y))return(await new n(_e.origin,{method:"POST",body:y}).arrayBuffer()).byteLength;if(_.isArrayBufferView(y)||_.isArrayBuffer(y))return y.byteLength;if(_.isURLSearchParams(y)&&(y=y+""),_.isString(y))return(await d(y)).byteLength},g=async(y,T)=>{const x=_.toFiniteNumber(y.getContentLength());return x??h(T)};return async y=>{let{url:T,method:x,data:v,signal:S,cancelToken:E,timeout:C,onDownloadProgress:w,onUploadProgress:N,responseType:I,headers:P,withCredentials:M="same-origin",fetchOptions:k}=lg(y),A=t||fetch;I=I?(I+"").toLowerCase():"text";let O=pI([S,E&&E.toAbortSignal()],C),H=null;const ee=O&&O.unsubscribe&&(()=>{O.unsubscribe()});let Ne;try{if(N&&c&&x!=="get"&&x!=="head"&&(Ne=await g(P,v))!==0){let K=new n(T,{method:"POST",body:v,duplex:"half"}),j;if(_.isFormData(v)&&(j=K.headers.get("content-type"))&&P.setContentType(j),K.body){const[it,Ae]=Tf(Ne,Vi(Cf(N)));v=wf(K.body,If,it,Ae)}}_.isString(M)||(M=M?"include":"omit");const X=i&&"credentials"in n.prototype,ze={...k,signal:O,method:x.toUpperCase(),headers:P.normalize().toJSON(),body:v,duplex:"half",credentials:X?M:void 0};H=i&&new n(T,ze);let D=await(i?A(H,k):A(T,ze));const B=f&&(I==="stream"||I==="response");if(f&&(w||B&&ee)){const K={};["status","statusText","headers"].forEach(st=>{K[st]=D[st]});const j=_.toFiniteNumber(D.headers.get("content-length")),[it,Ae]=w&&Tf(j,Vi(Cf(w),!0))||[];D=new o(wf(D.body,If,it,()=>{Ae&&Ae(),ee&&ee()}),K)}I=I||"text";let q=await p[_.findKey(p,I)||"text"](D,y);return!B&&ee&&ee(),await new Promise((K,j)=>{ig(K,j,{data:q,headers:Be.from(D.headers),status:D.status,statusText:D.statusText,config:y,request:H})})}catch(X){throw ee&&ee(),X&&X.name==="TypeError"&&/Load failed|fetch/i.test(X.message)?Object.assign(new $("Network Error",$.ERR_NETWORK,y,H),{cause:X.cause||X}):$.from(X,X&&X.code,y,H)}}},xI=new Map,ag=e=>{let t=e&&e.env||{};const{fetch:n,Request:o,Response:r}=t,i=[o,r,n];let s=i.length,u=s,d,c,f=xI;for(;u--;)d=i[u],c=f.get(d),c===void 0&&f.set(d,c=u?new Map:vI(t)),f=c;return c};ag();const gu={http:F1,xhr:fI,fetch:{get:ag}};_.forEach(gu,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const kf=e=>`- ${e}`,SI=e=>_.isFunction(e)||e===null||e===!1;function EI(e,t){e=_.isArray(e)?e:[e];const{length:n}=e;let o,r;const i={};for(let s=0;s<n;s++){o=e[s];let u;if(r=o,!SI(o)&&(r=gu[(u=String(o)).toLowerCase()],r===void 0))throw new $(`Unknown adapter '${u}'`);if(r&&(_.isFunction(r)||(r=r.get(t))))break;i[u||"#"+s]=r}if(!r){const s=Object.entries(i).map(([d,c])=>`adapter ${d} `+(c===!1?"is not supported by the environment":"is not available in the build"));let u=n?s.length>1?`since :
`+s.map(kf).join(`
`):" "+kf(s[0]):"as no adapter specified";throw new $("There is no suitable adapter to dispatch the request "+u,"ERR_NOT_SUPPORT")}return r}const ug={getAdapter:EI,adapters:gu};function Ws(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new ho(null,e)}function Pf(e){return Ws(e),e.headers=Be.from(e.headers),e.data=Js.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),ug.getAdapter(e.adapter||fr.adapter,e)(e).then(function(o){return Ws(e),o.data=Js.call(e,e.transformResponse,o),o.headers=Be.from(o.headers),o},function(o){return rg(o)||(Ws(e),o&&o.response&&(o.response.data=Js.call(e,e.transformResponse,o.response),o.response.headers=Be.from(o.response.headers))),Promise.reject(o)})}const cg="1.13.2",ms={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{ms[e]=function(o){return typeof o===e||"a"+(t<1?"n ":" ")+e}});const Mf={};ms.transitional=function(t,n,o){function r(i,s){return"[Axios v"+cg+"] Transitional option '"+i+"'"+s+(o?". "+o:"")}return(i,s,u)=>{if(t===!1)throw new $(r(s," has been removed"+(n?" in "+n:"")),$.ERR_DEPRECATED);return n&&!Mf[s]&&(Mf[s]=!0,console.warn(r(s," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(i,s,u):!0}};ms.spelling=function(t){return(n,o)=>(console.warn(`${o} is likely a misspelling of ${t}`),!0)};function TI(e,t,n){if(typeof e!="object")throw new $("options must be an object",$.ERR_BAD_OPTION_VALUE);const o=Object.keys(e);let r=o.length;for(;r-- >0;){const i=o[r],s=t[i];if(s){const u=e[i],d=u===void 0||s(u,i,e);if(d!==!0)throw new $("option "+i+" must be "+d,$.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new $("Unknown option "+i,$.ERR_BAD_OPTION)}}const ni={assertOptions:TI,validators:ms},St=ni.validators;let vn=class{constructor(t){this.defaults=t||{},this.interceptors={request:new Sf,response:new Sf}}async request(t,n){try{return await this._request(t,n)}catch(o){if(o instanceof Error){let r={};Error.captureStackTrace?Error.captureStackTrace(r):r=new Error;const i=r.stack?r.stack.replace(/^.+\n/,""):"";try{o.stack?i&&!String(o.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(o.stack+=`
`+i):o.stack=i}catch{}}throw o}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=_n(this.defaults,n);const{transitional:o,paramsSerializer:r,headers:i}=n;o!==void 0&&ni.assertOptions(o,{silentJSONParsing:St.transitional(St.boolean),forcedJSONParsing:St.transitional(St.boolean),clarifyTimeoutError:St.transitional(St.boolean)},!1),r!=null&&(_.isFunction(r)?n.paramsSerializer={serialize:r}:ni.assertOptions(r,{encode:St.function,serialize:St.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),ni.assertOptions(n,{baseUrl:St.spelling("baseURL"),withXsrfToken:St.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let s=i&&_.merge(i.common,i[n.method]);i&&_.forEach(["delete","get","head","post","put","patch","common"],y=>{delete i[y]}),n.headers=Be.concat(s,i);const u=[];let d=!0;this.interceptors.request.forEach(function(T){typeof T.runWhen=="function"&&T.runWhen(n)===!1||(d=d&&T.synchronous,u.unshift(T.fulfilled,T.rejected))});const c=[];this.interceptors.response.forEach(function(T){c.push(T.fulfilled,T.rejected)});let f,p=0,h;if(!d){const y=[Pf.bind(this),void 0];for(y.unshift(...u),y.push(...c),h=y.length,f=Promise.resolve(n);p<h;)f=f.then(y[p++],y[p++]);return f}h=u.length;let g=n;for(;p<h;){const y=u[p++],T=u[p++];try{g=y(g)}catch(x){T.call(this,x);break}}try{f=Pf.call(this,g)}catch(y){return Promise.reject(y)}for(p=0,h=c.length;p<h;)f=f.then(c[p++],c[p++]);return f}getUri(t){t=_n(this.defaults,t);const n=sg(t.baseURL,t.url,t.allowAbsoluteUrls);return tg(n,t.params,t.paramsSerializer)}};_.forEach(["delete","get","head","options"],function(t){vn.prototype[t]=function(n,o){return this.request(_n(o||{},{method:t,url:n,data:(o||{}).data}))}});_.forEach(["post","put","patch"],function(t){function n(o){return function(i,s,u){return this.request(_n(u||{},{method:t,headers:o?{"Content-Type":"multipart/form-data"}:{},url:i,data:s}))}}vn.prototype[t]=n(),vn.prototype[t+"Form"]=n(!0)});let CI=class dg{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const o=this;this.promise.then(r=>{if(!o._listeners)return;let i=o._listeners.length;for(;i-- >0;)o._listeners[i](r);o._listeners=null}),this.promise.then=r=>{let i;const s=new Promise(u=>{o.subscribe(u),i=u}).then(r);return s.cancel=function(){o.unsubscribe(i)},s},t(function(i,s,u){o.reason||(o.reason=new ho(i,s,u),n(o.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=o=>{t.abort(o)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new dg(function(r){t=r}),cancel:t}}};function _I(e){return function(n){return e.apply(null,n)}}function wI(e){return _.isObject(e)&&e.isAxiosError===!0}const ra={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(ra).forEach(([e,t])=>{ra[t]=e});function fg(e){const t=new vn(e),n=qm(vn.prototype.request,t);return _.extend(n,vn.prototype,t,{allOwnKeys:!0}),_.extend(n,t,null,{allOwnKeys:!0}),n.create=function(r){return fg(_n(e,r))},n}const ue=fg(fr);ue.Axios=vn;ue.CanceledError=ho;ue.CancelToken=CI;ue.isCancel=rg;ue.VERSION=cg;ue.toFormData=hs;ue.AxiosError=$;ue.Cancel=ue.CanceledError;ue.all=function(t){return Promise.all(t)};ue.spread=_I;ue.isAxiosError=wI;ue.mergeConfig=_n;ue.AxiosHeaders=Be;ue.formToJSON=e=>og(_.isHTMLForm(e)?new FormData(e):e);ue.getAdapter=ug.getAdapter;ue.HttpStatusCode=ra;ue.default=ue;const{Axios:KI,AxiosError:YI,CanceledError:QI,isCancel:XI,CancelToken:ZI,VERSION:jI,all:eN,Cancel:tN,isAxiosError:nN,spread:oN,toFormData:rN,AxiosHeaders:iN,HttpStatusCode:sN,formToJSON:lN,getAdapter:aN,mergeConfig:uN}=ue,pg="https://script.google.com/macros/s/AKfycbzIZ8UgOUlVIV7SrHwhfmPx8ZNfF0Qb_yOU-aigfDKI1991P02oOiF6UzjEaf3qGkrjsw/exec",II=async e=>(await ue.get(`${pg}?uid=${e}`)).data,It=async(e,t,n)=>{try{return(await ue.post(pg,{action:e,payload:t,uid:n},{headers:{"Content-Type":"text/plain"}})).data}catch(o){throw console.error("Failed to update Google Sheets:",o),o}},Df=async(e,t,n)=>{e();try{await t()}catch{n(),alert("...")}},NI=({condition:e,size:t=24})=>{switch(e){case"sunny":return m.jsx(ki,{size:t,color:"#F59E0B",fill:"#F59E0B",fillOpacity:.2});case"rainy":return m.jsx(Kh,{size:t,color:"#3B82F6",fill:"#3B82F6",fillOpacity:.2});case"cloudy":return m.jsx(Yh,{size:t,color:"#94A3B8",fill:"#94A3B8",fillOpacity:.2});default:return m.jsx(ki,{size:t,color:"#CBD5E1"})}},AI=({item:e,isSelected:t})=>m.jsxs("div",{className:`flex-shrink-0 w-[4.5rem] py-3 rounded-2xl mx-1.5 flex flex-col items-center justify-between transition-all duration-300 cursor-pointer ${t?"bg-blue-600 shadow-lg shadow-blue-200 scale-105":"bg-white hover:bg-gray-50 border border-slate-100"}`,children:[m.jsx("span",{className:`text-[10px] font-medium tracking-wide ${t?"text-blue-100":"text-slate-400"}`,children:e.day}),m.jsx("span",{className:`text-xs font-bold mb-2 ${t?"text-white":"text-slate-700"}`,children:e.date}),m.jsx("div",{className:"mb-2 transform transition-transform",children:t?e.condition==="sunny"?m.jsx(ki,{size:24,color:"white",fill:"white",fillOpacity:.3}):e.condition==="rainy"?m.jsx(Kh,{size:24,color:"white",fill:"white",fillOpacity:.3}):e.condition==="cloudy"?m.jsx(Yh,{size:24,color:"white",fill:"white",fillOpacity:.3}):m.jsx(ki,{size:24,color:"white"}):m.jsx(NI,{condition:e.condition,size:24})}),m.jsxs("div",{className:"flex flex-col items-center gap-0.5",children:[m.jsx("span",{className:`text-sm font-bold leading-none ${t?"text-white":"text-slate-700"}`,children:e.tempHigh!==void 0?`${Math.round(e.tempHigh)}`:"--"}),m.jsx("span",{className:`text-[10px] font-medium leading-none ${t?"text-blue-200":"text-slate-400"}`,children:e.tempLow!==void 0?`${Math.round(e.tempLow)}`:"--"})]})]}),RI=e=>{const t=e||"";if(["",""].includes(t))return{bg:"bg-amber-50",text:"text-amber-700",icon:m.jsx(Pc,{size:10})};if(["",""].includes(t))return{bg:"bg-orange-50",text:"text-orange-600",icon:m.jsx(Fc,{size:10})};if(["","",""].includes(t))return{bg:"bg-pink-50",text:"text-pink-600",icon:m.jsx(Ai,{size:10})};if(["","",""].includes(t))return{bg:"bg-stone-100",text:"text-stone-600",icon:m.jsx(Lc,{size:10})};if(["","","","","",""].includes(t))return{bg:"bg-emerald-50",text:"text-emerald-600",icon:m.jsx(Rc,{size:10})};const n=t.toLowerCase();return n.includes("coffee")||n.includes("")||n.includes("tea")||n.includes("cake")?{bg:"bg-amber-50",text:"text-amber-700",icon:m.jsx(Pc,{size:10})}:n.includes("")||n.includes("")||n.includes("food")||n.includes("")||n.includes("")||n.includes("")?{bg:"bg-orange-50",text:"text-orange-600",icon:m.jsx(Fc,{size:10})}:n.includes("")||n.includes("")||n.includes("shop")||n.includes("mall")?{bg:"bg-pink-50",text:"text-pink-600",icon:m.jsx(Ai,{size:10})}:n.includes("")||n.includes("")||n.includes("")||n.includes("art")||n.includes("")?{bg:"bg-stone-100",text:"text-stone-600",icon:m.jsx(Lc,{size:10})}:n.includes("")||n.includes("")||n.includes("view")||n.includes("park")||n.includes("")?{bg:"bg-emerald-50",text:"text-emerald-600",icon:m.jsx(Rc,{size:10})}:{bg:"bg-blue-50",text:"text-blue-600",icon:m.jsx(or,{size:10})}},kI=({item:e,index:t,total:n,onMoveUp:o,onMoveDown:r,onDelete:i,onGenerateInsight:s,loadingInsight:u})=>{const d=x=>{if(!x)return{time:"--:--",period:""};if(x.includes("T"))try{const S=new Date(x);let E=S.getHours();const C=String(S.getMinutes()).padStart(2,"0"),w=E>=12?"PM":"AM";return E=E%12||12,{time:`${E}:${C}`,period:w}}catch{const E=x.match(/T(\d{2}):(\d{2})/);if(E){let C=parseInt(E[1],10);const w=E[2],N=C>=12?"PM":"AM";return C=C%12||12,{time:`${C}:${w}`,period:N}}return{time:"Error",period:""}}const v=x.split(" ");return v.length===2?{time:v[0],period:v[1]}:x.includes(":")?{time:x,period:""}:{time:x.substring(0,5),period:""}},{time:c,period:f}=d(e.time),p=RI(e.category),h=x=>{x.stopPropagation();const v=encodeURIComponent(e.addressKR||e.address||e.title);window.open(`https://map.naver.com/v5/search/${v}`,"_blank")},g=x=>{x.stopPropagation(),x.preventDefault(),i()},y=x=>{x.stopPropagation(),o()},T=x=>{x.stopPropagation(),r()};return m.jsxs("div",{className:"bg-white rounded-[20px] mb-4 p-4 shadow-[0_2px_15px_-3px_rgba(0,0,0,0.07)] hover:shadow-[0_8px_25px_-5px_rgba(0,0,0,0.1)] transition-all duration-300 border border-slate-50 group relative overflow-hidden",children:[t!==n-1&&m.jsx("div",{className:"absolute left-[29px] top-[60px] bottom-[-20px] w-[2px] bg-slate-100 -z-10 group-hover:bg-blue-50 transition-colors"}),m.jsxs("div",{className:"flex items-start gap-3",children:[m.jsxs("div",{className:"flex flex-col items-center pt-1 min-w-[3rem] w-12 flex-shrink-0",children:[m.jsx("span",{className:"text-sm font-bold text-slate-800 truncate w-full text-center",children:c}),m.jsx("span",{className:"text-[10px] font-medium text-slate-400 uppercase tracking-wide",children:f}),m.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500 mt-2 ring-4 ring-blue-50"})]}),m.jsxs("div",{className:"flex-1 min-w-0 pt-0.5",children:[m.jsx("div",{className:"flex items-center justify-between mb-1.5",children:m.jsxs("span",{className:`text-[10px] font-bold px-2 py-1 rounded-full flex items-center gap-1 whitespace-nowrap ${p.bg} ${p.text}`,children:[p.icon,e.category]})}),m.jsx("h3",{className:"text-lg font-bold text-slate-800 leading-tight mb-2 truncate",children:e.title}),m.jsxs("div",{className:"flex flex-col gap-1.5",children:[m.jsxs("div",{className:"flex items-start text-slate-500 gap-1.5 group-hover:text-blue-600 transition-colors cursor-pointer",onClick:h,children:[m.jsx(or,{size:14,className:"mt-0.5 flex-shrink-0"}),m.jsxs("div",{className:"flex flex-col min-w-0",children:[m.jsx("span",{className:"text-xs font-medium leading-tight line-clamp-2 md:line-clamp-1",children:e.address}),e.addressKR&&m.jsx("span",{className:"text-[10px] text-slate-400 font-normal leading-tight mt-0.5 truncate",children:e.addressKR})]})]}),e.budget&&m.jsxs("div",{className:"flex items-center text-emerald-600 gap-1.5",children:[m.jsx(Pi,{size:14,className:"flex-shrink-0"}),m.jsx("span",{className:"text-xs font-bold",children:e.budget})]})]}),e.aiInsight?m.jsx("div",{className:"mt-3 bg-indigo-50/50 rounded-xl p-3 border border-indigo-100/50 animate-in fade-in duration-500",children:m.jsxs("div",{className:"flex items-start gap-2",children:[m.jsx(Ri,{size:14,className:"text-indigo-500 mt-0.5 flex-shrink-0"}),m.jsx("p",{className:"text-xs text-indigo-900/80 leading-relaxed font-medium",children:e.aiInsight})]})}):m.jsxs("button",{onClick:x=>{x.stopPropagation(),s(e.id,e.title)},disabled:u,className:"mt-3 inline-flex items-center gap-1.5 px-3 py-1.5 rounded-full bg-slate-50 hover:bg-indigo-50 text-slate-500 hover:text-indigo-600 text-[11px] font-bold transition-all active:scale-95 disabled:opacity-50 border border-slate-100 hover:border-indigo-100 z-10 relative whitespace-nowrap",children:[u?m.jsx(ts,{size:12,className:"animate-spin"}):m.jsx(Ri,{size:12}),m.jsx("span",{children:"AI "})]}),m.jsxs("button",{onClick:h,className:"mt-3 w-full py-2 bg-[#03C75A] hover:bg-[#02b351] text-white rounded-xl text-[11px] font-bold flex items-center justify-center gap-1.5 transition-all shadow-lg shadow-green-100 active:scale-95",children:[m.jsx(ja,{size:12}),m.jsx("span",{children:"Naver Map "})]})]}),m.jsxs("div",{className:"flex flex-col gap-2 relative z-30",children:[m.jsx("button",{onClick:g,className:"p-2 rounded-xl bg-slate-50 text-slate-400 hover:bg-red-50 hover:text-red-500 transition-colors active:scale-95 shadow-sm border border-slate-100",title:"",children:m.jsx(ns,{size:16})}),m.jsxs("div",{className:"flex flex-col gap-1 bg-slate-50 rounded-xl p-1 shadow-sm border border-slate-100",children:[m.jsx("button",{onClick:y,disabled:t===0,className:`p-1 rounded-lg ${t===0?"text-slate-200":"text-slate-400 hover:text-blue-600 hover:bg-white"}`,children:m.jsx(pv,{size:16})}),m.jsx("button",{onClick:T,disabled:t===n-1,className:`p-1 rounded-lg ${t===n-1?"text-slate-200":"text-slate-400 hover:text-blue-600 hover:bg-white"}`,children:m.jsx(fv,{size:16})})]})]})]})]})},PI=({item:e,index:t,total:n})=>{const o=()=>{const i=encodeURIComponent(e.addressKR||e.address||e.title);window.open(`https://map.naver.com/v5/search/${i}`,"_blank")},r=()=>{const i=e.addressKR||e.address;if(navigator.clipboard)navigator.clipboard.writeText(i).then(()=>{alert("")}).catch(()=>{alert("")});else{const s=document.createElement("textarea");s.value=i,s.style.position="fixed",s.style.left="-9999px",document.body.appendChild(s),s.focus(),s.select();try{document.execCommand("copy"),alert("")}catch{alert("")}document.body.removeChild(s)}};return m.jsxs("div",{className:"flex gap-4 mb-6 relative",children:[m.jsxs("div",{className:"flex flex-col items-center",children:[m.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-800 text-white flex items-center justify-center text-xs font-bold z-10 border-4 border-white shadow-md",children:t+1}),t!==n-1&&m.jsx("div",{className:"w-1 bg-slate-200 h-full absolute top-8 bottom-[-24px] z-0"})]}),m.jsxs("div",{className:"flex-1 bg-white p-5 rounded-3xl shadow-sm border border-slate-100",children:[m.jsx("div",{className:"flex justify-between items-start mb-2",children:m.jsx("span",{className:"text-xs font-bold text-blue-500 bg-blue-50 px-2 py-1 rounded-lg",children:e.time})}),m.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-1",children:e.title}),m.jsx("p",{className:"text-xs text-slate-500 mb-4",children:e.addressKR||e.address}),m.jsxs("div",{className:"flex gap-2",children:[m.jsxs("button",{onClick:o,className:"flex-1 bg-[#03C75A] hover:bg-[#02b351] text-white py-3 rounded-xl font-bold text-sm flex items-center justify-center gap-2 active:scale-95 transition-all shadow-lg shadow-green-100",children:[m.jsx(ja,{size:16}),""]}),m.jsx("button",{onClick:r,className:"w-12 bg-slate-100 hover:bg-slate-200 text-slate-600 rounded-xl flex items-center justify-center active:scale-95 transition-all",children:m.jsx(Ev,{size:18})})]})]})]})},MI=({isOpen:e,onClose:t,onAdd:n})=>{const[o,r]=b.useState(""),[i,s]=b.useState(""),[u,d]=b.useState(""),[c,f]=b.useState(""),[p,h]=b.useState(""),[g,y]=b.useState(""),[T,x]=b.useState(!1);if(!e)return null;const v=async()=>{if(!o){alert("");return}x(!0);try{const C=await Kw(o);C.address&&f(C.address),C.addressKR&&h(C.addressKR),C.category&&d(C.category),C.budget&&y(C.budget)}catch(C){console.error("Auto search failed",C),alert("AI ")}finally{x(!1)}},S=()=>{const C=encodeURIComponent(p||c||o);window.open(`https://map.naver.com/v5/search/${C}`,"_blank")},E=()=>{o&&(n({title:o,time:i||"10:00 AM",category:u||"",address:c||"",addressKR:p,budget:g}),r(""),s(""),d(""),f(""),h(""),y(""),t())};return m.jsx("div",{className:"absolute inset-0 z-50 flex items-end sm:items-center justify-center sm:px-4 bg-slate-900/20 backdrop-blur-sm transition-all duration-300",children:m.jsxs("div",{className:"bg-white w-full sm:rounded-[32px] rounded-t-[32px] p-6 shadow-2xl animate-in slide-in-from-bottom-10 duration-300",children:[m.jsxs("div",{className:"flex justify-between items-center mb-6",children:[m.jsxs("div",{children:[m.jsx("h3",{className:"text-xl font-bold text-slate-800",children:""}),m.jsx("p",{className:"text-xs text-slate-400 mt-1",children:" AI "})]}),m.jsx("button",{onClick:t,className:"p-2 rounded-full bg-slate-50 hover:bg-slate-100 text-slate-500 transition-colors",children:m.jsx(os,{size:20})})]}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"relative",children:[m.jsx("label",{className:"text-xs font-bold text-slate-400 ml-1 mb-1 block",children:" / "}),m.jsxs("div",{className:"flex gap-2",children:[m.jsxs("div",{className:"relative flex-1",children:[m.jsx(Dv,{size:16,className:"absolute left-3 top-3.5 text-slate-400"}),m.jsx("input",{type:"text",value:o,onChange:C=>r(C.target.value),placeholder:": Onion Anguk",className:"w-full pl-9 pr-4 py-3 bg-slate-50 border border-slate-200 rounded-2xl focus:outline-none focus:border-blue-500 focus:ring-4 focus:ring-blue-500/10 transition-all font-medium text-slate-700 placeholder:text-slate-400"})]}),m.jsxs("button",{onClick:v,disabled:T||!o,className:"px-4 rounded-2xl bg-indigo-600 hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed text-white font-bold text-xs flex items-center gap-1.5 transition-all shadow-lg shadow-indigo-200 active:scale-95",children:[T?m.jsx(ts,{size:14,className:"animate-spin"}):m.jsx(Ri,{size:14}),m.jsx("span",{children:"AI "})]})]})]}),m.jsxs("div",{className:"flex gap-3",children:[m.jsxs("div",{className:"w-1/3",children:[m.jsx("label",{className:"text-xs font-bold text-slate-400 ml-1 mb-1 block",children:""}),m.jsx("input",{type:"text",value:i,onChange:C=>s(C.target.value),placeholder:"10:00 AM",className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-2xl focus:outline-none focus:border-blue-500 text-sm font-medium"})]}),m.jsxs("div",{className:"flex-1",children:[m.jsx("label",{className:"text-xs font-bold text-slate-400 ml-1 mb-1 block",children:""}),m.jsx("input",{type:"text",value:u,onChange:C=>d(C.target.value),placeholder:"...",className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-2xl focus:outline-none focus:border-blue-500 text-sm font-medium"})]})]}),m.jsxs("div",{className:"flex gap-3",children:[m.jsxs("div",{className:"flex-1",children:[m.jsx("label",{className:"text-xs font-bold text-slate-400 ml-1 mb-1 block",children:" ()"}),m.jsx("input",{type:"text",value:c,onChange:C=>f(C.target.value),placeholder:"",className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-2xl focus:outline-none focus:border-blue-500 text-sm font-medium text-slate-600"})]}),m.jsxs("div",{className:"w-1/3",children:[m.jsx("label",{className:"text-xs font-bold text-slate-400 ml-1 mb-1 block",children:""}),m.jsx("input",{type:"text",value:g,onChange:C=>y(C.target.value),placeholder:"...",className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-2xl focus:outline-none focus:border-blue-500 text-sm font-medium text-emerald-600"})]})]}),m.jsxs("div",{className:"relative",children:[m.jsxs("div",{className:"flex justify-between items-end mb-1",children:[m.jsx("label",{className:"text-xs font-bold text-slate-400 ml-1",children:" ()"}),m.jsxs("button",{onClick:S,className:"text-[10px] text-blue-500 font-bold flex items-center gap-1 hover:text-blue-600",children:[m.jsx(Tv,{size:10}),""]})]}),m.jsx("input",{type:"text",value:p,onChange:C=>h(C.target.value),placeholder:"AI ...",className:"w-full px-4 py-3 bg-indigo-50/50 border border-indigo-100 rounded-2xl focus:outline-none focus:border-blue-500 text-sm font-medium text-slate-600"})]})]}),m.jsxs("button",{onClick:E,disabled:!o,className:`w-full mt-6 font-bold py-3.5 rounded-2xl transition-all flex items-center justify-center gap-2 ${o?"bg-blue-600 hover:bg-blue-700 text-white active:scale-95 shadow-lg shadow-blue-200":"bg-slate-200 text-slate-400 cursor-not-allowed"}`,children:[m.jsx(Wh,{size:18}),m.jsx("span",{children:""})]}),m.jsx("div",{className:"h-4 sm:h-0"})]})})},DI=({onLogin:e})=>{const[t,n]=b.useState(""),[o,r]=b.useState(""),[i,s]=b.useState(!1),[u,d]=b.useState(!1),[c,f]=b.useState(null),p=async h=>{if(h.preventDefault(),!(!t||!o)){d(!0),f(null);try{const g=await It("login",{username:t,password:o});g.success?(i&&localStorage.setItem("seoul_travel_user",JSON.stringify(g.user)),e(g.user)):f(g.error||"")}catch{f("")}finally{d(!1)}}};return m.jsxs("div",{className:"absolute inset-0 z-50 bg-[#F8FAFC] flex flex-col items-center justify-center p-8 rounded-[40px] overflow-hidden",children:[m.jsx("div",{className:"absolute top-[-10%] right-[-10%] w-64 h-64 bg-blue-50 rounded-full blur-3xl opacity-60 animate-pulse"}),m.jsx("div",{className:"absolute bottom-[-5%] left-[-5%] w-48 h-48 bg-indigo-50 rounded-full blur-3xl opacity-60"}),m.jsxs("form",{onSubmit:p,className:"w-full max-w-[320px] flex flex-col items-center relative z-10",children:[m.jsx("div",{className:"mb-8 relative",children:m.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-3xl flex items-center justify-center mb-4 shadow-xl shadow-blue-200 transform rotate-12",children:m.jsx(Xr,{size:40,className:"text-white -rotate-12"})})}),m.jsx("h1",{className:"text-3xl font-black text-slate-800 mb-1 text-center",children:"Seoul Planner"}),m.jsx("p",{className:"text-slate-400 text-xs mb-8 text-center font-medium",children:""}),m.jsxs("div",{className:"w-full space-y-4 mb-6",children:[m.jsxs("div",{className:"relative",children:[m.jsx(Qh,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:18}),m.jsx("input",{type:"text",value:t,onChange:h=>n(h.target.value),placeholder:"",className:"w-full pl-12 pr-4 py-3.5 bg-white border border-slate-100 rounded-2xl outline-none focus:border-blue-500 focus:ring-4 focus:ring-blue-50/50 font-bold text-slate-700 shadow-sm transition-all"})]}),m.jsxs("div",{className:"relative",children:[m.jsx(Nv,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:18}),m.jsx("input",{type:"password",value:o,onChange:h=>r(h.target.value),placeholder:"",className:"w-full pl-12 pr-4 py-3.5 bg-white border border-slate-100 rounded-2xl outline-none focus:border-blue-500 focus:ring-4 focus:ring-blue-50/50 font-bold text-slate-700 shadow-sm transition-all"})]}),m.jsxs("div",{className:"flex items-center justify-between px-2",children:[m.jsxs("button",{type:"button",onClick:()=>s(!i),className:"flex items-center gap-2 text-slate-500 hover:text-blue-600 transition-colors",children:[i?m.jsx(gv,{size:18,className:"text-blue-600"}):m.jsx(Uv,{size:18,className:"text-slate-300"}),m.jsx("span",{className:"text-xs font-bold",children:""})]}),m.jsx("span",{className:"text-xs font-medium text-slate-300",children:""})]})]}),c&&m.jsx("div",{className:"w-full mb-4 p-3 bg-red-50 border border-red-100 rounded-xl text-red-500 text-xs font-bold text-center animate-in fade-in slide-in-from-top-2",children:c}),m.jsx("button",{type:"submit",disabled:u||!t||!o,className:"w-full bg-slate-900 text-white font-bold py-4 rounded-2xl flex items-center justify-center gap-3 shadow-xl shadow-slate-200 hover:bg-black active:scale-95 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:u?m.jsx(ts,{className:"animate-spin"}):m.jsxs(m.Fragment,{children:[m.jsx("span",{children:""}),m.jsx(xv,{size:18})]})}),m.jsxs("p",{className:"text-[10px] text-slate-300 mt-8 text-center leading-relaxed font-medium",children:[" ",m.jsx("br",{})," Google Sheets "]})]})]})},LI=({isOpen:e,onClose:t,tripId:n,onLogout:o})=>e?m.jsx("div",{className:"absolute inset-0 z-50 bg-black/20 backdrop-blur-sm flex items-start justify-end p-4 pt-20",children:m.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-64 p-4 animate-in slide-in-from-top-4 duration-200",children:[m.jsxs("div",{className:"flex items-center gap-3 mb-4 border-b border-slate-50 pb-4",children:[m.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center text-blue-600 font-bold",children:m.jsx(wv,{size:20})}),m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsx("p",{className:"text-sm font-bold text-slate-800 truncate",children:" ID"}),m.jsx("p",{className:"text-xs text-slate-500 truncate font-mono bg-slate-100 px-2 py-0.5 rounded mt-1",children:n})]})]}),m.jsxs("button",{onClick:o,className:"w-full flex items-center gap-2 text-slate-500 hover:text-red-500 hover:bg-red-50 p-2 rounded-xl transition-colors text-sm font-medium",children:[m.jsx(Av,{size:16}),m.jsx("span",{children:" ()"})]}),m.jsx("button",{onClick:t,className:"w-full mt-2 text-slate-300 text-xs hover:text-slate-500 py-1",children:""})]})}):null,UI=({luggage:e,shopping:t,onUpdateLuggage:n,onUpdateShopping:o})=>{const[r,i]=b.useState("luggage"),[s,u]=b.useState(""),d=r==="luggage"?e:t,c=r==="luggage"?n:o,f=T=>{if(T==null||T.preventDefault(),!s.trim())return;const x={id:Date.now().toString(),text:s.trim(),isChecked:!1,category:r};c([...d,x]),u("")},p=T=>{const x=d.map(v=>v.id===T?{...v,isChecked:!v.isChecked}:v);c(x)},h=T=>{const x=d.filter(v=>v.id!==T);c(x)},g=d.filter(T=>T.isChecked).length,y=d.length>0?g/d.length*100:0;return m.jsxs("div",{className:"px-6 py-6 flex flex-col h-full",children:[m.jsx("div",{className:"flex justify-between items-center mb-6",children:m.jsx("h2",{className:"text-2xl font-black text-slate-800",children:""})}),m.jsxs("div",{className:"flex p-1 bg-slate-100 rounded-2xl mb-6",children:[m.jsxs("button",{onClick:()=>i("luggage"),className:`flex-1 py-2.5 rounded-xl text-sm font-bold flex items-center justify-center gap-2 transition-all ${r==="luggage"?"bg-white text-blue-600 shadow-sm":"text-slate-400 hover:text-slate-600"}`,children:[m.jsx(Uc,{size:16}),""]}),m.jsxs("button",{onClick:()=>i("shopping"),className:`flex-1 py-2.5 rounded-xl text-sm font-bold flex items-center justify-center gap-2 transition-all ${r==="shopping"?"bg-white text-pink-600 shadow-sm":"text-slate-400 hover:text-slate-600"}`,children:[m.jsx(Ai,{size:16}),""]})]}),m.jsxs("div",{className:"bg-white p-4 rounded-2xl shadow-sm border border-slate-100 mb-6",children:[m.jsxs("div",{className:"flex justify-between text-xs font-bold text-slate-500 mb-2",children:[m.jsx("span",{children:""}),m.jsxs("span",{children:[g," / ",d.length]})]}),m.jsx("div",{className:"w-full bg-slate-100 h-2 rounded-full overflow-hidden",children:m.jsx("div",{className:`h-full rounded-full transition-all duration-500 ${r==="luggage"?"bg-blue-500":"bg-pink-500"}`,style:{width:`${y}%`}})})]}),m.jsxs("form",{onSubmit:f,className:"relative mb-6",children:[m.jsx("input",{type:"text",value:s,onChange:T=>u(T.target.value),placeholder:r==="luggage"?"...":"...",className:"w-full pl-4 pr-12 py-3.5 bg-white border border-slate-200 rounded-2xl focus:outline-none focus:border-blue-500 focus:ring-4 focus:ring-blue-50 transition-all font-medium text-slate-700 placeholder:text-slate-400"}),m.jsx("button",{type:"submit",disabled:!s,className:`absolute right-2 top-2 p-1.5 rounded-xl transition-colors ${s?r==="luggage"?"bg-blue-600 text-white":"bg-pink-600 text-white":"bg-slate-100 text-slate-300"}`,children:m.jsx(eu,{size:20})})]}),m.jsx("div",{className:"flex-1 overflow-y-auto space-y-3 pb-20",children:d.length===0?m.jsxs("div",{className:"flex flex-col items-center justify-center py-10 opacity-50",children:[r==="luggage"?m.jsx(Uc,{size:48,className:"text-slate-300 mb-2"}):m.jsx(Ai,{size:48,className:"text-slate-300 mb-2"}),m.jsx("p",{className:"text-slate-400 font-bold text-sm",children:""})]}):d.map(T=>m.jsxs("div",{onClick:()=>p(T.id),className:`flex items-center gap-3 p-4 rounded-2xl border transition-all cursor-pointer group ${T.isChecked?"bg-slate-50 border-slate-100 opacity-60":"bg-white border-slate-100 shadow-sm hover:border-blue-200"}`,children:[m.jsx("div",{className:`w-6 h-6 rounded-lg border-2 flex items-center justify-center transition-colors ${T.isChecked?"bg-slate-300 border-slate-300 text-white":r==="luggage"?"border-blue-200 text-transparent":"border-pink-200 text-transparent"}`,children:m.jsx(yv,{size:14,strokeWidth:4})}),m.jsx("span",{className:`flex-1 font-bold text-sm ${T.isChecked?"text-slate-400 line-through":"text-slate-700"}`,children:T.text}),m.jsx("button",{onClick:x=>{x.stopPropagation(),h(T.id)},className:"text-slate-300 hover:text-red-400 p-2 -mr-2 transition-colors",children:m.jsx(ns,{size:16})})]},T.id))})]})},FI=()=>{const[e,t]=b.useState(!1),[n,o]=b.useState(null),[r,i]=b.useState(""),[s,u]=b.useState(""),[d,c]=b.useState(!1),[f,p]=b.useState(""),h=async()=>{c(!0);try{const x=await(await fetch("https://api.exchangerate-api.com/v4/latest/KRW")).json();if(x&&x.rates&&x.rates.TWD){o(x.rates.TWD);const v=new Date;p(`${v.toLocaleDateString()} ${v.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}`)}}catch(T){console.error("Failed to fetch rates",T),n||o(.024)}finally{c(!1)}};b.useEffect(()=>{e&&h()},[e]);const g=T=>{const x=T.replace(/[^0-9.]/g,"");i(x),u(n&&x?(parseFloat(x)*n).toFixed(0):"")},y=T=>{const x=T.replace(/[^0-9.]/g,"");u(x),i(n&&x&&n!==0?(parseFloat(x)/n).toFixed(0):"")};return e?m.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center px-6 bg-black/20 backdrop-blur-sm animate-in fade-in duration-200",children:m.jsxs("div",{className:"bg-white w-full max-w-[320px] rounded-[32px] p-6 shadow-2xl relative",children:[m.jsx("button",{onClick:()=>t(!1),className:"absolute top-4 right-4 p-2 rounded-full bg-slate-50 text-slate-400 hover:bg-slate-100 transition-colors",children:m.jsx(os,{size:20})}),m.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[m.jsx("div",{className:"w-10 h-10 rounded-full bg-emerald-100 flex items-center justify-center text-emerald-600",children:m.jsx(Ac,{size:20})}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-lg font-bold text-slate-800",children:""}),m.jsxs("div",{onClick:h,className:"text-[10px] text-slate-400 flex items-center gap-1 cursor-pointer hover:text-emerald-500 transition-colors",children:["1 KRW  ",n?n.toFixed(4):"..."," TWD",d?m.jsx(Ni,{size:10,className:"animate-spin"}):m.jsx(Ni,{size:10})]})]})]}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"text-xs font-bold text-slate-400 ml-1 mb-1 block",children:" (KRW)"}),m.jsxs("div",{className:"w-full bg-slate-50 border border-slate-200 rounded-2xl px-4 py-3 flex items-center focus-within:ring-2 focus-within:ring-emerald-100 focus-within:border-emerald-500 transition-all",children:[m.jsx("span",{className:"text-sm font-bold text-slate-400 mr-2",children:""}),m.jsx("input",{type:"number",value:r,onChange:T=>g(T.target.value),className:"w-full bg-transparent text-lg font-black text-slate-800 focus:outline-none text-right placeholder:text-slate-300",placeholder:"0"})]})]}),m.jsx("div",{className:"flex justify-center text-slate-300",children:m.jsx(Ac,{size:16,className:"rotate-90"})}),m.jsxs("div",{children:[m.jsx("label",{className:"text-xs font-bold text-slate-400 ml-1 mb-1 block",children:" (TWD)"}),m.jsxs("div",{className:"w-full bg-slate-50 border border-slate-200 rounded-2xl px-4 py-3 flex items-center focus-within:ring-2 focus-within:ring-emerald-100 focus-within:border-emerald-500 transition-all",children:[m.jsx("span",{className:"text-sm font-bold text-slate-400 mr-2",children:"NT$"}),m.jsx("input",{type:"number",value:s,onChange:T=>y(T.target.value),className:"w-full bg-transparent text-lg font-black text-slate-800 focus:outline-none text-right placeholder:text-slate-300",placeholder:"0"})]})]})]}),m.jsxs("p",{className:"text-[10px] text-slate-300 text-center mt-6",children:[" ",m.jsx("br",{})," Updated: ",f||"Just now"]})]})}):m.jsx("button",{onClick:()=>t(!0),className:"fixed bottom-24 left-6 z-40 w-14 h-14 bg-emerald-500 hover:bg-emerald-600 text-white rounded-full shadow-xl shadow-emerald-200 flex items-center justify-center transition-transform active:scale-95",title:"",children:m.jsx(hv,{size:24})})},bI=({startDate:e,endDate:t,onDateChange:n,flightInfo:o,onFlightChange:r,hotelInfo:i,onHotelChange:s})=>{var f,p,h,g,y,T;const u=(x,v)=>{r({...o,outbound:{...(o==null?void 0:o.outbound)||{airline:"",flightNumber:"",time:"",terminal:""},[x]:v}})},d=(x,v)=>{r({...o,inbound:{...(o==null?void 0:o.inbound)||{airline:"",flightNumber:"",time:"",terminal:""},[x]:v}})},c=(x,v)=>{s({...i||{name:"",address:"",checkIn:"",checkOut:"",bookingRef:""},[x]:v})};return m.jsxs("div",{className:"px-6 py-6 flex flex-col gap-6 pb-24",children:[m.jsx("h2",{className:"text-2xl font-black text-slate-800",children:""}),m.jsxs("div",{className:"bg-white rounded-[24px] p-5 shadow-sm border border-slate-100",children:[m.jsxs("div",{className:"flex items-center gap-2 mb-4 text-blue-600 font-bold text-sm",children:[m.jsx(mv,{size:18}),m.jsx("span",{children:""})]}),m.jsxs("div",{className:"flex flex-col gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase mb-1 block",children:" (Departure)"}),m.jsx("input",{type:"date",value:e,onChange:x=>n(x.target.value,t),className:"w-full bg-slate-50 border border-slate-200 rounded-xl px-4 py-3 text-sm font-bold text-slate-700 outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100 transition-all"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase mb-1 block",children:" (Return)"}),m.jsx("input",{type:"date",value:t,onChange:x=>n(e,x.target.value),min:e,className:"w-full bg-slate-50 border border-slate-200 rounded-xl px-4 py-3 text-sm font-bold text-slate-700 outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100 transition-all"})]})]})]}),m.jsxs("div",{className:"bg-white rounded-[24px] p-5 shadow-sm border border-slate-100",children:[m.jsxs("div",{className:"flex items-center gap-2 mb-4 text-indigo-600 font-bold text-sm",children:[m.jsx(Xr,{size:18}),m.jsx("span",{children:""})]}),m.jsxs("div",{className:"mb-6",children:[m.jsx("div",{className:"flex items-center gap-2 mb-2",children:m.jsx("span",{className:"bg-indigo-100 text-indigo-700 text-[10px] font-bold px-2 py-0.5 rounded",children:" (Outbound)"})}),m.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[m.jsx("div",{className:"col-span-2",children:m.jsxs("div",{className:"relative",children:[m.jsx(Xr,{size:14,className:"absolute left-3 top-3 text-slate-400"}),m.jsx("input",{type:"text",placeholder:"",value:((f=o==null?void 0:o.outbound)==null?void 0:f.airline)||"",onChange:x=>u("airline",x.target.value),className:"w-full pl-9 pr-3 py-2 bg-slate-50 rounded-xl text-sm font-medium outline-none focus:ring-2 ring-indigo-100"})]})}),m.jsx("div",{children:m.jsxs("div",{className:"relative",children:[m.jsx(Mc,{size:14,className:"absolute left-3 top-3 text-slate-400"}),m.jsx("input",{type:"text",placeholder:"",value:((p=o==null?void 0:o.outbound)==null?void 0:p.flightNumber)||"",onChange:x=>u("flightNumber",x.target.value),className:"w-full pl-9 pr-3 py-2 bg-slate-50 rounded-xl text-sm font-medium outline-none focus:ring-2 ring-indigo-100"})]})}),m.jsx("div",{children:m.jsxs("div",{className:"relative",children:[m.jsx(kc,{size:14,className:"absolute left-3 top-3 text-slate-400"}),m.jsx("input",{type:"text",placeholder:"",value:((h=o==null?void 0:o.outbound)==null?void 0:h.time)||"",onChange:x=>u("time",x.target.value),className:"w-full pl-9 pr-3 py-2 bg-slate-50 rounded-xl text-sm font-medium outline-none focus:ring-2 ring-indigo-100"})]})})]})]}),m.jsxs("div",{children:[m.jsx("div",{className:"flex items-center gap-2 mb-2",children:m.jsx("span",{className:"bg-orange-100 text-orange-700 text-[10px] font-bold px-2 py-0.5 rounded",children:" (Inbound)"})}),m.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[m.jsx("div",{className:"col-span-2",children:m.jsxs("div",{className:"relative",children:[m.jsx(Xr,{size:14,className:"absolute left-3 top-3 text-slate-400"}),m.jsx("input",{type:"text",placeholder:"",value:((g=o==null?void 0:o.inbound)==null?void 0:g.airline)||"",onChange:x=>d("airline",x.target.value),className:"w-full pl-9 pr-3 py-2 bg-slate-50 rounded-xl text-sm font-medium outline-none focus:ring-2 ring-orange-100"})]})}),m.jsx("div",{children:m.jsxs("div",{className:"relative",children:[m.jsx(Mc,{size:14,className:"absolute left-3 top-3 text-slate-400"}),m.jsx("input",{type:"text",placeholder:"",value:((y=o==null?void 0:o.inbound)==null?void 0:y.flightNumber)||"",onChange:x=>d("flightNumber",x.target.value),className:"w-full pl-9 pr-3 py-2 bg-slate-50 rounded-xl text-sm font-medium outline-none focus:ring-2 ring-orange-100"})]})}),m.jsx("div",{children:m.jsxs("div",{className:"relative",children:[m.jsx(kc,{size:14,className:"absolute left-3 top-3 text-slate-400"}),m.jsx("input",{type:"text",placeholder:"",value:((T=o==null?void 0:o.inbound)==null?void 0:T.time)||"",onChange:x=>d("time",x.target.value),className:"w-full pl-9 pr-3 py-2 bg-slate-50 rounded-xl text-sm font-medium outline-none focus:ring-2 ring-orange-100"})]})})]})]})]}),m.jsxs("div",{className:"bg-white rounded-[24px] p-5 shadow-sm border border-slate-100",children:[m.jsxs("div",{className:"flex items-center gap-2 mb-4 text-emerald-600 font-bold text-sm",children:[m.jsx(Dc,{size:18}),m.jsx("span",{children:""})]}),m.jsxs("div",{className:"space-y-3",children:[m.jsxs("div",{className:"relative",children:[m.jsx(Dc,{size:14,className:"absolute left-3 top-3 text-slate-400"}),m.jsx("input",{type:"text",placeholder:"",value:(i==null?void 0:i.name)||"",onChange:x=>c("name",x.target.value),className:"w-full pl-9 pr-3 py-2 bg-slate-50 rounded-xl text-sm font-medium outline-none focus:ring-2 ring-emerald-100"})]}),m.jsxs("div",{className:"relative",children:[m.jsx(or,{size:14,className:"absolute left-3 top-3 text-slate-400"}),m.jsx("input",{type:"text",placeholder:"",value:(i==null?void 0:i.address)||"",onChange:x=>c("address",x.target.value),className:"w-full pl-9 pr-3 py-2 bg-slate-50 rounded-xl text-sm font-medium outline-none focus:ring-2 ring-emerald-100"})]}),m.jsxs("div",{className:"relative",children:[m.jsx(Cv,{size:14,className:"absolute left-3 top-3 text-slate-400"}),m.jsx("input",{type:"text",placeholder:" / ",value:(i==null?void 0:i.bookingRef)||"",onChange:x=>c("bookingRef",x.target.value),className:"w-full pl-9 pr-3 py-2 bg-slate-50 rounded-xl text-sm font-medium outline-none focus:ring-2 ring-emerald-100"})]}),m.jsxs("div",{className:"flex gap-3",children:[m.jsxs("div",{className:"flex-1",children:[m.jsx("label",{className:"text-[10px] text-slate-400 font-bold mb-1 block",children:"Check-in"}),m.jsx("input",{type:"text",placeholder:"15:00",value:(i==null?void 0:i.checkIn)||"",onChange:x=>c("checkIn",x.target.value),className:"w-full px-3 py-2 bg-slate-50 rounded-xl text-sm font-medium outline-none focus:ring-2 ring-emerald-100"})]}),m.jsxs("div",{className:"flex-1",children:[m.jsx("label",{className:"text-[10px] text-slate-400 font-bold mb-1 block",children:"Check-out"}),m.jsx("input",{type:"text",placeholder:"11:00",value:(i==null?void 0:i.checkOut)||"",onChange:x=>c("checkOut",x.target.value),className:"w-full px-3 py-2 bg-slate-50 rounded-xl text-sm font-medium outline-none focus:ring-2 ring-emerald-100"})]})]})]})]})]})},VI=({expenses:e,onUpdateExpenses:t})=>{const[n,o]=b.useState(""),[r,i]=b.useState(""),[s,u]=b.useState(.024),[d,c]=b.useState(!1),[f,p]=b.useState("all"),[h,g]=b.useState(null),[y,T]=b.useState(()=>new Date().toISOString().split("T")[0]),[x,v]=b.useState(null);b.useEffect(()=>{(async()=>{c(!0);try{const H=await(await fetch("https://api.exchangerate-api.com/v4/latest/KRW")).json();H&&H.rates&&H.rates.TWD&&u(H.rates.TWD)}catch(O){console.error("Rate fetch failed",O)}finally{c(!1)}})()},[]);const S=A=>{o(A.title),i(A.amountKRW.toString());const O=A.date.includes("T")?A.date.split("T")[0]:A.date;T(O),g(A.id),v(A.exchangeRate)},E=()=>{o(""),i(""),T(new Date().toISOString().split("T")[0]),g(null),v(null)},C=A=>{if(A.preventDefault(),!n||!r)return;const O=parseFloat(r),H=h&&x?x:s,ee=Math.round(O*H);if(h){const Ne=e.map(X=>X.id===h?{...X,title:n,amountKRW:O,amountTWD:ee,date:y,exchangeRate:H}:X);t(Ne)}else{const Ne={id:Date.now().toString(),title:n,amountKRW:O,amountTWD:ee,date:y,category:"general",exchangeRate:H};t([Ne,...e])}E()},w=A=>{confirm("")&&(t(e.filter(O=>O.id!==A)),h===A&&E())},N=Array.from(new Set(e.map(A=>A.date.includes("T")?A.date.split("T")[0]:A.date))).sort().reverse(),I=f==="all"?e:e.filter(A=>(A.date.includes("T")?A.date.split("T")[0]:A.date)===f),P=I.reduce((A,O)=>A+O.amountKRW,0),M=I.reduce((A,O)=>A+O.amountTWD,0),k=A=>{const O=new Date(A);return`${O.getMonth()+1}/${O.getDate()}`};return m.jsxs("div",{className:"px-6 py-6 flex flex-col h-full",children:[m.jsxs("div",{className:"flex justify-between items-center mb-6 flex-shrink-0",children:[m.jsx("h2",{className:"text-2xl font-black text-slate-800",children:""}),m.jsxs("div",{className:"flex items-center gap-1 text-[10px] text-slate-400 bg-slate-100 px-2 py-1 rounded-full",children:[m.jsxs("span",{children:["1 KRW  ",s.toFixed(4)," TWD"]}),d?m.jsx(Ni,{size:10,className:"animate-spin"}):null]})]}),m.jsxs("div",{className:"bg-gradient-to-br from-slate-800 to-slate-900 rounded-[24px] p-6 text-white shadow-xl shadow-slate-200 mb-6 relative overflow-hidden group flex-shrink-0 min-h-[160px] flex flex-col justify-between",children:[m.jsx("div",{className:"absolute top-0 right-0 w-40 h-40 bg-white/5 rounded-full -mr-12 -mt-12 group-hover:bg-white/10 transition-colors duration-500"}),m.jsx("div",{className:"absolute bottom-0 left-0 w-24 h-24 bg-blue-500/10 rounded-full -ml-8 -mb-8 pointer-events-none"}),m.jsxs("div",{className:"relative z-10 flex flex-col flex-1 justify-between",children:[m.jsxs("div",{className:"flex justify-between items-start",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-500/20 flex items-center justify-center border border-blue-500/30",children:m.jsx(Pi,{size:14,className:"text-blue-200"})}),m.jsx("span",{className:"text-slate-300 text-xs font-bold tracking-wider",children:f==="all"?"":""})]}),m.jsxs("div",{className:"relative",children:[m.jsxs("div",{className:"flex items-center gap-2 bg-slate-950/30 hover:bg-slate-950/50 backdrop-blur-md px-3 py-1.5 rounded-lg border border-white/10 transition-all",children:[m.jsx(Jh,{size:12,className:"text-blue-400"}),m.jsx("span",{className:"text-xs font-bold text-white min-w-[3rem] text-center whitespace-nowrap",children:f==="all"?"":k(f)}),m.jsx(vv,{size:12,className:"text-slate-500"})]}),m.jsxs("select",{value:f,onChange:A=>p(A.target.value),className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer appearance-none z-10",children:[m.jsx("option",{value:"all",className:"text-slate-900 bg-white",children:""}),N.map(A=>m.jsxs("option",{value:A,className:"text-slate-900 bg-white",children:[A," (",k(A),")"]},A))]})]})]}),m.jsxs("div",{className:"mt-4",children:[m.jsxs("div",{className:"flex items-baseline gap-1.5",children:[m.jsx("span",{className:"text-sm font-bold text-slate-400",children:"NT$"}),m.jsx("span",{className:"text-4xl font-black text-white tracking-tight",children:Number(M).toLocaleString()})]}),m.jsx("div",{className:"flex items-center gap-2 mt-2",children:m.jsxs("div",{className:"px-2 py-0.5 rounded bg-white/10 border border-white/5 text-[10px] text-slate-300 font-medium",children:[" ",Number(P).toLocaleString()]})})]})]})]}),m.jsx("form",{onSubmit:C,className:`bg-white p-4 rounded-2xl shadow-sm border mb-6 flex-shrink-0 transition-colors ${h?"border-blue-200 bg-blue-50/30":"border-slate-100"}`,children:m.jsxs("div",{className:"flex flex-col gap-3",children:[m.jsxs("div",{className:"flex gap-2",children:[m.jsx("input",{type:"date",value:y,onChange:A=>T(A.target.value),className:"w-1/3 bg-slate-50 border border-slate-200 rounded-xl px-3 py-3 text-xs font-bold text-slate-700 outline-none focus:border-blue-500 transition-colors"}),m.jsx("input",{type:"text",value:n,onChange:A=>o(A.target.value),placeholder:"",className:"flex-1 bg-slate-50 border border-slate-200 rounded-xl px-4 py-3 text-sm font-bold text-slate-700 outline-none focus:border-blue-500 transition-colors"})]}),m.jsxs("div",{className:"flex gap-3",children:[m.jsxs("div",{className:"relative flex-1",children:[m.jsx("span",{className:"absolute left-4 top-3.5 text-slate-400 text-xs font-bold",children:""}),m.jsx("input",{type:"number",value:r,onChange:A=>i(A.target.value),placeholder:"",className:"w-full bg-slate-50 border border-slate-200 rounded-xl pl-10 pr-20 py-3 text-sm font-bold text-slate-700 outline-none focus:border-blue-500 transition-colors"}),r&&m.jsxs("div",{className:"absolute right-3 top-3.5 text-xs font-bold text-emerald-600 bg-emerald-50 px-1.5 rounded pointer-events-none",children:[" $",Math.round(parseFloat(r)*(x||s)).toLocaleString()]})]}),h?m.jsxs("div",{className:"flex gap-2",children:[m.jsx("button",{type:"button",onClick:E,className:"bg-slate-200 hover:bg-slate-300 text-slate-600 rounded-xl px-3 flex items-center justify-center transition-colors font-bold text-xs",children:""}),m.jsx("button",{type:"submit",disabled:!n||!r,className:"bg-blue-600 hover:bg-blue-700 text-white rounded-xl px-4 flex items-center justify-center transition-colors disabled:opacity-50 shadow-lg shadow-blue-200 active:scale-95",children:m.jsx(Ni,{size:20})})]}):m.jsx("button",{type:"submit",disabled:!n||!r,className:"bg-blue-600 hover:bg-blue-700 text-white rounded-xl px-4 flex items-center justify-center transition-colors disabled:opacity-50 shadow-lg shadow-blue-200 active:scale-95",children:m.jsx(eu,{size:24})})]})]})}),m.jsx("div",{className:"flex-1 overflow-y-auto space-y-3 pb-24 pr-1",children:I.length===0?m.jsxs("div",{className:"flex flex-col items-center justify-center py-10 opacity-50",children:[m.jsx(Pi,{size:48,className:"text-slate-300 mb-2"}),m.jsx("p",{className:"text-slate-400 font-bold text-sm",children:""})]}):I.map(A=>{var O;return m.jsxs("div",{onClick:()=>S(A),className:`p-4 rounded-2xl shadow-sm border flex items-center justify-between group active:scale-[0.99] transition-all cursor-pointer ${h===A.id?"bg-blue-50 border-blue-300 ring-2 ring-blue-100":"bg-white border-slate-50 hover:border-blue-100"}`,children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsxs("div",{className:`w-10 h-10 rounded-full flex flex-col items-center justify-center flex-shrink-0 transition-colors ${h===A.id?"bg-blue-100 text-blue-500":"bg-slate-100 text-slate-500"}`,children:[m.jsxs("span",{className:"text-[8px] font-bold opacity-60 uppercase",children:[k(A.date).split("/")[0],"/",k(A.date).split("/")[1]]}),m.jsx(Fv,{size:14,className:"mt-0.5"})]}),m.jsxs("div",{className:"min-w-0",children:[m.jsx("div",{className:"font-bold text-slate-800 text-sm truncate pr-2",children:A.title}),m.jsxs("div",{className:"text-[10px] text-slate-400 font-medium",children:[" ",A.amountKRW.toLocaleString()]})]})]}),m.jsxs("div",{className:"flex items-center gap-3 flex-shrink-0",children:[m.jsxs("div",{className:"text-right",children:[m.jsxs("div",{className:"font-black text-slate-800 text-sm",children:["NT$ ",A.amountTWD.toLocaleString()]}),m.jsxs("div",{className:"text-[9px] text-slate-300 font-medium",children:["@",(O=A.exchangeRate)==null?void 0:O.toFixed(3)]})]}),m.jsx("button",{onClick:H=>{H.stopPropagation(),w(A.id)},className:"text-slate-300 hover:text-red-500 transition-colors p-2 -mr-2 rounded-full hover:bg-red-50",children:m.jsx(ns,{size:16})})]})]},A.id)})})]})},GI=({isOpen:e,onClose:t})=>{const[n,o]=b.useState(""),[r,i]=b.useState(!1);b.useEffect(()=>{if(e){const u=localStorage.getItem("GEMINI_API_KEY");u&&o(u),i(!1)}},[e]);const s=()=>{n.trim()?localStorage.setItem("GEMINI_API_KEY",n.trim()):localStorage.removeItem("GEMINI_API_KEY"),i(!0),setTimeout(()=>{i(!1),t()},1e3)};return e?m.jsx("div",{className:"absolute inset-0 z-50 flex items-center justify-center px-6 bg-slate-900/40 backdrop-blur-sm animate-in fade-in duration-200",children:m.jsxs("div",{className:"bg-white w-full max-w-[320px] rounded-[32px] p-6 shadow-2xl relative animate-in zoom-in-95 duration-200",children:[m.jsx("button",{onClick:t,className:"absolute top-4 right-4 p-2 rounded-full bg-slate-50 text-slate-400 hover:bg-slate-100 transition-colors",children:m.jsx(os,{size:20})}),m.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[m.jsx("div",{className:"w-12 h-12 rounded-2xl bg-indigo-100 flex items-center justify-center text-indigo-600 shadow-sm",children:m.jsx(Iv,{size:24})}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-lg font-bold text-slate-800",children:"API "}),m.jsx("p",{className:"text-xs text-slate-400 font-medium",children:"Bring Your Own Key"})]})]}),m.jsxs("div",{className:"space-y-4",children:[m.jsx("div",{className:"bg-slate-50 p-3 rounded-2xl border border-slate-100",children:m.jsxs("p",{className:"text-[11px] text-slate-500 leading-relaxed flex gap-2",children:[m.jsx(dv,{size:14,className:"flex-shrink-0 mt-0.5 text-indigo-500"}),m.jsx("span",{children:" Google Gemini API Key  AI "})]})}),m.jsxs("div",{className:"relative",children:[m.jsx("label",{className:"text-xs font-bold text-slate-400 ml-1 mb-1 block",children:"Gemini API Key"}),m.jsx("input",{type:"password",value:n,onChange:u=>{o(u.target.value),i(!1)},placeholder:" API Key",className:"w-full bg-white border border-slate-200 rounded-2xl px-4 py-3 text-sm font-bold text-slate-700 outline-none focus:border-indigo-500 focus:ring-4 focus:ring-indigo-50 transition-all placeholder:text-slate-300 placeholder:font-normal"})]}),m.jsx("button",{onClick:s,className:`w-full py-3.5 rounded-2xl font-bold text-white flex items-center justify-center gap-2 shadow-lg transition-all active:scale-95 ${r?"bg-green-500 shadow-green-200":"bg-indigo-600 hover:bg-indigo-700 shadow-indigo-200"}`,children:r?m.jsxs(m.Fragment,{children:[m.jsx(Wh,{size:18}),m.jsx("span",{children:""})]}):m.jsxs(m.Fragment,{children:[m.jsx(Mv,{size:18}),m.jsx("span",{children:""})]})}),m.jsx("div",{className:"text-center",children:m.jsx("a",{href:"https://aistudio.google.com/app/apikey",target:"_blank",rel:"noreferrer",className:"text-[10px] font-bold text-indigo-500 hover:underline",children:" Gemini API Key "})})]})]})}):null},HI=e=>e<=1?"sunny":e<=48?"cloudy":"rainy",hg=e=>{const[t,n,o]=e.split("-").map(Number),r=new Date(t,n-1,o);return["","","","","","",""][r.getDay()]},mg=e=>{const[t,n,o]=e.split("-").map(Number);return`${n}/${o}`},BI=(e,t)=>{const n=[];if(!e||!t)return[];const[o,r,i]=e.split("-").map(Number),[s,u,d]=t.split("-").map(Number),c=new Date(o,r-1,i),p=new Date(s,u-1,d).getTime()-c.getTime(),h=Math.ceil(p/(1e3*60*60*24)),g=Math.max(0,Math.min(h,30));for(let y=0;y<=g;y++){const T=new Date(c);T.setDate(c.getDate()+y);const x=T.getFullYear(),v=String(T.getMonth()+1).padStart(2,"0"),S=String(T.getDate()).padStart(2,"0"),E=`${x}-${v}-${S}`;n.push({id:E,day:hg(E),date:mg(E),fullDate:E,condition:"unknown"})}return n},zI=e=>{let t=0;return e?(e.forEach(n=>{if(n.budget){const o=parseInt(n.budget.replace(/[^0-9]/g,""),10);isNaN(o)||(t+=o)}}),t>0?`${t.toLocaleString()}`:null):null},qI=({isOpen:e,onClose:t,onConfirm:n})=>e?m.jsx("div",{className:"absolute inset-0 z-50 flex items-center justify-center px-8 bg-black/30 backdrop-blur-sm animate-in fade-in duration-200",children:m.jsxs("div",{className:"bg-white w-full max-w-sm rounded-3xl p-6 shadow-2xl transform scale-100 transition-all",children:[m.jsxs("div",{className:"flex flex-col items-center text-center mb-6",children:[m.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center mb-4",children:m.jsx(ns,{size:24,className:"text-red-500"})}),m.jsx("h3",{className:"text-lg font-bold text-slate-800",children:""}),m.jsx("p",{className:"text-sm text-slate-400 mt-2",children:""})]}),m.jsxs("div",{className:"flex gap-3",children:[m.jsx("button",{onClick:t,className:"flex-1 py-3 rounded-xl bg-slate-100 text-slate-600 font-bold text-sm hover:bg-slate-200 transition-colors",children:""}),m.jsx("button",{onClick:n,className:"flex-1 py-3 rounded-xl bg-red-500 text-white font-bold text-sm hover:bg-red-600 shadow-lg shadow-red-200 transition-colors",children:""})]})]})}):null;function OI(){const[e,t]=b.useState(null),[n,o]=b.useState(!0),[r,i]=b.useState(""),[s,u]=b.useState({}),[d,c]=b.useState([]),[f,p]=b.useState([]),[h,g]=b.useState([]),[y,T]=b.useState({outbound:{airline:"",flightNumber:"",time:"",terminal:""},inbound:{airline:"",flightNumber:"",time:"",terminal:""}}),[x,v]=b.useState({name:"",address:"",checkIn:"",checkOut:"",bookingRef:""}),[S,E]=b.useState(()=>{const U=new Date,V=U.getFullYear(),J=String(U.getMonth()+1).padStart(2,"0"),fe=String(U.getDate()).padStart(2,"0");return`${V}-${J}-${fe}`}),[C,w]=b.useState(()=>{const U=new Date;U.setDate(U.getDate()+4);const V=U.getFullYear(),J=String(U.getMonth()+1).padStart(2,"0"),fe=String(U.getDate()).padStart(2,"0");return`${V}-${J}-${fe}`}),[N,I]=b.useState(1),[P,M]=b.useState([]),[k,A]=b.useState("itinerary"),[O,H]=b.useState(!1),[ee,Ne]=b.useState(!1),[X,ze]=b.useState(!1),[D,B]=b.useState(!1),[q,K]=b.useState(null),[j,it]=b.useState(null),[Ae,st]=b.useState(null),[vt,an]=b.useState(!1);b.useEffect(()=>{const U=localStorage.getItem("seoul_travel_user");if(U){const V=JSON.parse(U);t(V),o(!1)}},[]),b.useEffect(()=>{if(!e)return;(async()=>{try{const V=await II(e.uid);if(V.meta&&(i(V.meta.title),V.meta.startDate&&E(V.meta.startDate.substring(0,10)),V.meta.endDate&&w(V.meta.endDate.substring(0,10))),V.itinerary){const J={};V.itinerary.forEach(fe=>{const wt=Number(fe.day)||1;J[wt]||(J[wt]=[]),J[wt].push(fe)}),u(J)}V.logistics&&(V.logistics.flights&&T(J=>({outbound:{...J.outbound,...V.logistics.flights.outbound||{}},inbound:{...J.inbound,...V.logistics.flights.inbound||{}}})),V.logistics.hotel&&v(J=>({...J,...V.logistics.hotel}))),V.checklists&&(c(V.checklists.filter(J=>J.category==="luggage")),p(V.checklists.filter(J=>J.category==="shopping"))),V.expenses&&g(V.expenses)}catch(V){console.error("Failed to fetch initial data:",V)}})()},[e]);const yg=U=>{const V=U.target.value,J=r;Df(()=>i(V),()=>It("update_meta",{title:V},e.uid),()=>i(J))},vg=(U,V)=>{const J=S,fe=C;Df(()=>{E(U),w(V)},()=>It("update_meta",{startDate:U,endDate:V},e.uid),()=>{E(J),w(fe)})};b.useEffect(()=>{M(BI(S,C)),S&&C&&(async()=>{try{const J=await(await fetch(`https://api.open-meteo.com/v1/forecast?latitude=37.5665&longitude=126.9780&daily=weathercode,temperature_2m_max,temperature_2m_min&timezone=Asia%2FSeoul&start_date=${S}&end_date=${C}`)).json();if(J.daily&&J.daily.time){const{time:fe,weathercode:wt,temperature_2m_max:Mg,temperature_2m_min:Dg}=J.daily,Lg=fe.map((mr,gs)=>({id:mr,day:hg(mr),date:mg(mr),fullDate:mr,tempHigh:Mg[gs],tempLow:Dg[gs],condition:HI(wt[gs])}));M(Lg)}}catch{}})()},[S,C]);const xg=U=>{t(U),o(!1)},Sg=()=>{t(null),o(!0),localStorage.removeItem("seoul_travel_user"),Ne(!1),u({}),c([]),p([]),g([])},pr=U=>{u(V=>({...V,[N]:U})),It("update_itinerary",{day:N,items:U},e==null?void 0:e.uid)},Eg=U=>{c(U),It("update_checklist",{category:"luggage",items:U},e==null?void 0:e.uid)},Tg=U=>{p(U),It("update_checklist",{category:"shopping",items:U},e==null?void 0:e.uid)},Cg=U=>{g(U),It("update_expenses",{items:U},e==null?void 0:e.uid)},_g=U=>{T(U),It("update_logistics",{type:"flights",data:U},e==null?void 0:e.uid)},wg=U=>{v(U),It("update_logistics",{type:"hotel",data:U},e==null?void 0:e.uid)},qe=s[N]||[],hr=P[N-1]||{day:"---",date:"--/--"},yu=zI(qe),vu=(U,V)=>{const J=[...qe],fe=V==="up"?U-1:U+1;fe>=0&&fe<J.length&&([J[U],J[fe]]=[J[fe],J[U]],pr(J))},Ig=U=>{K(U),B(!0)},Ng=()=>{q&&(pr(qe.filter(U=>U.id!==q)),K(null),B(!1))},Ag=U=>{const V={id:Date.now().toString(),title:U.title||"",time:U.time||"10:00 AM",category:U.category||"",address:U.address||"",addressKR:U.addressKR,budget:U.budget};pr([...qe,V])},Rg=async(U,V)=>{it(U);const J=await Yw(V),fe=qe.map(wt=>wt.id===U?{...wt,aiInsight:J}:wt);pr(fe),it(null)},kg=async()=>{an(!0),st(null);const U=qe.map(J=>J.title),V=await Qw(U,N);st(V),an(!1)};if(n)return m.jsx("div",{className:"min-h-screen w-full bg-[#E2E8F0] flex items-center justify-center font-sans",children:m.jsx(DI,{onLogin:xg})});const Pg=()=>k==="expenses"?m.jsx(VI,{expenses:h,onUpdateExpenses:Cg}):k==="info"?m.jsx(bI,{startDate:S,endDate:C,onDateChange:vg,flightInfo:y,onFlightChange:_g,hotelInfo:x,onHotelChange:wg}):k==="checklist"?m.jsx(UI,{luggage:d,shopping:f,onUpdateLuggage:Eg,onUpdateShopping:Tg}):k==="map"?m.jsxs("div",{className:"px-6 py-4",children:[m.jsxs("div",{className:"mb-6",children:[m.jsx("h2",{className:"text-2xl font-black text-slate-800",children:""}),m.jsxs("p",{className:"text-sm text-slate-400 font-medium",children:[hr.date," (",hr.day,")  ",qe.length," "]})]}),qe.length===0?m.jsxs("div",{className:"flex flex-col items-center justify-center py-20 opacity-50",children:[m.jsx(or,{size:48,className:"text-slate-300 mb-4"}),m.jsx("p",{className:"text-slate-400 font-bold",children:""}),m.jsx("button",{onClick:()=>A("itinerary"),className:"mt-4 text-blue-500 font-bold text-sm",children:""})]}):m.jsxs("div",{className:"pb-24",children:[qe.map((U,V)=>m.jsx(PI,{item:U,index:V,total:qe.length},U.id)),m.jsx("div",{className:"flex justify-center mt-8 text-slate-300 text-xs font-bold uppercase tracking-widest",children:"End of Route"})]})]}):m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"px-4 mb-6",children:m.jsx("div",{className:"flex gap-2 overflow-x-auto pb-4 pt-2 px-2 scrollbar-hide snap-x",children:P.map((U,V)=>{const J=V+1,fe=N===J;return m.jsx("div",{onClick:()=>{I(J),st(null)},className:"snap-start",children:m.jsx(AI,{item:U,isSelected:fe})},U.id||V)})})}),m.jsx("div",{className:"px-6 sticky top-0 bg-[#F8FAFC]/80 backdrop-blur-md z-10 py-4 mb-4 border-b border-slate-100/50",children:m.jsxs("div",{className:"flex justify-between items-end",children:[m.jsxs("div",{children:[m.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[m.jsx(Jh,{size:14,className:"text-blue-500"}),m.jsxs("span",{className:"text-xs font-bold text-blue-500 uppercase tracking-wider",children:["Day ",N]})]}),m.jsxs("h2",{className:"text-2xl font-black text-slate-800 flex items-center gap-2",children:[hr.date,m.jsxs("span",{className:"text-lg font-medium text-slate-400",children:["(",hr.day,")"]})]})]}),m.jsxs("div",{className:"flex flex-col items-end",children:[m.jsx("span",{className:"text-[10px] font-bold text-slate-400 mb-0.5",children:""}),yu?m.jsx("span",{className:"text-lg font-black text-emerald-600 bg-emerald-50 px-2 rounded-lg",children:yu}):m.jsx("span",{className:"text-xs font-medium text-slate-300",children:"--"})]})]})}),m.jsxs("div",{className:"px-5 min-h-[300px]",children:[qe.length===0?m.jsxs("div",{className:"flex flex-col items-center justify-center py-16 text-slate-300 border-2 border-dashed border-slate-100 rounded-[32px] mb-4 bg-slate-50/50",children:[m.jsx(or,{size:48,className:"mb-4 text-slate-200"}),m.jsx("p",{className:"text-sm font-bold text-slate-400",children:""}),m.jsx("button",{onClick:()=>H(!0),className:"mt-4 px-6 py-2 bg-white shadow-sm border border-slate-100 rounded-full text-xs font-bold text-blue-500 hover:text-blue-600",children:""})]}):qe.map((U,V)=>m.jsx(kI,{item:U,index:V,total:qe.length,onMoveUp:()=>vu(V,"up"),onMoveDown:()=>vu(V,"down"),onDelete:()=>Ig(U.id),onGenerateInsight:Rg,loadingInsight:j===U.id},U.id)),m.jsxs("div",{className:"mt-8 mb-8 space-y-3",children:[m.jsxs("button",{onClick:kg,disabled:vt,className:"w-full h-14 bg-gradient-to-r from-indigo-500 to-purple-600 rounded-2xl flex items-center justify-center text-white font-bold shadow-xl shadow-indigo-200 hover:shadow-2xl hover:shadow-indigo-300 active:scale-95 transition-all gap-2",children:[vt?m.jsx(ts,{className:"animate-spin"}):m.jsx(Ri,{}),m.jsx("span",{children:"AI  & "})]}),Ae&&m.jsxs("div",{className:"p-5 bg-white rounded-2xl border border-indigo-100 shadow-lg shadow-indigo-50 animate-in slide-in-from-bottom-4 relative",children:[m.jsx("button",{onClick:()=>st(null),className:"absolute top-3 right-3 text-slate-300 hover:text-slate-500",children:m.jsx(os,{size:16})}),m.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[m.jsx(kv,{size:18,className:"text-indigo-500"}),m.jsx("h4",{className:"font-bold text-slate-800",children:"AI "})]}),m.jsx("p",{className:"text-sm text-slate-600 leading-relaxed font-medium",children:Ae})]})]})]})]});return m.jsx("div",{className:"min-h-screen w-full bg-[#E2E8F0] flex items-center justify-center py-0 sm:py-8 font-sans",children:m.jsxs("div",{className:"w-full h-screen sm:h-[850px] sm:w-[390px] bg-[#F8FAFC] sm:rounded-[48px] shadow-2xl overflow-hidden flex flex-col relative border-[8px] border-slate-900 sm:ring-4 ring-black/5",style:{backgroundImage:'url("https://images.unsplash.com/photo-1538485399081-7191377e8241?auto=format&fit=crop&w=400&q=80")',backgroundSize:"cover",backgroundPosition:"center"},children:[m.jsx("div",{className:"absolute inset-0 bg-[#F8FAFC]/95 z-0"}),m.jsx("div",{className:"h-7 w-full z-30 absolute top-0 flex justify-center",children:m.jsx("div",{className:"w-32 h-6 bg-slate-900 rounded-b-2xl sm:block hidden"})}),m.jsx(MI,{isOpen:O,onClose:()=>H(!1),onAdd:Ag}),m.jsx(LI,{isOpen:ee,onClose:()=>Ne(!1),tripId:(e==null?void 0:e.uid)||"",onLogout:Sg}),m.jsx(GI,{isOpen:X,onClose:()=>ze(!1)}),m.jsx(qI,{isOpen:D,onClose:()=>B(!1),onConfirm:Ng}),m.jsx(FI,{}),m.jsxs("div",{className:"px-6 pt-12 pb-2 flex justify-between items-center z-20 relative",children:[m.jsxs("div",{className:"flex-1 mr-4 group",children:[m.jsx("p",{className:"text-xs font-bold text-blue-600 uppercase tracking-wider mb-1",children:"Seoul Travel Planner"}),m.jsxs("div",{className:"relative",children:[m.jsx("input",{type:"text",value:r,onChange:yg,className:"text-2xl font-black text-slate-800 tracking-tight bg-transparent border-b-2 border-transparent hover:border-slate-200 focus:border-blue-500 focus:outline-none w-full transition-colors placeholder:text-slate-300 pr-8",placeholder:""}),m.jsx(Pv,{size:16,className:"absolute right-0 top-1.5 text-slate-300 opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none"})]})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("button",{onClick:()=>ze(!0),className:"p-1 rounded-full ring-2 ring-white/50 shadow-sm active:scale-95 transition-all bg-white/50 backdrop-blur-sm flex-shrink-0 text-slate-500 hover:text-blue-600",children:m.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center",children:m.jsx(Lv,{size:20})})}),m.jsx("button",{onClick:()=>Ne(!0),className:"p-1 rounded-full ring-2 ring-white/50 shadow-sm active:scale-95 transition-all bg-white/50 backdrop-blur-sm flex-shrink-0",children:m.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center text-blue-600 font-bold text-sm",children:m.jsx(Qh,{size:20})})})]})]}),m.jsx("div",{className:"flex-1 overflow-y-auto pb-40 scrollbar-hide relative z-10",children:Pg()}),k==="itinerary"&&m.jsx("div",{className:"absolute bottom-24 right-6 z-20",children:m.jsx("button",{onClick:()=>H(!0),className:"w-14 h-14 bg-slate-900 rounded-full flex items-center justify-center shadow-xl shadow-slate-300 hover:scale-110 hover:bg-black transition-all active:scale-95 text-white",children:m.jsx(eu,{size:24})})}),m.jsxs("div",{className:"absolute bottom-0 w-full h-20 bg-white/90 backdrop-blur-lg border-t border-slate-100 flex justify-around items-center px-4 pb-2 z-30",children:[m.jsxs("button",{onClick:()=>A("itinerary"),className:`flex flex-col items-center gap-1.5 transition-colors ${k==="itinerary"?"text-blue-600":"text-slate-300 hover:text-slate-500"}`,children:[m.jsx(Rv,{size:20,strokeWidth:k==="itinerary"?3:2.5}),m.jsx("span",{className:"text-[9px] font-bold",children:""})]}),m.jsxs("button",{onClick:()=>A("map"),className:`flex flex-col items-center gap-1.5 transition-colors ${k==="map"?"text-blue-600":"text-slate-300 hover:text-slate-500"}`,children:[m.jsx(ja,{size:20,strokeWidth:k==="map"?3:2.5}),m.jsx("span",{className:"text-[9px] font-bold",children:""})]}),m.jsxs("button",{onClick:()=>A("checklist"),className:`flex flex-col items-center gap-1.5 transition-colors ${k==="checklist"?"text-blue-600":"text-slate-300 hover:text-slate-500"}`,children:[m.jsx(Sv,{size:20,strokeWidth:k==="checklist"?3:2.5}),m.jsx("span",{className:"text-[9px] font-bold",children:""})]}),m.jsxs("button",{onClick:()=>A("expenses"),className:`flex flex-col items-center gap-1.5 transition-colors ${k==="expenses"?"text-blue-600":"text-slate-300 hover:text-slate-500"}`,children:[m.jsx(Pi,{size:20,strokeWidth:k==="expenses"?3:2.5}),m.jsx("span",{className:"text-[9px] font-bold",children:""})]}),m.jsxs("button",{onClick:()=>A("info"),className:`flex flex-col items-center gap-1.5 transition-colors ${k==="info"?"text-blue-600":"text-slate-300 hover:text-slate-500"}`,children:[m.jsx(_v,{size:20,strokeWidth:k==="info"?3:2.5}),m.jsx("span",{className:"text-[9px] font-bold",children:""})]})]})]})})}const gg=document.getElementById("root");if(!gg)throw new Error("Could not find root element to mount to");const $I=Ks.createRoot(gg);$I.render(m.jsx(Xg.StrictMode,{children:m.jsx(OI,{})}));
